window.__require=function t(e,n,o){function r(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({AddRuneOP:[function(t,e,n){"use strict";cc._RF.push(e,"86638qVpAFBnrjg0ICTkf7/","AddRuneOP");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AddRuneOP=void 0;var a=t("./CardOPEffectBase"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onEffect=function(t,e){this.game.ring.insertRuneTo(t.data.endIdx,e.cfg.runeId,e.cfg.runeVal)},i([s("AddRuneOP")],e)}(a.CardOPEffectBase));n.AddRuneOP=u,cc._RF.pop()},{"./CardOPEffectBase":"CardOPEffectBase"}],AnimationManager:[function(t,e,n){"use strict";cc._RF.push(e,"f6d48dZfkZGQpINK4kw2KR8","AnimationManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.AM=void 0;var o=cc._decorator,r=(o.ccclass,o.property,function(t){this.animState=null,this.animSpeed=1,this.scaled=!0,this.animCom=t}),i=function(){function t(){}return t.play=function(t,e,n,o){void 0===n&&(n=1),void 0===o&&(o=!0);var i,a=t.play(e);a||console.error("\u52a8\u753b\u540d\u4e0d\u5b58\u5728\uff01\u8bf7\u68c0\u67e5",t.node.name,"\u4e2d\u7684\u52a8\u753b\u540d\uff1a",e),this.animMap.has(t)?((i=this.animMap.get(t)).animState=a,i.animSpeed=n,i.scaled=o,a.speed=i.scaled?this.speedScale*i.animSpeed:i.animSpeed):((i=new r(t)).animState=a,i.animSpeed=n,i.scaled=o,this.animMap.set(t,i),a.speed=i.scaled?this.speedScale*i.animSpeed:i.animSpeed)},t.setSpeed=function(t,e){if(this.animMap.has(t)){var n=this.animMap.get(t);n.animSpeed=e,n.animState.speed=n.scaled?this.speedScale*n.animSpeed:n.animSpeed}},t.updateScale=function(t){this.animMap.forEach(function(e){e.animState.speed=e.scaled?t*e.animSpeed:e.animSpeed}),this.speedScale=t},t.getAnimState=function(t){var e;return null===(e=this.animMap.get(t))||void 0===e?void 0:e.animState},t.animMap=new Map,t.speedScale=1,t}();n.AM=i,window.AM=i,cc._RF.pop()},{}],AnimatorAnimation:[function(t,e,n){"use strict";cc._RF.push(e,"dd8ceFOexxNd4zNSoUeuKCn","AnimatorAnimation");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./core/AnimatorBase")),s=cc._decorator,u=s.ccclass,l=(s.property,s.requireComponent),f=s.disallowMultiple,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._animation=null,e._animState=null,e._wrapModeMap=new Map,e}return r(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._animation=this.getComponent(cc.Animation),this._animation.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(cc.Animation.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._animation=this.getComponent(cc.Animation),this._animation.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(cc.Animation.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){t&&(this._animState=this._animation.play(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=e?cc.WrapMode.Loop:this._wrapModeMap.get(this._animState)))},e.prototype.scaleTime=function(t){this._animState&&(this._animState.speed=t)},i([u,f,l(cc.Animation)],e)}(c.default);n.default=p,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorBase:[function(t,e,n){"use strict";cc._RF.push(e,"fcb57wXRiJPxr3O0twteSO5","AnimatorBase");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(t("./AnimatorController")),l=cc._decorator,f=l.ccclass,p=l.property,h=l.executionOrder,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AssetRawUrl=null,e.PlayOnStart=!0,e.AutoUpdate=!0,e._hasInit=!1,e._ac=null,e._stateLogicMap=null,e._onStateChangeCall=null,e._animationPlayer=null,e._extraMulti=1,e.finishInitCall=null,e}return r(e,t),Object.defineProperty(e.prototype,"extraMulti",{get:function(){return this._extraMulti},set:function(t){this._extraMulti!==t&&(this._extraMulti=t,this.updatePlaySpeed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curStateName",{get:function(){return this._ac.curState.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curStateMotion",{get:function(){return this._ac.curState.motion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animComplete",{get:function(){return this._ac.animComplete},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.initArgs=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach(function(e){e&&("function"==typeof e?t._onStateChangeCall=e:"object"==typeof e&&(e instanceof Map?t._stateLogicMap=e:(t._animationPlayer=e,t._animationPlayer.setFinishedCallback(t.onAnimFinished,t))))})},e.prototype.updatePlaySpeed=function(){var t=this._ac.curState.speed*this.extraMulti;this._ac.curState.multi&&(t*=this._ac.params.getNumber(this._ac.curState.multi)||1),this.scaleTime(t)},e.prototype.updateAnimator=function(){if(this.updatePlaySpeed(),this._stateLogicMap){var t=this._stateLogicMap.get(this._ac.curState.name);t&&t.onUpdate()}this._ac.updateAnimator()},e.prototype.update=function(){this._hasInit&&this.AutoUpdate&&this.updateAnimator()},e.prototype.manualUpdate=function(){this._hasInit&&!this.AutoUpdate&&this.updateAnimator()},e.prototype.initJson=function(t){this._ac=new u.default(this,t),this._ac.changeState(t.defaultState),this.finishInitCall&&this.finishInitCall()},e.prototype.awaitInited=function(){return a(this,void 0,void 0,function(){var t=this;return c(this,function(){return[2,new Promise(function(e){return t._hasInit?void e():void(t.finishInitCall=function(){return e()})})]})})},e.prototype.onAnimFinished=function(){this._ac.onAnimationComplete()},e.prototype.playAnimation=function(){},e.prototype.scaleTime=function(){},e.prototype.onStateChange=function(t,e){this.playAnimation(e.motion,e.loop);var n=t?t.name:"";if(this._stateLogicMap){var o=this._stateLogicMap.get(n);o&&o.onExit();var r=this._stateLogicMap.get(e.name);r&&r.onEntry()}this._onStateChangeCall&&this._onStateChangeCall(n,e.name)},e.prototype.setBool=function(t,e){this._ac.params.setBool(t,e)},e.prototype.getBool=function(t){return 0!==this._ac.params.getBool(t)},e.prototype.setNumber=function(t,e){this._ac.params.setNumber(t,e)},e.prototype.getNumber=function(t){return this._ac.params.getNumber(t)},e.prototype.setTrigger=function(t){this._ac.params.setTrigger(t)},e.prototype.resetTrigger=function(t){this._ac.params.resetTrigger(t)},e.prototype.autoTrigger=function(t){this._ac.params.autoTrigger(t)},e.prototype.play=function(t){this._hasInit&&this._ac.play(t)},i([p({type:cc.JsonAsset,tooltip:!1})],e.prototype,"AssetRawUrl",void 0),i([p({tooltip:!1})],e.prototype,"PlayOnStart",void 0),i([p({tooltip:!1})],e.prototype,"AutoUpdate",void 0),i([f,h(-1e3)],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./AnimatorController":"AnimatorController"}],AnimatorCondition:[function(t,e,n){"use strict";var o,r;cc._RF.push(e,"3aabdL+WyJN1aO7cbjORDrr","AnimatorCondition"),Object.defineProperty(n,"__esModule",{value:!0}),n.LogicType=n.ParamType=void 0,function(t){t[t.COMPLETE=0]="COMPLETE",t[t.BOOLEAN=1]="BOOLEAN",t[t.NUMBER=2]="NUMBER",t[t.TRIGGER=3]="TRIGGER",t[t.AUTO_TRIGGER=4]="AUTO_TRIGGER"}(o=n.ParamType||(n.ParamType={})),function(t){t[t.EQUAL=0]="EQUAL",t[t.NOTEQUAL=1]="NOTEQUAL",t[t.GREATER=2]="GREATER",t[t.LESS=3]="LESS",t[t.GREATER_EQUAL=4]="GREATER_EQUAL",t[t.LESS_EQUAL=5]="LESS_EQUAL"}(r=n.LogicType||(n.LogicType={}));var i=function(){function t(t,e){this._ac=null,this._param="",this._value=0,this._logic=r.EQUAL,this._ac=e,this._param=t.param,this._value=t.value,this._logic=t.logic}return t.prototype.getParamName=function(){return this._param},t.prototype.getParamType=function(){return this._ac.params.getParamType(this._param)},t.prototype.check=function(){var t=this.getParamType();if(t===o.BOOLEAN)return this._ac.params.getBool(this._param)===this._value;if(t!==o.NUMBER)return t===o.AUTO_TRIGGER?0!==this._ac.params.getAutoTrigger(this._param):t===o.TRIGGER?0!==this._ac.params.getTrigger(this._param):(cc.error("[AnimatorCondition.check] \u9519\u8bef\u7684type: "+t),!1);var e=this._ac.params.getNumber(this._param);switch(this._logic){case r.EQUAL:return e===this._value;case r.NOTEQUAL:return e!==this._value;case r.GREATER:return e>this._value;case r.LESS:return e<this._value;case r.GREATER_EQUAL:return e>=this._value;case r.LESS_EQUAL:return e<=this._value;default:return!1}},t}();n.default=i,cc._RF.pop()},{}],AnimatorController:[function(t,e,n){"use strict";cc._RF.push(e,"12dbbwsQlBAa7Z8VdYL+ron","AnimatorController");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./AnimatorParams")),i=o(t("./AnimatorState")),a=function(){function t(t,e){this._jsonData=null,this._animator=null,this._params=null,this._states=null,this._anyState=null,this._curState=null,this._changeCount=0,this.animCompleteState=null,this.animComplete=!1,this._animator=t,this._jsonData=e,this._states=new Map,this._params=new r.default(e.parameters),this.init(e)}return Object.defineProperty(t.prototype,"curState",{get:function(){return this._curState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!1,configurable:!0}),t.prototype.init=function(t){if(t.states.length<=0)cc.error("[AnimatorController.init] \u72b6\u6001\u673ajson\u9519\u8bef");else{this._anyState=new i.default(t.anyState,this);for(var e=0;e<t.states.length;e++){var n=new i.default(t.states[e],this);this._states.set(n.name,n)}}},t.prototype.updateState=function(){this._curState.checkAndTrans(),this._curState!==this._anyState&&null!==this._anyState&&this._anyState.checkAndTrans()},t.prototype.updateAnimator=function(){this._changeCount=0,this.updateState(),this.animComplete&&this.animCompleteState.loop&&(this.animComplete=!1),this.params.resetAllAutoTrigger()},t.prototype.onAnimationComplete=function(){this.animComplete=!0,this.animCompleteState=this._curState},t.prototype.play=function(t){if(this._states.has(t)){this.animComplete=!1;var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},t.prototype.changeState=function(t){if(this._changeCount++,this._changeCount>1e3)cc.error("[AnimatorController.changeState] error: \u72b6\u6001\u5207\u6362\u9012\u5f52\u8c03\u7528\u8d85\u8fc71000\u6b21\uff0ctransition\u8bbe\u7f6e\u53ef\u80fd\u51fa\u9519!");else if(!this._states.has(t)||null!==this._curState&&this._curState.name===t)cc.error("[AnimatorController.changeState] error state: "+t);else{var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},t}();n.default=a,cc._RF.pop()},{"./AnimatorParams":"AnimatorParams","./AnimatorState":"AnimatorState"}],AnimatorCustomization:[function(t,e,n){"use strict";cc._RF.push(e,"b1e26Sb95tMAJIdBDjsRnoG","AnimatorCustomization");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./core/AnimatorBase")),s=cc._decorator,u=s.ccclass,l=s.property,f=(s.requireComponent,s.disallowMultiple),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PlayOnStart=!1,e}return r(e,t),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){this._animationPlayer&&t&&this._animationPlayer.playAnimation(t,e)},e.prototype.scaleTime=function(t){this._animationPlayer&&this._animationPlayer.scaleTime(t)},i([l({override:!0,visible:!1})],e.prototype,"PlayOnStart",void 0),i([u,f],e)}(c.default);n.default=p,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorDragonBones:[function(t,e,n){"use strict";cc._RF.push(e,"1ac36L8hxZG6pjG+bsE+/CE","AnimatorDragonBones");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./core/AnimatorBase")),s=cc._decorator,u=s.ccclass,l=(s.property,s.requireComponent),f=s.disallowMultiple,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._dragonBones=null,e}return r(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._dragonBones=this.getComponent(dragonBones.ArmatureDisplay),this._dragonBones.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._dragonBones=this.getComponent(dragonBones.ArmatureDisplay),this._dragonBones.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){t&&this._dragonBones.playAnimation(t,e?0:-1)},e.prototype.scaleTime=function(t){this._dragonBones.timeScale=t},i([u,f,l(dragonBones.ArmatureDisplay)],e)}(c.default);n.default=p,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorParams:[function(t,e,n){"use strict";cc._RF.push(e,"bd149UxSfZOtqumtzcbiCTF","AnimatorParams"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AnimatorCondition"),r=function(){function t(t){var e=this;this._paramMap=new Map,t.forEach(function(t){var n={type:t.type,value:t.init};e._paramMap.set(t.param,n)})}return t.prototype.getParamType=function(t){var e=this._paramMap.get(t);return e?e.type:null},t.prototype.setNumber=function(t,e){var n=this._paramMap.get(t);n&&n.type===o.ParamType.NUMBER&&(n.value=e)},t.prototype.setBool=function(t,e){var n=this._paramMap.get(t);n&&n.type===o.ParamType.BOOLEAN&&(n.value=e?1:0)},t.prototype.setTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.TRIGGER&&(e.value=1)},t.prototype.resetTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.TRIGGER&&(e.value=0)},t.prototype.autoTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.AUTO_TRIGGER&&(e.value=1)},t.prototype.resetAutoTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.AUTO_TRIGGER&&(e.value=0)},t.prototype.resetAllAutoTrigger=function(){this._paramMap.forEach(function(t){t.type===o.ParamType.AUTO_TRIGGER&&(t.value=0)})},t.prototype.getNumber=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.NUMBER?e.value:0},t.prototype.getBool=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.BOOLEAN?e.value:0},t.prototype.getTrigger=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.TRIGGER?e.value:0},t.prototype.getAutoTrigger=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.AUTO_TRIGGER?e.value:0},t}();n.default=r,cc._RF.pop()},{"./AnimatorCondition":"AnimatorCondition"}],AnimatorSpineSecondary:[function(t,e,n){"use strict";cc._RF.push(e,"b85bbxD8VJDO6ERQbRHqxxc","AnimatorSpineSecondary");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./AnimatorSpine")),s=a(t("./core/AnimatorBase")),u=cc._decorator,l=u.ccclass,f=u.property,p=u.requireComponent,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TrackIndex=1,e._main=null,e._spine=null,e}return r(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(sp.Skeleton),this._main=this.getComponent(c.default),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._spine=this.getComponent(sp.Skeleton),this._main=this.getComponent(c.default),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){t?this._spine.setAnimation(this.TrackIndex,t,e):this._spine.clearTrack(this.TrackIndex)},i([f({tooltip:!1})],e.prototype,"TrackIndex",void 0),i([l,p(sp.Skeleton)],e)}(s.default);n.default=h,cc._RF.pop()},{"./AnimatorSpine":"AnimatorSpine","./core/AnimatorBase":"AnimatorBase"}],AnimatorSpine:[function(t,e,n){"use strict";cc._RF.push(e,"cc8acLFW2lPRaGyrdIrXtiB","AnimatorSpine");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./core/AnimatorBase")),s=cc._decorator,u=s.ccclass,l=(s.property,s.requireComponent),f=s.disallowMultiple,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spine=null,e._completeListenerMap=new Map,e._secondaryListenerMap=new Map,e}return r(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(sp.Skeleton),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._spine=this.getComponent(sp.Skeleton),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onSpineComplete=function(t){0===t.trackIndex&&this.onAnimFinished(),this._completeListenerMap.forEach(function(e,n){e?n.call(e,t):n(t)}),this._secondaryListenerMap.forEach(function(e,n){t.trackIndex===e.TrackIndex&&n.call(e,t)})},e.prototype.playAnimation=function(t,e){t&&this._spine.setAnimation(0,t,e)},e.prototype.scaleTime=function(t){this._spine.timeScale=t},e.prototype.addSecondaryListener=function(t,e){this._secondaryListenerMap.set(t,e)},e.prototype.addCompleteListener=function(t,e){void 0===e&&(e=null),this._completeListenerMap.has(t)||this._completeListenerMap.set(t,e)},e.prototype.removeCompleteListener=function(t){this._completeListenerMap.delete(t)},e.prototype.clearCompleteListener=function(){this._completeListenerMap.clear},i([u,f,l(sp.Skeleton)],e)}(c.default);n.default=p,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorStateLogic:[function(t,e,n){"use strict";cc._RF.push(e,"23df8tnWxNGyrVBMf9AR6lf","AnimatorStateLogic"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.onEntry=function(){},t.prototype.onUpdate=function(){},t.prototype.onExit=function(){},t}();n.default=o,cc._RF.pop()},{}],AnimatorState:[function(t,e,n){"use strict";cc._RF.push(e,"50c66ljdlBMqpd53Edy+EfD","AnimatorState");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./AnimatorTransition")),i=function(){function t(t,e){this._name="",this._motion="",this._loop=!1,this._speed=1,this._multi="",this._transitions=[],this._ac=null,this._name=t.state,this._motion=t.motion||"",this._loop=t.loop||!1,this._speed=t.speed||1,this._multi=t.multiplier||"",this._ac=e;for(var n=0;n<t.transitions.length;n++){var o=new r.default(t.transitions[n],e);o.isValid()&&this._transitions.push(o)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"motion",{get:function(){return this._motion},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multi",{get:function(){return this._multi},enumerable:!1,configurable:!0}),t.prototype.checkAndTrans=function(){for(var t=0;t<this._transitions.length;t++){var e=this._transitions[t];if(e&&e.check())return void e.doTrans()}},t}();n.default=i,cc._RF.pop()},{"./AnimatorTransition":"AnimatorTransition"}],AnimatorTransition:[function(t,e,n){"use strict";cc._RF.push(e,"25106KbpEVOA4QapAxzF6/x","AnimatorTransition");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e};Object.defineProperty(n,"__esModule",{value:!0});var a=i(t("./AnimatorCondition")),c=function(){function t(t,e){this._toStateName="",this._hasExitTime=!1,this._conditions=[],this._ac=null,this._toStateName=t.toState,this._hasExitTime=t.hasExitTime,this._ac=e;for(var n=0;n<t.conditions.length;n++){var o=new a.default(t.conditions[n],e);this._conditions.push(o)}}return t.prototype.isValid=function(){return this._hasExitTime||this._conditions.length>0},t.prototype.check=function(){if(this._toStateName===this._ac.curState.name)return!1;if(this._hasExitTime&&(this._ac.curState!==this._ac.animCompleteState||!this._ac.animComplete))return!1;for(var t=0;t<this._conditions.length;t++)if(!this._conditions[t].check())return!1;return!0},t.prototype.doTrans=function(){this._hasExitTime&&(this._ac.animComplete=!1);for(var t=0;t<this._conditions.length;t++){var e=this._conditions[t].getParamType(),n=this._conditions[t].getParamName();e===a.ParamType.TRIGGER?this._ac.params.resetTrigger(n):e===a.ParamType.AUTO_TRIGGER&&this._ac.params.resetAutoTrigger(n)}this._ac.changeState(this._toStateName)},t}();n.default=c,cc._RF.pop()},{"./AnimatorCondition":"AnimatorCondition"}],AtkMulRune:[function(t,e,n){"use strict";cc._RF.push(e,"f72edyzNxlB46tolfzkmqQW","AtkMulRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AtkMulRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="AttackRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.atk*=this.val},e.prototype.onInit=function(t){t.setData({val:"*"+this.val,destory:this.destory})},i([s("AtkMulRune")],e)}(a.RuneNodeInfo));n.AtkMulRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],AttackPowerRune:[function(t,e,n){"use strict";cc._RF.push(e,"e1401o2ir5DjYcazCslfnJz","AttackPowerRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AttackPowerRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="AttackRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){Math.pow(t.atk,this.val)},i([s("AttackPowerRune")],e)}(a.RuneNodeInfo));n.AttackPowerRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],AttackRune:[function(t,e,n){"use strict";cc._RF.push(e,"a88befTMjtLZqa2W5W7n5QN","AttackRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AttackRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="AttackRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.atk+=this.val},e.prototype.onInit=function(t){t.setData({val:(this.val>=0?"+":"")+this.val,destory:this.destory})},i([s("AttackRune")],e)}(a.RuneNodeInfo));n.AttackRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],AttackZeroRune:[function(t,e,n){"use strict";cc._RF.push(e,"50ebegLvhdMmIbx649Ygql+","AttackZeroRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AttackZeroRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="AttackRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.atk=0},e.prototype.onInit=function(e){t.prototype.onInit.call(this,e),e.setData({val:"=0"})},i([s("AttackZeroRune")],e)}(a.RuneNodeInfo));n.AttackZeroRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],AutoSorting:[function(t,e,n){"use strict";cc._RF.push(e,"01992srLJVKZr1iEt9RfqOP","AutoSorting");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(){for(var t=this.node.children,e=0;e<t.length;e++)t[e].zIndex=-10*t[e].y},i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],BaseConfig:[function(t,e,n){"use strict";cc._RF.push(e,"e881cyoQU5MpJnKoNSQWoPX","BaseConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.BaseConfig=void 0;var o=function(){function t(t,e){this._configName=t,this._data=e}return Object.defineProperty(t.prototype,"configName",{get:function(){return this._configName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),t.prototype.get=function(t,e){return void 0===e&&(e=!1),e&&(this._data.has(t)||console.error(this._configName+" not found => "+t)),this._data.get(t)},Object.defineProperty(t.prototype,"list",{get:function(){return Array.from(this._data.values())},enumerable:!1,configurable:!0}),t}();n.BaseConfig=o,cc._RF.pop()},{}],BlockMulRune:[function(t,e,n){"use strict";cc._RF.push(e,"cfa0byckDJGn5sERYkLCnSN","BlockMulRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BlockMulRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="BlockRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.block*=this.val},e.prototype.onInit=function(t){t.setData({val:"*"+this.val,destory:this.destory})},i([s("BlockMulRune")],e)}(a.RuneNodeInfo));n.BlockMulRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],BlockPowerRune:[function(t,e,n){"use strict";cc._RF.push(e,"d7d2c79+a1HpqpZv9p0He4X","BlockPowerRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BlockPowerRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="BlockRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){Math.pow(t.block,this.val)},i([s("BlockPowerRune")],e)}(a.RuneNodeInfo));n.BlockPowerRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],BlockRune:[function(t,e,n){"use strict";cc._RF.push(e,"37abfQrxjVMXqeKttVJ43Bs","BlockRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BlockRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="BlockRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.block+=this.val},i([s("BlockRune")],e)}(a.RuneNodeInfo));n.BlockRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],BlockZeroRune:[function(t,e,n){"use strict";cc._RF.push(e,"028fb8V+QhAa7BUvm331Uh6","BlockZeroRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.BlockZeroRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onTrigger=function(t){t.block=0},e.prototype.onInit=function(e){t.prototype.onInit.call(this,e),e.setData({val:"=0"})},i([s("BlockZeroRune")],e)}(a.RuneNodeInfo));n.BlockZeroRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],CardCfgConfigItem:[function(t,e,n){"use strict";cc._RF.push(e,"c0086xVR5dGJ4XYViZj8Xr8","CardCfgConfigItem"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],CardCfg:[function(t,e,n){"use strict";cc._RF.push(e,"dbd521mtLVM+rN2SHMyK466","CardCfg"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],CardContainer:[function(t,e,n){"use strict";cc._RF.push(e,"c2fa9MgV6NOtIfyhXWg3Pky","CardContainer");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Managers/GameManager"),c=t("../../Managers/PoolManager"),s=t("../../Managers/Res"),u=t("../Model/CardInfos/CardInfo"),l=t("./CardCore"),f=cc._decorator,p=f.ccclass,h=f.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasEnoughEnergy=!0,e.hasInPreview=!1,e}return r(e,t),Object.defineProperty(e.prototype,"usable",{get:function(){return this.hasEnoughEnergy&&!this.hasInPreview},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.btnArea.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.btnArea.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.btnArea.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.btnArea.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.enterPreview=function(){this.hasInPreview=!0},e.prototype.onEnterPreviewEffectArea=function(t){this.info.showTips(a.default.getScene().cardCtrl.tipsFolder,t)},e.prototype.onExitPreviewEffectArea=function(t){this.info.hideTips(t)},e.prototype.exitPreview=function(){this.hasInPreview=!1},e.prototype.init=function(t,e){this.info=new u.CardInfo(t),this.slotId=e,this.refresh()},e.prototype.setInfo=function(t){this.info=t,this.refresh()},e.prototype.refresh=function(){this.core&&c.PM.Put(this.core.node);var t=c.PM.Get(s.default.Ins.getPrefab(this.info.cfg.prefabName));this.core=t.getComponent(l.default),t.setParent(this.coreFolder),t.setPosition(0,0,0),this.info.onInit(this.core)},e.prototype.update=function(){var t;null===(t=this.core)||void 0===t||t.setUsable(this.usable)},e.prototype.onTouchStart=function(t){var e=t.getLocation(),n=a.default.Ins.camera.getScreenToWorldPoint(e);a.default.Ins.curScene.cardCtrl.cardOP.onStartDrag(this,cc.v2(n.x,n.y))},e.prototype.onTouchMove=function(t){var e=t.getLocation(),n=a.default.Ins.camera.getScreenToWorldPoint(e);a.default.Ins.curScene.cardCtrl.cardOP.onMoveDrag(cc.v2(n.x,n.y))},e.prototype.onTouchEnd=function(){a.default.Ins.curScene.cardCtrl.cardOP.onEndDrag()},e.prototype.onDrawInSlot=function(){this.newCover.opacity=255,cc.tween(this.newCover).to(1,{opacity:0}).start()},i([h(cc.Node)],e.prototype,"coreFolder",void 0),i([h(cc.Node)],e.prototype,"btnArea",void 0),i([h(cc.Node)],e.prototype,"newCover",void 0),i([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Managers/GameManager":"GameManager","../../Managers/PoolManager":"PoolManager","../../Managers/Res":"Res","../Model/CardInfos/CardInfo":"CardInfo","./CardCore":"CardCore"}],CardCore:[function(t,e,n){"use strict";cc._RF.push(e,"751d4ff1BNOAJ5Ywo0feUmX","CardCore");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.setData=function(t){t.cost&&(this.costTxt.string=t.cost.toString()),t.name&&(this.nameTxt.string=t.name),t.opDesc&&(this.operatorTxt.string=t.opDesc),t.effect&&(this.effectTxt.string=t.effect)},e.prototype.setUsable=function(t){this.cover.node.active=!t},i([s(cc.Label)],e.prototype,"costTxt",void 0),i([s(cc.Label)],e.prototype,"nameTxt",void 0),i([s(cc.Label)],e.prototype,"operatorTxt",void 0),i([s(cc.Label)],e.prototype,"effectTxt",void 0),i([s(cc.Sprite)],e.prototype,"cover",void 0),i([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],CardCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"6dd885OAvhFN5YVebTehqj2","CardCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Managers/GameManager"),c=t("../../Managers/PoolManager"),s=t("../../Managers/Res"),u=t("../Model/CardInvModel"),l=t("./CardContainer"),f=t("./CardOP"),p=t("./RoomController"),h=cc._decorator,d=h.ccclass,y=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.previewCard=null,e.tipsFolder=null,e.cardFolder=null,e.leftSlot=null,e.rightSlot=null,e.slotCards=[],e.cardsInv=new u.CardInvModel,e}return r(e,t),e.prototype.initGame=function(){var t=this.offsetNode.position;this.cardOP=new f.CardOP(cc.v2(t.x,t.y)),this.cardsInv.initDrawer()},e.prototype.exitGame=function(){},e.prototype.onEnterRoom=function(){this.cardsInv.resetDrawer(),this.cardsInv.fillSlot(),this.refreshCardsSlot()},e.prototype.onExitRoom=function(){this.cardsInv.clear(),this.refreshCardsSlot()},e.prototype.releaseCard=function(t){this.cardsInv.costCard(t.info),this.refreshCardsSlot(),this.slotCards[this.slotCards.length-1].onDrawInSlot()},e.prototype.createCards=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach(function(e){var n=t.findEmptySlot();if(!(n<0)){var o=c.PM.Get(s.default.Ins.getPrefab("CardContainer")).getComponent(l.default);o.init(e,n),t.slotCards.push(o)}}),this.refreshCardsSlot()},e.prototype.createCardByInfo=function(t){var e=c.PM.Get(s.default.Ins.getPrefab("CardContainer")).getComponent(l.default);return e.setInfo(t),e},e.prototype.clearCards=function(){this.slotCards.forEach(function(t){return c.PM.Put(t.node)}),this.slotCards=[]},e.prototype.findEmptySlot=function(){for(var t=this.cardsInv.cardsInSlot.map(function(){return!0}),e=0;e<this.slotCards.length;e++)t[this.slotCards[e].slotId]=!1;for(e=0;e<t.length;e++)if(t[e])return e;return-1},e.prototype.replaceAll=function(){a.default.getScene().attamptUseCard(5)?(this.cardsInv.replaceAll(),a.default.getScene().costEnergy(5),this.cardsInv.replaceAll(),this.refreshCardsSlot()):a.default.getScene().energyError()},e.prototype.refreshCardsSlot=function(){this.clearCards();for(var t=this.cardsInv.cardsInSlot,e=t.length,n=(this.rightSlot.x-this.leftSlot.x)/(e-1),o=0;o<e&&!(o>=t.length);o++){var r=this.createCardByInfo(t[o]);r.slotId=o,r.node.setParent(this.cardFolder),r.node.setPosition(this.leftSlot.x+n*o,this.leftSlot.y),this.slotCards.push(r)}},e.prototype.update=function(){this.slotCards.forEach(function(t){t.hasEnoughEnergy=a.default.getScene().attamptUseCard(t.info.cfg.cost)})},i([y(l.default)],e.prototype,"previewCard",void 0),i([y(cc.Node)],e.prototype,"tipsFolder",void 0),i([y(cc.Node)],e.prototype,"cardFolder",void 0),i([y(cc.Node)],e.prototype,"leftSlot",void 0),i([y(cc.Node)],e.prototype,"rightSlot",void 0),i([y(cc.Color)],e.prototype,"grayColor",void 0),i([y(cc.Node)],e.prototype,"cardOPBanLine",void 0),i([y(cc.Node)],e.prototype,"maxRuneTips",void 0),i([y(cc.Node)],e.prototype,"offsetNode",void 0),i([d],e)}(p.default);n.default=g,cc._RF.pop()},{"../../Managers/GameManager":"GameManager","../../Managers/PoolManager":"PoolManager","../../Managers/Res":"Res","../Model/CardInvModel":"CardInvModel","./CardContainer":"CardContainer","./CardOP":"CardOP","./RoomController":"RoomController"}],CardInfo:[function(t,e,n){"use strict";cc._RF.push(e,"4811deVrTdMCJmS09eCkE7Q","CardInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.CardInfo=void 0;var o=t("../../../configs/out/ConfigMgr"),r=function(){function t(t){this.id=t}return Object.defineProperty(t.prototype,"cfg",{get:function(){return o.Config.CardCfgConfig.get(this.id)},enumerable:!1,configurable:!0}),t.prototype.onInit=function(t){var e=o.Config.CardOPCfgConfig.get(this.cfg.opAction),n=cc.js.getClassByName(e.className);this.op=new n,this.op.tipsPrefabName=e.tipsName,t.setData({cost:this.cfg.cost,name:this.cfg.name,effect:this.cfg.desc,opDesc:e.desc})},t.prototype.onEffect=function(t){this.op.onEffect(t,this)},t.prototype.showTips=function(t,e,n){this.op.showTips(t,e,n)},t.prototype.hideTips=function(t){this.op.hideTips(t)},t}();n.CardInfo=r,cc._RF.pop()},{"../../../configs/out/ConfigMgr":"ConfigMgr"}],CardInvModel:[function(t,e,n){"use strict";cc._RF.push(e,"2822bzaZj1CbYWvzLQx1cJU","CardInvModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.CardInvModel=void 0;var o=t("../../configs/out/ConfigMgr"),r=t("./CardInfos/CardInfo"),i=function(){function t(){this.cards=[],this.drawCards=[],this.cardsInSlot=[],this.slotNum=5}return t.prototype.addCard=function(t){this.cards.push(t)},t.prototype.removeCard=function(t){this.cards.splice(this.cards.indexOf(t),1)},t.prototype.initDrawer=function(){this.cards=o.Config.CardSlotLevelConfig.list.map(function(t){return new r.CardInfo(t.cardId)})},t.prototype.replaceAll=function(){this.cardsInSlot=[],this.fillSlot()},t.prototype.fillSlot=function(){for(var t=0;t<this.slotNum;t++)this.cardsInSlot.length<=t&&this.cardsInSlot.push(this.draw())},t.prototype.costCard=function(t){if(this.cardsInSlot.indexOf(t)>=0){this.cardsInSlot.splice(this.cardsInSlot.indexOf(t),1);var e=this.draw();this.cardsInSlot.push(e)}},t.prototype.drawCard=function(){},t.prototype.clear=function(){this.cardsInSlot=[]},t.prototype.draw=function(){return 0==this.drawCards.length&&this.resetDrawer(),this.drawCards.shift()},t.prototype.resetDrawer=function(){var t=this.cards.map(function(t){return new r.CardInfo(t.id)});this.drawCards=t.sort(function(){return Math.random()-.5}),this.cardsInSlot=[]},t}();n.CardInvModel=i,cc._RF.pop()},{"../../configs/out/ConfigMgr":"ConfigMgr","./CardInfos/CardInfo":"CardInfo"}],CardOPCfgConfigItem:[function(t,e,n){"use strict";cc._RF.push(e,"cacaf5dIPJO3aYLPrtm9TcV","CardOPCfgConfigItem"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],CardOPEffectBase:[function(t,e,n){"use strict";cc._RF.push(e,"8f110RDMmhKz7c72Q4UKNDH","CardOPEffectBase"),Object.defineProperty(n,"__esModule",{value:!0}),n.CardOPEffectBase=void 0;var o=t("../../../../Managers/GameManager"),r=t("../../../../Managers/PoolManager"),i=t("../../../../Managers/Res"),a=function(){function t(){}return Object.defineProperty(t.prototype,"game",{get:function(){return o.default.Ins.curScene},enumerable:!1,configurable:!0}),t.prototype.onEffect=function(){},t.prototype.showTips=function(t,e,n){void 0===n&&(n=0);var o=r.PM.Get(i.default.Ins.getPrefab(this.tipsPrefabName));o.setParent(t),o.angle=n,o.setPosition(t.convertToNodeSpaceAR(e.getMiddleWp())),this.tipsNode=o},t.prototype.hideTips=function(){this.tipsNode&&r.PM.Put(this.tipsNode),this.tipsNode=null},t}();n.CardOPEffectBase=a,cc._RF.pop()},{"../../../../Managers/GameManager":"GameManager","../../../../Managers/PoolManager":"PoolManager","../../../../Managers/Res":"Res"}],CardOP:[function(t,e,n){"use strict";cc._RF.push(e,"9c611mD6dNPe7RYSa7X+SL1","CardOP");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.CardOP=void 0;var r=t("../../Managers/GameManager"),i=t("../CardOpAreas/OPAreaCancel"),a=t("../Timeline/TimelineCtrl"),c=cc._decorator,s=c.ccclass,u=(c.property,function(){function t(t){this.offset=cc.v2(0,0),this.offset=t}return Object.defineProperty(t.prototype,"preview",{get:function(){return this.game.cardCtrl.previewCard},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tipsFolder",{get:function(){return this.game.cardCtrl.tipsFolder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ring",{get:function(){return this.game.ring.cardEffectProxy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"game",{get:function(){return r.default.Ins.curScene},enumerable:!1,configurable:!0}),t.prototype.onStartDrag=function(t,e){if(!this.game.banCardOP)if(a.TimelineCtrl.timeScale=0,this.game.attamptUseCard(t.info.cfg.cost)){this.preview.node.active=!0,this.preview.setInfo(t.info);var n=this.preview.node.parent.convertToNodeSpaceAR(e);if(this.preview.node.setPosition(n),this.targetCard=t,t.enterPreview(),this.game.ring.hasMaxRune)this.game.cardCtrl.maxRuneTips.active=!0;else{this.ring.enterCardEffect(t.info);var o=this.ring.testOPArea(e.add(this.offset));o&&this.onEnterArea(o),this.lastPointArea=o}}else this.game.energyError()},t.prototype.onEnterArea=function(t){this.targetCard.onEnterPreviewEffectArea(t),t.onEnter()},t.prototype.onExitArea=function(t){t&&(this.targetCard.onExitPreviewEffectArea(t),t.onExit())},t.prototype.onEndDrag=function(){if(a.TimelineCtrl.timeScale=1,this.game.cardCtrl.maxRuneTips.active=!1,this.preview.node.active=!1,this.targetCard&&this.lastPointArea){var t=this.lastPointArea;this.onExitArea(this.lastPointArea),this.ring.exitCardEffect(),this.targetCard.exitPreview();var e=this.targetCard;this.targetCard=null,t instanceof i.default||this.game.onReleaseCard(e,t)}},t.prototype.onMoveDrag=function(t){if(t.addSelf(this.offset),!this.game.banCardOP&&this.preview.node.active){var e=this.preview.node.parent.convertToNodeSpaceAR(t);if(this.preview.node.setPosition(e),this.targetCard){var n=this.ring.testOPArea(t.add(this.offset));null!=n&&n==this.lastPointArea?n.onRefresh():null!=n&&n!=this.lastPointArea?(this.lastPointArea&&this.onExitArea(this.lastPointArea),this.onEnterArea(n)):null==n&&this.lastPointArea&&this.onExitArea(this.lastPointArea),this.lastPointArea=n}}},o([s],t)}());n.CardOP=u,cc._RF.pop()},{"../../Managers/GameManager":"GameManager","../CardOpAreas/OPAreaCancel":"OPAreaCancel","../Timeline/TimelineCtrl":"TimelineCtrl"}],CardSlotLevelConfigItem:[function(t,e,n){"use strict";cc._RF.push(e,"af666aBVZpG15/cknHNnp9r","CardSlotLevelConfigItem"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],ClockManager:[function(t,e,n){"use strict";cc._RF.push(e,"7a6c7nJH5pLhoT4OtmOgPCk","ClockManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.ClockInfo=void 0;var o=t("./StorageManager"),r=function(){function t(t,e,n){this.pause=!1,this.isOnline=!1,this.scale=1,this.tickFunc=e,this.stepFunc=n,this.stepTime=t,this.reTimer()}return Object.defineProperty(t.prototype,"process",{get:function(){return this.timer/this.stepTime},enumerable:!1,configurable:!0}),t.prototype.reset=function(t){var e=this.stepTime;t.stepTime&&(this.stepTime=t.stepTime),this.timer=this.timer/e*this.stepTime,t.tickFunc&&(this.tickFunc=t.tickFunc),t.stepFunc&&(this.stepFunc=t.stepFunc)},t.prototype.setTimer=function(t){this.timer=t*this.stepTime},t.prototype.reTimer=function(){this.pause=!1,this.timer=0,this.startDate=Date.now(),this.step=0,this.lastRecord=Date.now(),this.allTimer=0},t.prototype.tick=function(t){for(this.timer+=t,this.allTimer+=t,this.tickFunc&&this.tickFunc(this);this.timer>=this.stepTime;)this.timer-=this.stepTime,this.step++,this.stepFunc&&this.stepFunc(this),this.updateRecord()},t.prototype.updateRecord=function(){this.lastRecord=Date.now()},t.prototype.onLine=function(t){this.pause||(this.timer=Date.now()-this.lastRecord),this.lastRecord=Date.now(),this.isOnline=!0,this.tickFunc=t.tickFunc,this.stepFunc=t.stepFunc},t.loadByObj=function(e){var n=new t(1);return Object.assign(n,e),n.isOnline=!1,n},t}();n.ClockInfo=r;var i=function(){function t(){this.clockMap=new Map}return Object.defineProperty(t,"Ins",{get:function(){return t.ins||(t.ins=new t),t.ins},enumerable:!1,configurable:!0}),t.getClock=function(t){return this.Ins.clockMap.get(t)},t.onLine=function(t,e,n,o){var i=this.Ins.clockMap.get(t);if(i){var a=this.Ins.clockMap.get(t);a.stepTime=e,a.tickFunc=n,a.stepFunc=o}else i=new r(e,n,o),this.Ins.clockMap.set(t,i);return i.onLine({tickFunc:n,stepFunc:o}),i},t.removeClock=function(t){this.Ins.clockMap.delete(t)},t.pauseClock=function(t){var e=this.Ins.clockMap.get(t);e&&(e.pause=!e.pause)},t.update=function(t){this.Ins.clockMap.forEach(function(e){!e.pause&&e.isOnline&&e.tick(1e3*t*e.scale)})},t.load=function(){for(var t=o.default.Get(o.EStorageKey.clock,[]),e=0;e<t.length;e++)this.Ins.clockMap.set(t[e][0],r.loadByObj(JSON.parse(t[e][1])))},t.save=function(){this.Ins.clockMap.forEach(function(t,e){o.default.Set(o.EStorageKey.clock,[e,JSON.stringify(t)])})},t}();n.default=i,cc._RF.pop()},{"./StorageManager":"StorageManager"}],CocosExtension:[function(t,e,n){"use strict";cc._RF.push(e,"ea6b8LDqilORpoW3ku2Fm8i","CocosExtension");var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.formatTimeHMS=n.formatTimeHMS_str=n.formatNumberDot=n.formatLongName=n.formatStrEnter=n.getBit=n.getDeltaTime=n.randomByWeight=n.shuffle=n.switchMatt=n.rangeValue=n.randomNumber=n.randomInt=n.invokeCallback=n.updateNow=n.convertPosition=n.toParent=n.seedRandomInt=n.seedRandom=n.scaleImage=n.findConfig=n.loadRemote=n.loadImage=n.loadSpine=n.compareVersion=n.path2uuid=n.loadNode=n.getRes=n.preloadBundleRes=n.loadBundleRes=n.preloadRes=n.loadRes=n.preloadBundles=n.loadBundle=n.isSameDay=n.promiseCancelable=n.throttle=n.getChoice=n.time2str=n.hasStr=n.TransPos2=n.TransPos=n.randomElement=n.random=n.delay=n.initResLoader=n.Direction=n.dir2crd=n.FpsMode=n.ImageFillMode=void 0,n.arabicNumToCNNum=n.SystemInfo=n.serializable=n.log=n.getUrlParamMap=n.shake=n.getZeroTimeStamp=n.getTimeStamp=n.setDownloaderRemoteAddress=n.weightRandom=n.enumLength=n.inject=n.deepClone=n.clone=n.showNodeDebug=n.showUiDebug=n.changeSpineSlot=n.isIOS=n.isAndroid=n.isWX_AND=n.isWX_IOS=n.isDevelopment=n.isQQ=n.isTT=n.isApp=n.isMiniGame=n.isWeb=n.isWX=n.isValue=n.byteToInt=n.objToMap=n.mapToObj=n.obj2Urlstr=n.isNullEmptyOrSpace=n.uniqueArr=n.removeFromArr=n.segmentFunc=n.randomInts=n.date2BeijingUnixMilli=n.formatTime=n.formateDate=n.zero=n.formatMinute=n.formatMinuteUnit=n.formatHour=void 0;var c,s,u=t("../Managers/PlatformManager");function l(t){return r(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(e,n){cc.assetManager.loadBundle(t,{version:""},function(t,o){t?(console.error("loadBundle error",t),n()):e(o)})})]})})}function f(t,e){return r(this,void 0,Promise,function(){var n,o,r,a;return i(this,function(i){switch(i.label){case 0:if(!e)return[2,null];n=["resources","artres"],o=0,i.label=1;case 1:return o<n.length?(r=n[o],[4,p(t,e,r)]):[3,4];case 2:if(null!=(a=i.sent()))return[2,a];i.label=3;case 3:return o++,[3,1];case 4:return console.warn("loadRes err",e),[2,null]}})})}function p(t,e,n){return r(this,void 0,Promise,function(){var o=this;return i(this,function(){return[2,new Promise(function(a){return r(o,void 0,void 0,function(){var o,r;return i(this,function(i){switch(i.label){case 0:return null!=(o=d(t,e,n))?(a(o),[2]):(r=cc.assetManager.getBundle(n))?[3,2]:[4,l(n)];case 1:r=i.sent(),i.label=2;case 2:return r.getInfoWithPath(e)?r.load(e,t,function(t,e){a(t?null:e)}):a(null),[2]}})})})]})})}function h(t,e,n){return r(this,void 0,Promise,function(){var o=this;return i(this,function(){return[2,new Promise(function(a){return r(o,void 0,void 0,function(){var o;return i(this,function(r){switch(r.label){case 0:return null!=d(t,e,n)?(a(!0),[2]):(o=cc.assetManager.getBundle(n))?[3,2]:[4,l(n)];case 1:o=r.sent(),r.label=2;case 2:return o.getInfoWithPath(e)?o.preload(e,t,function(t){a(!t)}):a(null),[2]}})})})]})})}function d(t,e,n){if(!e)return null;var o=y(t,e,n);return o&&cc.assetManager.assets.get(o)||null}function y(t,e,n){var o=cc.assetManager.bundles;if(o.has(n)){var r=o.get(n),i=r.getInfoWithPath(e,t);if(i&&i.redirect){if(!o.has(i.redirect))throw new Error("you need to load bundle "+i.redirect+" first");i=(r=o.get(i.redirect)).getAssetInfo(i.uuid)}return i?i.uuid:null}}function g(t,e){if(void 0===e&&(e=c.BorderScale),t.node&&t.spriteFrame&&e!=c.None){t.sizeMode!=cc.Sprite.SizeMode.CUSTOM&&console.warn("scaleImage sizemode error,node name:"+t.node.name),t.trim=!1;var n=t.spriteFrame.getOriginalSize(),o=t.node.width,r=t.node.height,i=o/n.width,a=r/n.height,s=e==c.BorderScale?Math.min(i,a):Math.max(i,a);t.node.scaleX=s*n.width/o,t.node.scaleY=s*n.height/r}}(function(t){t[t.None=0]="None",t[t.BorderScale=1]="BorderScale",t[t.FullScale=2]="FullScale"})(c=n.ImageFillMode||(n.ImageFillMode={})),function(t){t[t.Auto=-1]="Auto",t[t.High=60]="High",t[t.Low=45]="Low"}(n.FpsMode||(n.FpsMode={})),n.dir2crd=[cc.v2(1,0),cc.v2(1,-1),cc.v2(0,-1),cc.v2(-1,-1),cc.v2(-1,0),cc.v2(-1,1),cc.v2(0,1),cc.v2(1,1)],function(t){t[t.none=-1]="none",t[t.right=0]="right",t[t.rightUp=1]="rightUp",t[t.up=2]="up",t[t.leftUp=3]="leftUp",t[t.left=4]="left",t[t.leftDown=5]="leftDown",t[t.down=6]="down",t[t.rightDown=7]="rightDown"}(n.Direction||(n.Direction={})),n.initResLoader=function(t){s=t},n.delay=function(t){return r(this,void 0,void 0,function(){return i(this,function(){return[2,new Promise(function(e){return setTimeout(function(){return e(null)},t)})]})})},n.random=function(t,e,n){return void 0===n&&(n=function(t){return t}),n(Math.random())*(e-t)+t},n.randomElement=function(t){return t&&0!=t.length?t[Math.floor(Math.random()*t.length)]:null},n.TransPos=function(t,e,n){return e.convertToNodeSpaceAR(t.convertToWorldSpaceAR(n))},n.TransPos2=function(t,e,n){return e.convertToNodeSpaceAR(t.convertToWorldSpaceAR(n))},n.hasStr=function(t,e){return-1!=t.indexOf(e)},n.time2str=function(t){var e=Math.floor(t/60),n=Math.floor(t%60);return n<10?e+":0"+n:e+":"+n},n.getChoice=function(t,e){if(t.length==e.length){var n=0,o=Math.random(),r=0;t.forEach(function(t){return r+=t});for(var i=0;i<t.length;i++){var a=e[i],c=t[i]/r;if(o<=n+c)return a;n+=c}return e[e.length-1]}console.error("\u6982\u7387\u6570\u7ec4\u548c\u5143\u7d20\u6570\u7ec4\u4e0d\u5339\u914d")},n.throttle=function(t,e){var n=null;return function(){var o=this,r=arguments;n||(n=setTimeout(function(){t.apply(o,r),n=null},e))}},n.promiseCancelable=function(t){var e=!1;return{promise:new Promise(function(n,o){t.then(function(t){return e?o({isCanceled:!0}):n(t)}),t.catch(function(t){return o(e?{isCanceled:!0}:t)})}),cancel:function(){e=!0}}},n.isSameDay=function(t,e){return new Date(t).toDateString()==new Date(e).toDateString()},n.loadBundle=l,n.preloadBundles=function(){return r(this,void 0,void 0,function(){var t,e,n,o;return i(this,function(r){switch(r.label){case 0:for(console.warn("preloadBundles start"),t=["gameAsset","remoteAsset"],e=[],n=0;n<t.length;n++)o=t[n],e.push(l(o));return[4,Promise.all(e)];case 1:return r.sent(),console.warn("preloadBundles end"),[2]}})})},n.loadRes=f,n.preloadRes=function(t,e){return r(this,void 0,Promise,function(){var n,o,r,a;return i(this,function(i){switch(i.label){case 0:if(!e)return[2,null];n=["resources","artres"],o=0,i.label=1;case 1:return o<n.length?(r=n[o],[4,h(t,e,r)]):[3,4];case 2:if(null!=(a=i.sent()))return[2,a];i.label=3;case 3:return o++,[3,1];case 4:return console.warn("loadRes err",e),[2,null]}})})},n.loadBundleRes=p,n.preloadBundleRes=h,n.getRes=d,n.loadNode=function(t,e){return r(this,void 0,void 0,function(){var n=this;return i(this,function(){return t?[2,new Promise(function(o){return r(n,void 0,void 0,function(){var n,r;return i(this,function(i){switch(i.label){case 0:return[4,f(cc.Prefab,t)];case 1:return(n=i.sent())?(r=cc.instantiate(n),e&&(r.parent=e),r.position=cc.v3(),r.active=!0,o(r)):o(null),[2]}})})})]:[2,null]})})},n.path2uuid=y,n.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var o=0;o<n;o++){var r=parseInt(t[o]),i=parseInt(e[o]);if(r>i)return 1;if(r<i)return-1}return 0},n.loadSpine=function(t){return r(this,void 0,Promise,function(){return i(this,function(e){switch(e.label){case 0:return t?[4,f(sp.SkeletonData,t)]:[2,null];case 1:return[2,e.sent()]}})})},n.loadImage=function(t,e,n,o){return void 0===n&&(n=c.None),void 0===o&&(o=!0),r(this,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:return t&&t.node?(o&&(t.spriteFrame=null),t.url=e,[4,f(cc.SpriteFrame,e)]):[2];case 1:return(r=i.sent())&&e&&-1!=t.url.indexOf(r._name)&&t.url==e?t.spriteFrame=r:r||(t.spriteFrame=s),g(t,n),[2]}})})},n.loadRemote=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=!0),r(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(o){if(t){var r=e?{ext:e,cacheEnabled:n}:{cacheEnabled:n};cc.assetManager.loadRemote(t,r,function(t,e){o(t?null:e)})}else o(null)})]})})},n.findConfig=function(t,e){for(var n=0;n<t.length;++n)if(e(t[n]))return t[n];return null},n.scaleImage=g;var _=5;function m(t){return null!=t&&(_=t),(_=(9301*_+49297)%233280)/233280}function v(t,e){var n=cc.v3();return t instanceof cc.Node?t.isValid&&t.parent&&(n=t.parent.convertToWorldSpaceAR(t.position)):n=cc.v3(t.x,t.y),n=e.convertToNodeSpaceAR(n),cc.v2(n.x,n.y)}function b(t,e){return Math.random()*(e-t)+t}function P(t){return{hour:~~(t/3600),min:~~((t%=3600)/60),sec:t%=60}}function C(t){return t>9?t:"0"+t}function O(){return cc.sys.platform===cc.sys.WECHAT_GAME}function R(){return O()||M()||w()}function M(){return!!window.tt}function w(){return!!window.qq}function I(t){var e=new sp.SkeletonTexture;e._image={width:t.width,height:t.height},e.setRealTexture(t);var n=new sp.spine.TextureAtlasRegion;return n.width=t.width,n.height=t.height,n.originalWidth=t.width,n.originalHeight=t.height,n.rotate=!1,n.u=0,n.v=0,n.u2=1,n.v2=1,n.texture=e,n}function E(){var t={},e=0,n={},o=0,r={},i=function(a){if(a&&a.length)for(var c=0;c<a.length;++c){var s=a[c];n[s.name]?n[s.name]++:n[s.name]=1,e++,s.active&&s.isValid&&(s._components&&s._components.forEach(function(e){var n=e.__classname__;t[n]||(t[n]=0),"cc.Label"==n&&(o++,r[s.parent.name]?r[s.parent.name]++:r[s.parent.name]=1),t[n]++}),i(s.children))}};i(cc.director.getScene().children),console.log("\u7c7b\u8be6\u60c5:",t),console.log("\u573a\u666f\u6811\u4e0a\u5171\u6709:"+e+"\u4e2anode"),console.log("\u8282\u70b9\u8be6\u60c5:",n),console.log("\u573a\u666f\u6811\u4e0a\u5171\u6709:"+o+"\u4e2alabel"),console.log("\u6587\u672c\u8be6\u60c5:",r)}function j(t){return JSON.parse(JSON.stringify(t))}n.seedRandom=m,n.seedRandomInt=function(t,e,n){e=e||1,t=t||0;var o=m(n);return Math.floor(t+o*(e-t))},n.toParent=function(t,e){if(e!=t.parent){var n=v(t,e);t.parent=e,t.setPosition(n)}},n.convertPosition=v,n.updateNow=function(t){var e=t.getComponent(cc.Label);if(e)e._forceUpdateRenderData();else{var n=t.getComponent(cc.RichText);if(n)return t._activeInHierarchy=!0,void n._updateRichText();var o=t.getComponent(cc.Layout);o&&o.updateLayout()}},n.invokeCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&"function"==typeof t&&t.apply(null,Array.prototype.slice.call(arguments,1))},n.randomInt=function(t,e){return Math.floor(b(t,e))},n.randomNumber=b,n.rangeValue=function(t,e,n){return t=Math.max(e,t),Math.min(n,t)},n.switchMatt=function(t){return t[0].map(function(e,n){return t.map(function(t){return t[n]})})},n.shuffle=function(t,e){void 0===e&&(e=!1);var n=[];n=e?t:function(t){return t.slice(0)}(t);for(var o,r=0;r<n.length;r++){var i=(0,o=r,Math.floor(Math.random()*(o-0+1)+0)),a=n[r];n[r]=n[i],n[i]=a}return n},n.randomByWeight=function(t,e){if(t.length==e.length){var n=0;e.forEach(function(t){return n+=t});for(var o=Math.random()*n,r=e[0],i=1;i<e.length;i++){if(o<r)return i-1;r+=e[i]}return e.length-1}console.error("\u6743\u91cd\u968f\u673a\u8f93\u5165\u53c2\u6570\u957f\u5ea6\u4e0d\u7b49")},n.getDeltaTime=function(t,e){return t-e},n.getBit=function(t,e){return void 0===e&&(e=1),t.toFixed(e)},n.formatStrEnter=function(t,e,n){void 0===e&&(e=10),void 0===n&&(n=!1);for(var o=n?"<br/>":"\n",r=[],i=0,a=0,c=0;c<t.length;c++)t.charCodeAt(c)>255?i+=2:i++,i>=e&&(r.push(t.slice(a,c)),a=c,i=0);r.push(t.slice(a));for(var s="",u=(c=0,r.length);c<u;c++)s+=r[c],c<u-1&&(s+=o);return s},n.formatLongName=function(t,e){void 0===e&&(e=0);for(var n=0,o=0;o<t.length;o++)if(t.charCodeAt(o)>255?n+=2:n++,n>=e){t=t.slice(0,o+1)+"...";break}return t},n.formatNumberDot=function(t){for(var e=(t||0).toString(),n="";e.length>3;)n=","+e.slice(-3)+n,e=e.slice(0,e.length-3);return e&&(n=e+n),n},n.formatTimeHMS_str=function(t,e,n,o){void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===o&&(o=0);var r=P(t=~~t),i="",a=0;if(r.hour>23&&n){var c=~~(r.hour/24);i+=c+(e?"\u5929":"d"),r.hour-=24*c,a++}return r.hour>0&&(!o||a<o)&&(i+=r.hour+(e?"\u5c0f\u65f6":"h"),a++),r.min>0&&(!o||a<o)&&(i+=r.min+(e?"\u5206\u949f":"m"),a++),r.sec>0&&(!o||a<o)&&(i+=r.sec+(e?"\u79d2":"s"),a++),i},n.formatTimeHMS=P,n.formatHour=function(t,e){void 0===e&&(e="second"),"micosecond"==e?t/=36e5:"second"==e?t/=3600:"minute"==e&&(t/=60);var n=(""+t).split(".");return n[0]+"."+(n[1]?n[1].substr(0,2):"0")},n.formatMinuteUnit=function(t,e){void 0===e&&(e=!1);var n=~~((t=~~t)/3600);e&&(t%=3600);var o=~~(t/60),r=t%60,i="";return e&&n>0&&(i+=n+"h"),o>0&&(i+=o+"m"),r>0&&(i+=r+"s"),i},n.formatMinute=function(t,e){void 0===e&&(e=!1);var n=~~((t=~~t)/3600);e&&(t%=3600);var o=~~(t/60),r=t%60,i="";return e&&(n<10&&(i+="0"),i+=n+":"),o<10&&(i+="0"),i+=o+":",r<10&&(i+="0"),i+""+r},n.zero=C,n.formateDate=function(t){var e=t.getFullYear(),n=C(t.getMonth()+1),o=C(t.getDate()),r=C(t.getHours()),i=C(t.getMinutes());return C(t.getSeconds()),e+"/"+n+"/"+o+" "+r+":"+i},n.formatTime=function(t){var e=new Date(t).getTime(),n=(new Date).getTime()-e;if(n<0)return"\u521a\u521a";var o=n/2592e6,r=n/6048e5,i=n/864e5,a=n/36e5,c=n/6e4,s=n/31104e6;return s>=1?Math.floor(s)+"\u5e74\u524d":o>=1?Math.floor(o)+"\u6708\u524d":r>=1?Math.floor(r)+"\u5468\u524d":i>=1?Math.floor(i)+"\u5929\u524d":a>=1?Math.floor(a)+"\u5c0f\u65f6\u524d":c>=1?Math.floor(c)+"\u5206\u949f\u524d":"\u521a\u521a"},n.date2BeijingUnixMilli=function(t){if("number"==typeof t){var e=new Date(t),n=6e4*e.getTimezoneOffset();return e.setTime(e.getTime()+n+288e5),e}return n=6e4*t.getTimezoneOffset(),t.setTime(t.getTime()+n+288e5),t},n.randomInts=function(t,e,n){var o,r=[];return function i(a){for(;a<n;a++){for(var c in o=parseInt(Math.random()*(e-t+1)+t),r)if(r[c]==o){i(a);break}r[a]=o}}(0),r},n.segmentFunc=function(t,e){return t>e?e:t},n.removeFromArr=function(t,e){var n;-1!=(n=t.indexOf(e))&&t.splice(n,1)},n.uniqueArr=function(t){for(var e=[],n={},o=0;o<t.length;o++)n[t[o]]||(n[t[o]]=!0,e.push(t[o]));return e},n.isNullEmptyOrSpace=function(t){return null==t||0==t.replace(/\s/g,"").length},n.obj2Urlstr=function(t){return Object.keys(t).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}).join("&")},n.mapToObj=function(t){var e=Object.create(null);return t.forEach(function(t,n){e[n]=t}),e},n.objToMap=function(t,e){void 0===e&&(e=!1);var n=new Map;return Object.keys(t).forEach(function(o){e?n.set(parseInt(o),t[o]):n.set(o,t[o])}),n},n.byteToInt=function(t){return(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3]},n.isValue=function(t){return null!=t},n.isWX=O,n.isWeb=function(){return!R()},n.isMiniGame=R,n.isApp=function(){return!1},n.isTT=M,n.isQQ=w,n.isDevelopment=function(){return!1},n.isWX_IOS=function(){return O()&&cc.sys.os===cc.sys.OS_IOS},n.isWX_AND=function(){return O()&&cc.sys.os===cc.sys.OS_ANDROID},n.isAndroid=function(){return cc.sys.os===cc.sys.OS_ANDROID&&!1},n.isIOS=function(){return cc.sys.os===cc.sys.OS_IOS&&!1},n.changeSpineSlot=function(t,e,n){var o=t.findSlot(e),r=n.getTexture(),i=o.getAttachment(),a=I(r);i.region=a,i.setRegion&&i.setRegion(a),i.updateUVs()},n.showUiDebug=E,window.ui_test=E,n.showNodeDebug=function(){var t=cc.director.getScene().getComponentsInChildren(cc.Sprite),e=0,n=[],o={};t.forEach(function(t){return n.push(t.node)}),n.forEach(function(t){o[t.parent.name]?o[t.parent.name]++:o[t.parent.name]=1,e++}),console.log("\u603b\u5171:"+e+"\u4e2a\u8282\u70b9,\u7eb9\u7406\u7236\u8282\u70b9\u8be6\u60c5:",o)},n.clone=j,n.deepClone=function t(e){if(e instanceof Object){var n=Array.isArray(e)?a(e):o({},e);return Reflect.ownKeys(n).forEach(function(o){n[o]=e[o]instanceof Object?t(e[o]):e[o]}),n}},n.inject=function(t,e,n){for(var o in void 0===n&&(n=!0),n&&(e=j(e)),t)e.hasOwnProperty(o)&&(t[o]=e[o])},n.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},n.weightRandom=function(t){for(var e=[],n=0;n<t.length;n++)for(var o=0;o<t[n];o++)e.push(n);var r=Math.floor(Math.random()*e.length);return e.length?e[r]:-1},n.setDownloaderRemoteAddress=function(t){cc.assetManager.downloader._remoteServerAddress&&(cc.assetManager.downloader._remoteServerAddress=t)},n.getTimeStamp=function(){return(new Date).getTime()},n.getZeroTimeStamp=function(){return new Date((new Date).setHours(0,0,0,0)).getTime()},n.shake=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=u.ShakeType.MEDIUM),O()&&wx?t?(console.log("----- long shake ----- "),wx.vibrateLong({success:function(){},fail:function(){}})):(console.log("---- short shake ---- ","shakeType:",e),wx.vibrateShort({success:function(){},fail:function(){},type:e})):M()&&tt&&(t?(console.log("----- long shake ----- "),tt.vibrateLong({success:function(){},fail:function(){}})):(console.log("---- short shake ---- ","shakeType:",e),tt.vibrateShort({success:function(){},fail:function(){},type:e})))},n.getUrlParamMap=function(){if(!location.search&&!location.hash)return null;var t={},e=function(e){for(var n=e.split("&"),o=0;o<n.length;o++){var r=n[o].split("=");t[r[0]]=decodeURIComponent(r[1])}};if(location.hash&&e(location.hash.substr(1)),location.search){var n=location.search.indexOf("?");if(-1!=n){var o=location.search.substr(n+1);e(o=o.split("!")[0])}}return t},n.log=function(t,e){var n=t[e];delete this[e]&&Object.defineProperty(t,e,{get:function(){return console.log("Get "+e+" returned "+n),n},set:function(t){console.log("Set "+e+" to "+t),n=t},enumerable:!0,configurable:!0})},n.serializable=function(t,e){t.constructor.serializeKeys||(t.constructor.serializeKeys=[]),t.constructor.serializeKeys.push(e)};if(n.SystemInfo=function(){},!window.wx){var S=cc._RF.push;cc._RF.push=function(){var t=arguments;setTimeout(function(){try{window[t[2]]=t[0].exports.default||t[0].exports[t[2]]}catch(e){}},0),S.apply(this,t)}}n.arabicNumToCNNum=function(t){var e=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u767e","\u5343","\u4e07","\u4ebf","\u4e07\u4ebf"],o={ltHundred:function(n){if(t<=10)return e[t];var o=Math.trunc(n/10),r=(o>1?e[o]:"")+e[10],i=n%10;return 0===i?r:r+e[i]},ltThousand:function(t){var n=e[Math.trunc(t/100)]+e[11],r=t%100;return 0===r?n:r<10?n+e[0]+e[r]:r>=10&&r<20?(n+=e[1]+e[10],r>10&&(n+=e[r-10]),n):n+o.ltHundred(r)},ltTenThousand:function(t){var n=e[Math.trunc(t/1e3)]+e[12],r=t%1e3;return 0===r?n:r<10?n+e[0]+e[r]:r<100?10===r?n+e[0]+e[1]+e[10]:n+e[0]+o.ltHundred(r):n+o.ltThousand(r)},gtBillion:function(t){var o=t.toString(),r=o.length;if(r>16||r<5)return"";var i=(o=r<=8?o.padStart(8,"0"):r<=12?o.padStart(12,"0"):o.padStart(16,"0")).split(/([0-9]{4})/).filter(function(t){return""!==t}),a="",c=i.length;return i.forEach(function(t,o){var r=Number(t),s="";return 0!==r&&(s=n.arabicNumToCNNum(r)),0!==o&&(r>0&&r<1e3||3===i[o-1].lastIndexOf("0"))&&(a+=e[0]),2===c?0===o?void(a=s+e[13]):void(a+=s):3===c?0===o?void(a=s+e[14]):1===o&&0!==r?void(a+=s+e[13]):void(a+=s):4===c?0===o?void(a=s+e[15]):1===o&&0!==r?void(a+=s+e[14]):2===o&&0!==r?void(a+=s+e[13]):void(a+=s):void 0}),a}},r="";return(t|=0)<0&&(r+="\u8d1f",t=Math.abs(t)),t<100?r+o.ltHundred(t):t<1e3?r+o.ltThousand(t):t<1e4?r+o.ltTenThousand(t):r+=o.gtBillion(t)},cc._RF.pop()},{"../Managers/PlatformManager":"PlatformManager"}],CocosFixed:[function(t,e){"use strict";cc._RF.push(e,"c95b4+rYJZN64x18o6JhmUf","CocosFixed"),cc._RF.pop()},{}],CocosUINode:[function(t,e,n){"use strict";cc._RF.push(e,"32943yA0RVBGpqZwcwf/z1f","CocosUINode");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./UI")),s=cc._decorator,u=s.ccclass,l=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.active=!0,e}return r(e,t),e.prototype.onLoad=function(){c.default.registUI(this.constructor,this),console.log("registUI:"+this.constructor)},e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.start=function(){this.active?this.show():this.hide()},i([l],e.prototype,"active",void 0),i([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"./UI":"UI"}],CommonBinder:[function(t,e,n){"use strict";cc._RF.push(e,"24a5f3EDzdHpLzQDxjXbL+6","CommonBinder");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./UI_Modal")),i=o(t("./UI_TaskTips")),a=o(t("./UI_taskTipsCom")),c=o(t("./UI_moneyCom")),s=o(t("./UI_ShareVideo")),u=o(t("./UI_energyCom")),l=o(t("./UI_switchCom")),f=o(t("./UI_AdTips")),p=o(t("./UI_ConfirmPanel")),h=o(t("./UI_EffectPanel")),d=o(t("./UI_TouchPad")),y=o(t("./UI_rare")),g=o(t("./UI_getEnergy")),_=o(t("./UI_getCoin")),m=o(t("./UI_getEnergyCom")),v=o(t("./UI_recordBtn")),b=o(t("./UI_SettingPanel")),P=function(){function t(){}return t.bindAll=function(){fgui.UIObjectFactory.setExtension(r.default.URL,r.default),fgui.UIObjectFactory.setExtension(i.default.URL,i.default),fgui.UIObjectFactory.setExtension(a.default.URL,a.default),fgui.UIObjectFactory.setExtension(c.default.URL,c.default),fgui.UIObjectFactory.setExtension(s.default.URL,s.default),fgui.UIObjectFactory.setExtension(u.default.URL,u.default),fgui.UIObjectFactory.setExtension(l.default.URL,l.default),fgui.UIObjectFactory.setExtension(f.default.URL,f.default),fgui.UIObjectFactory.setExtension(p.default.URL,p.default),fgui.UIObjectFactory.setExtension(h.default.URL,h.default),fgui.UIObjectFactory.setExtension(d.default.URL,d.default),fgui.UIObjectFactory.setExtension(y.default.URL,y.default),fgui.UIObjectFactory.setExtension(g.default.URL,g.default),fgui.UIObjectFactory.setExtension(_.default.URL,_.default),fgui.UIObjectFactory.setExtension(m.default.URL,m.default),fgui.UIObjectFactory.setExtension(v.default.URL,v.default),fgui.UIObjectFactory.setExtension(b.default.URL,b.default)},t}();n.default=P,cc._RF.pop()},{"./UI_AdTips":"UI_AdTips","./UI_ConfirmPanel":"UI_ConfirmPanel","./UI_EffectPanel":"UI_EffectPanel","./UI_Modal":"UI_Modal","./UI_SettingPanel":"UI_SettingPanel","./UI_ShareVideo":"UI_ShareVideo","./UI_TaskTips":"UI_TaskTips","./UI_TouchPad":"UI_TouchPad","./UI_energyCom":"UI_energyCom","./UI_getCoin":"UI_getCoin","./UI_getEnergy":"UI_getEnergy","./UI_getEnergyCom":"UI_getEnergyCom","./UI_moneyCom":"UI_moneyCom","./UI_rare":"UI_rare","./UI_recordBtn":"UI_recordBtn","./UI_switchCom":"UI_switchCom","./UI_taskTipsCom":"UI_taskTipsCom"}],ConfigMgr:[function(t,e,n){"use strict";cc._RF.push(e,"4b9dcTL0N5GvoWJMCPIjhZJ","ConfigMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.Config=void 0;var o=t("./BaseConfig"),r=function(){function t(){}return Object.defineProperty(t,"CardOPCfgConfig",{get:function(){return this._cardOPCfgConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CardSlotLevelConfig",{get:function(){return this._cardSlotLevelConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CardCfgConfig",{get:function(){return this._cardCfgConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EnemyConfig",{get:function(){return this._enemyConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t,"RuneCfgConfig",{get:function(){return this._runeCfgConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t,"RuneTypeCfgConfig",{get:function(){return this._runeTypeCfgConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t,"RuneOriginCfgConfig",{get:function(){return this._runeOriginCfgConfig},enumerable:!1,configurable:!0}),t.init=function(t,e,n){var o=this;cc.resources.load(t,cc.JsonAsset,function(t,r){console.log(r),o.parse(r.json),e&&n&&n.call(e)})},t.parse=function(t){for(var e,n=t.length,r=n-1,i=[],a=[],c=0;c<n;c++){var s=t[c];c==r?(a.push(s),i.push(a)):"_D3A_"==s?(i.push(a),a=[]):a.push(s)}n=(a=i[0]).length,e=5;var u=new Map;for(c=0;c<n;c+=e){var l={uniqueKey:a[c],type:a[c+1],className:a[c+2],desc:a[c+3],tipsName:a[c+4]};u.set(l.uniqueKey,l)}this._cardOPCfgConfig=new o.BaseConfig("CardOPCfgConfig",u),n=(a=i[1]).length,e=3;var f=new Map;for(c=0;c<n;c+=e)l={uniqueKey:a[c],id:a[c+1],cardId:a[c+2]},f.set(l.uniqueKey,l);this._cardSlotLevelConfig=new o.BaseConfig("CardSlotLevelConfig",f),n=(a=i[2]).length,e=9;var p=new Map;for(c=0;c<n;c+=e)l={uniqueKey:a[c],id:a[c+1],name:a[c+2],runeId:a[c+3],cost:a[c+4],desc:a[c+5],opAction:a[c+6],runeVal:a[c+7],prefabName:a[c+8]},p.set(l.uniqueKey,l);this._cardCfgConfig=new o.BaseConfig("CardCfgConfig",p),n=(a=i[3]).length,e=7;var h=new Map;for(c=0;c<n;c+=e)l={uniqueKey:a[c],id:a[c+1],name:a[c+2],life:a[c+3],attack:a[c+4],actionTime:a[c+5],special:a[c+6]},h.set(l.uniqueKey,l);this._enemyConfig=new o.BaseConfig("EnemyConfig",h),n=(a=i[4]).length,e=4;var d=new Map;for(c=0;c<n;c+=e)l={uniqueKey:a[c],id:a[c+1],runeType:a[c+2],destory:a[c+3]},d.set(l.uniqueKey,l);this._runeCfgConfig=new o.BaseConfig("RuneCfgConfig",d),n=(a=i[5]).length,e=3;var y=new Map;for(c=0;c<n;c+=e)l={uniqueKey:a[c],type:a[c+1],className:a[c+2]},y.set(l.uniqueKey,l);this._runeTypeCfgConfig=new o.BaseConfig("RuneTypeCfgConfig",y),n=(a=i[6]).length,e=4;var g=new Map;for(c=0;c<n;c+=e)l={uniqueKey:a[c],id:a[c+1],runeId:a[c+2],val:a[c+3]},g.set(l.uniqueKey,l);this._runeOriginCfgConfig=new o.BaseConfig("RuneOriginCfgConfig",g)},t.getLinkedConfigs=function(t,e){for(var n=[],o=0;o<t.length;o++)n.push(e.get(t[o],!0));return n},t}();n.Config=r,cc._RF.pop()},{"./BaseConfig":"BaseConfig"}],Const:[function(t,e,n){"use strict";cc._RF.push(e,"87b56onsR9O/IrmniWXha+R","Const"),Object.defineProperty(n,"__esModule",{value:!0}),n.maxRune=n.maxEnergy=n.energyPrice=n.commonFuiPkg=n.fuiPath=void 0,n.fuiPath="fui/",n.commonFuiPkg="Common",n.energyPrice=1e3,n.maxEnergy=1e3,n.maxRune=16,cc._RF.pop()},{}],DBG:[function(t,e,n){"use strict";cc._RF.push(e,"9615aBUkXJF+ZVe5KKRQg+R","DBG");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,Object.defineProperty(e,"Ins",{get:function(){return n._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){n._instance=this},e.drawTrianggle=function(t,e,n,o){void 0===o&&(o="00ff00");var r=this.Ins.node.convertToNodeSpaceAR(t),i=this.Ins.node.convertToNodeSpaceAR(e),a=this.Ins.node.convertToNodeSpaceAR(n),c=this.newGraphic();return c.lineWidth=1,c.fillColor.fromHEX(o),c.moveTo(r.x,r.y),c.lineTo(i.x,i.y),c.lineTo(a.x,a.y),c.close(),c.stroke(),c.fill(),c},e.newGraphic=function(){var t=new cc.Node;return t.setParent(this.Ins.node),t.setPosition(cc.v3()),t.addComponent(cc.Graphics)},e.drawPoint=function(t){var e=this.newGraphic(),n=this.Ins.node.convertToNodeSpaceAR(t);return e.arc(n.x,n.y,5,0,360,!1),e.stroke(),e.fill(),e},e.clear=function(){a(this.Ins.node.children).forEach(function(t){return t.destroy()})},e.lockFunc=function(t,e,n){var o=this;this.lockFuncMap.has(t)||(this.lockFuncMap.add(t),setTimeout(function(){e&&e(),o.lockFuncMap.delete(t)},1e3*n))},e._instance=null,e.lockFuncMap=new Set,n=i([s],e)}(cc.Component));n.default=u,cc._RF.pop()},{}],DebugManager:[function(t,e,n){"use strict";cc._RF.push(e,"aed6aBWjyFGpJuByAJDVnYd","DebugManager");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.LotteryDebugInfo=void 0;var r=t("../Static/EventConst"),i=t("./EventCenter"),a=function(){function t(){}return Object.defineProperty(t.prototype,"statistics",{get:function(){for(var t=new Map,e=0;e<this.result.length;e++){var n=this.result[e];t.set(n,t.has(n)?t.get(n)+1:1)}return t.forEach(function(t,e){e.toStr?c.log(e.toStr()+" :"+t+"\n"):c.log(e+" :"+t+"\n")}),t},enumerable:!1,configurable:!0}),t.prototype.log=function(){this.result[0].toStr?c.log(this.result.map(function(t){return t.toStr()})):c.log(this.result)},t}();n.LotteryDebugInfo=a;var c=function(){function t(){}return Object.defineProperty(t,"isInDebug",{get:function(){return this._isInDebug},set:function(t){this._isInDebug=t,i.EC.send(r.E_RefreshDebug)},enumerable:!1,configurable:!0}),t.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];cc.log.apply(cc,o([t],e))},t.labelTag=function(){},t.spriteTag=function(){},t.showUiDebug=function(){var t={},e=0,n={},o=0,r={},i=function(a){if(a&&a.length)for(var c=0;c<a.length;++c){var s=a[c];n[s.name]?n[s.name]++:n[s.name]=1,e++,s.active&&s.isValid&&(s._components&&s._components.forEach(function(e){var n=e.__classname__;t[n]||(t[n]=0),"cc.Label"==n&&(o++,r[s.parent.name]?r[s.parent.name]++:r[s.parent.name]=1),t[n]++}),i(s.children))}};i(cc.director.getScene().children),console.log("\u7c7b\u8be6\u60c5:",t),console.log("\u573a\u666f\u6811\u4e0a\u5171\u6709:"+e+"\u4e2anode"),console.log("\u8282\u70b9\u8be6\u60c5:",n),console.log("\u573a\u666f\u6811\u4e0a\u5171\u6709:"+o+"\u4e2alabel"),console.log("\u6587\u672c\u8be6\u60c5:",r)},t.showNodeDebug=function(){var t=cc.director.getScene().getComponentsInChildren(cc.Sprite),e=0,n=[],o={};t.forEach(function(t){return n.push(t.node)}),n.forEach(function(t){o[t.parent.name]?o[t.parent.name]++:o[t.parent.name]=1,e++}),console.log("\u603b\u5171:"+e+"\u4e2a\u8282\u70b9,\u7eb9\u7406\u7236\u8282\u70b9\u8be6\u60c5:",o)},t.testRandNumber=function(t,e){void 0===e&&(e=100);for(var n=[],o=0;o<e;o++)n.push(t());var r=new a;r.result=n,r.log(),r.statistics},t._isInDebug=!1,t}();n.default=c,window.DB=c,cc._RF.pop()},{"../Static/EventConst":"EventConst","./EventCenter":"EventCenter"}],DebugPlatform:[function(t,e,n){"use strict";cc._RF.push(e,"1475ePe4SBBwbqXJdMuWJ52","DebugPlatform");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.DebugPlatform=void 0;var i=t("../PlatformManager"),a=function(){function t(){}return t.prototype.addShortcut=function(){},t.prototype.onHide=function(){},t.prototype.onShow=function(){},t.prototype.jumpScene=function(){throw new Error("Method not implemented.")},t.prototype.checkScene=function(){},t.prototype.getProtocolText=function(){return new Promise(function(t){return t({userPolicyText:"",privacyPolicyText:""})})},t.prototype.jumpBrandWall=function(){},t.prototype.getBrandWallInfo=function(){return[]},t.prototype.initBrandwall=function(){return o(this,void 0,void 0,function(){return r(this,function(){return[2]})})},t.prototype.startRecord=function(){},t.prototype.stopRecord=function(){},t.prototype.hideCustomBtn=function(){},t.prototype.showCustomBtn=function(){},t.prototype.onRecorderStart=function(){},t.prototype.onRecorderStop=function(){},t.prototype.weakLogin=function(){var t=localStorage.getItem("userId");t||(t=(new Date).getTime()+"",localStorage.setItem("userId",t));var e=[];for(var n in i.GMParamKey)e.push(n);i.Plat.params=new Map;for(var o=0;o<e.length;o++)i.Plat.params.set(e[o],1);var r={id:t,name:t,authed:!!localStorage.getItem("_fakeAuthed")};return Promise.resolve({user:r})},t.prototype.init=function(){return Promise.resolve()},t.prototype.shake=function(){console.log("\u8c03\u8bd5\u6a21\u5f0f\u6ca1\u6709\u632f\u52a8")},t.prototype.showVideo=function(t){t&&t()},t.prototype.share=function(){console.log("debug\u6ca1\u6709\u5206\u4eab")},t}();n.DebugPlatform=a,cc._RF.pop()},{"../PlatformManager":"PlatformManager"}],Defer:[function(t,e,n){"use strict";cc._RF.push(e,"14ff1lX/ZRNNrC/Eh8kmU6Z","Defer"),Object.defineProperty(n,"__esModule",{value:!0}),n.Defer=void 0;n.Defer=function(){var t=this;this.resolved=!1,this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},cc._RF.pop()},{}],DelRuneOP:[function(t,e,n){"use strict";cc._RF.push(e,"8300dpUid9DxKFSeIOo5bav","DelRuneOP");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.DelRuneOP=void 0;var a=t("./CardOPEffectBase"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onEffect=function(t){this.game.ring.delRuneFrom(t.data)},i([s("DelRuneOP")],e)}(a.CardOPEffectBase));n.DelRuneOP=u,cc._RF.pop()},{"./CardOPEffectBase":"CardOPEffectBase"}],DelayRune:[function(t,e,n){"use strict";cc._RF.push(e,"988e31c0a9Nc7wMa7HwB7Jw","DelayRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.DelayRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="SuperRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.enemyDelay+=this.val},e.prototype.onInit=function(e){t.prototype.onInit.call(this,e),e.setData({val:"\u8fdf\u6ede"})},i([s("DelayRune")],e)}(a.RuneNodeInfo));n.DelayRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],DialogManager:[function(t,e){"use strict";cc._RF.push(e,"b3745GPxhhBI4UQ85vYDbO2","DialogManager"),cc._RF.pop()},{}],ECardOPAction:[function(t,e,n){"use strict";cc._RF.push(e,"2836fMiJtdKKoLdLujSen4B","ECardOPAction"),Object.defineProperty(n,"__esModule",{value:!0}),n.ECardOPAction=void 0,function(t){t.RandRune="Rand",t.AddRune="Add",t.DelRune="Del",t.SwapRune="Swap"}(n.ECardOPAction||(n.ECardOPAction={})),cc._RF.pop()},{}],ERuneType:[function(t,e,n){"use strict";cc._RF.push(e,"61eb9iljJFCk7W3Nct5sU29","ERuneType"),Object.defineProperty(n,"__esModule",{value:!0}),n.ERuneType=void 0,function(t){t.None="None",t.Attack="Attack",t.Block="Block",t.AttackMul="AttackMul",t.BlockMul="BlockMul",t.AllMul="AllMul",t.AttackPower="AttackPower",t.BlockPower="BlockPower",t.Power="PowerRune",t.AttackZero="AttackZero",t.BlockZero="BlockZero",t.Reverse="Reverse",t.Repeat="Repeat",t.End="End",t.Energy="Energy",t.Delay="Delay"}(n.ERuneType||(n.ERuneType={})),cc._RF.pop()},{}],EffectManager:[function(t,e,n){"use strict";cc._RF.push(e,"ed45dn2gGNF0rhTig0ORnha","EffectManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Utils/CocosExtension"),c=t("./PoolManager"),s=i(t("./Res")),u=function(){function t(){}return Object.defineProperty(t.prototype,"maskCtrl",{get:function(){return this._maskCtrl},enumerable:!1,configurable:!0}),t.prototype.bindMaskCtrl=function(t){this._maskCtrl=t},t.prototype.unBindMaskCtrl=function(t){this._maskCtrl==t&&(this._maskCtrl=null)},Object.defineProperty(t,"Ins",{get:function(){return null==this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.shakeNode=function(t,e){this.shakeNodeMap.has(t)&&(t.stopAction(this.shakeNodeMap.get(t)),t.setPosition(this.nodePos.get(t)),this.shakeNodeMap.delete(t)),e||(e={times:6,duration:.2,amp:10});var n=e.times||6,o=e.duration||.2,r=e.amp||10,i=e.srcPos||t.getPosition();this.nodePos.set(t,i);for(var a=new cc.Vec2,c=[],s=0;s<n;++s)s==n-1?a.x=a.y=0:cc.Vec2.random(a,r),c.push(cc.moveTo(o/n,i.add(a)));var u=t.runAction(cc.sequence(c));this.shakeNodeMap.set(t,u)},t.emit=function(t,e,n,o,r,i,c,s,u){void 0===s&&(s=[cc.Color.WHITE]);var l=new cc.Node;l.setParent(u),l.position=cc.v3(e);for(var f=a.random(n.x,n.y),p=0;p<f;p++){var h=new cc.Node;h.setParent(l),h.width=50,h.height=50;var d=h.addComponent(cc.Sprite);d.node.opacity=255,d.spriteFrame=t;var y=a.random(o.x,o.y),g=a.random(r.x,r.y),_=a.random(i.x,i.y),m=a.random(c.x,c.y,function(t){return t*(2-t)});h.position=cc.v3(),h.scale=0,h.angle=0;var v=a.random(0,360),b=cc.v3(Math.cos(v*Math.PI/180)*m,Math.sin(v*Math.PI/180)*m);cc.tween(h).to(_,{scale:y,angle:g,position:b},{easing:function(t){return 1-Math.pow(t-1,4)}}).to(.3,{opacity:0}).call(function(){l.destroy()}).start()}},t.sparklePrefabs=function(t,e,n,i){var a=this;return void 0===i&&(i=1),new Promise(function(u){return o(a,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return[4,s.default.Ins.awaitLoaded()];case 1:return r.sent(),(o=c.PM.Get(s.default.Ins.getPrefab(t))).setParent(e),o.position=cc.v3(n),o.opacity=255,cc.tween(o).to(i,{opacity:0}).call(function(){c.PM.Put(o),u()}).start(),[2]}})})})},t.animPrefab=function(t,e,n,i){return o(this,void 0,void 0,function(){var a=this;return r(this,function(){return[2,new Promise(function(u){return o(a,void 0,void 0,function(){var o,a;return r(this,function(r){switch(r.label){case 0:return[4,s.default.Ins.awaitLoaded()];case 1:return r.sent(),(o=c.PM.Get(s.default.Ins.getPrefab(t))).setParent(e),o.position=cc.v3(n),i&&i(o),(a=o.getComponent(cc.Animation)).play(t),a.once(cc.Animation.EventType.FINISHED,function(){c.PM.Put(o),u()}),[2]}})})})]})})},t.angleShake=function(t,e,n){e||(e={times:3,duration:.35,amp:7});for(var o=e.times||3,r=e.duration||.35,i=e.amp||7,a=r/(o+1),c=cc.tween(t).to(a/2,{angle:i},{easing:cc.easing.sineInOut}),s=0;s<o;s++)c=c.to(a/2,{angle:-i},{easing:cc.easing.sineInOut}).to(a/2,{angle:i},{easing:cc.easing.sineInOut});(c=c.to(a/2,{angle:0},{easing:cc.easing.sineInOut})).call(function(){return n&&n()}).start()},t.animSpinePrefab=function(t,e,n,i){return o(this,void 0,void 0,function(){var a=this;return r(this,function(){return[2,new Promise(function(){return o(a,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return[4,s.default.Ins.awaitLoaded()];case 1:return r.sent(),(o=c.PM.Get(s.default.Ins.getPrefab(t))).setParent(e),o.position=cc.v3(n),i&&i(o),o.getComponent(sp.Skeleton).setAnimation(0,t,!1),[2]}})})})]})})},t.startAnimEffect=function(t,e,n,o){void 0===o&&(o=function(){});var r=c.PM.Get(s.default.Ins.getPrefab(t));r.setParent(e),r.position=cc.v3(n),o&&o(r),r.getComponent(cc.Animation).play(t);var i=this.cnt++;return this.prefabNodeMap.set(i,r),i},t.stopAnimEffect=function(t){var e=this.prefabNodeMap.get(t);e&&(c.PM.Put(e),this.prefabNodeMap.delete(t))},t.animPrefab2=function(t,e,n,i){return o(this,void 0,void 0,function(){var o,a;return r(this,function(){return(o=c.PM.Get(s.default.Ins.getPrefab(t))).setParent(e),o.position=cc.v3(n),(a=o.getComponent(cc.Animation)).play(t),a.once(cc.Animation.EventType.FINISHED,function(){c.PM.Put(o),i&&i()}),[2,o]})})},t.instance=null,t.shakeNodeMap=new Map,t.nodePos=new Map,t.prefabNodeMap=new Map,t.cnt=0,t}();n.default=u,cc._RF.pop()},{"../Utils/CocosExtension":"CocosExtension","./PoolManager":"PoolManager","./Res":"Res"}],EndRune:[function(t,e,n){"use strict";cc._RF.push(e,"147cfr9c4lPyaMp2c45AjuI","EndRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.EndRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="SuperRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.jumpEnd=!0},e.prototype.onInit=function(e){t.prototype.onInit.call(this,e),e.setData({val:"\u4f11\u6b62"})},i([s("EndRune")],e)}(a.RuneNodeInfo));n.EndRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],EnemyConfigItem:[function(t,e,n){"use strict";cc._RF.push(e,"ad489Mh4IVJ1JZ1fY7N9zDt","EnemyConfigItem"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],EnemyContainer:[function(t,e,n){"use strict";cc._RF.push(e,"8fe59Obgo1KCbyyXXYzofpO","EnemyContainer");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Managers/EventCenter"),c=t("../../Static/EventConst"),s=t("../Model/EnemyInfo"),u=cc._decorator,l=u.ccclass,f=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inited=!1,e}return r(e,t),e.prototype.init=function(t){this.info=new s.EnemyInfo(t),a.EC.on(c.E_onTrigger,this.onStep,this),a.EC.on(c.E_PlayerAttack,this.onHurt,this),this.inited=!0},e.prototype.clear=function(){a.EC.off(c.E_onTrigger,this.onStep,this),a.EC.off(c.E_PlayerAttack,this.onHurt,this),this.inited=!1},e.prototype.onStep=function(){this.info.actionTimer++,this.info.actionTimer>=this.info.cfg.actionTime&&(this.info.actionTimer=0,this.attack())},e.prototype.attack=function(){var t;a.EC.send(c.E_EnemyAttack,this.info.atk),this.sprite.node.x-=50,null===(t=this.atkTween)||void 0===t||t.stop(),this.atkTween=cc.tween(this.sprite.node).to(.4,{x:0},{easing:cc.easing.quadOut}).start()},e.prototype.onHurt=function(t){this.info.hp-=t,this.info.hp<=0&&(this.info.hp=0,a.EC.send(c.E_EnemyDie))},e.prototype.update=function(){this.inited&&(this.lifeTxt.string=this.info.hp+"/"+this.info.cfg.life,this.lifeBar.fillRange=this.info.hp/this.info.cfg.life,this.atkTxt.string=""+this.info.atk,this.actionTxt.string=this.info.actionTimer+"/"+this.info.cfg.actionTime,this.actionBar.fillRange=this.info.actionTimer/this.info.cfg.actionTime)},i([f(cc.Sprite)],e.prototype,"sprite",void 0),i([f(cc.Label)],e.prototype,"lifeTxt",void 0),i([f(cc.Sprite)],e.prototype,"lifeBar",void 0),i([f(cc.Label)],e.prototype,"atkTxt",void 0),i([f(cc.Label)],e.prototype,"actionTxt",void 0),i([f(cc.Sprite)],e.prototype,"actionBar",void 0),i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Managers/EventCenter":"EventCenter","../../Static/EventConst":"EventConst","../Model/EnemyInfo":"EnemyInfo"}],EnemyCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"6e674ZXailG95bT/Gihtgsr","EnemyCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../configs/out/ConfigMgr"),c=t("../../Managers/EventCenter"),s=t("../../Managers/PoolManager"),u=t("../../Managers/Res"),l=t("../../Static/EventConst"),f=t("./EnemyContainer"),p=t("./RoomController"),h=cc._decorator,d=h.ccclass,y=h.property,g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initGame=function(){c.EC.on(l.E_EnemyDelay,this.enemyDelay,this)},e.prototype.exitGame=function(){c.EC.off(l.E_EnemyDelay,this.enemyDelay,this)},e.prototype.enemyDelay=function(t){this.curEnemy.info.actionTimer=cc.misc.clampf(this.curEnemy.info.actionTimer-t-1,0,this.curEnemy.info.cfg.actionTime)},e.prototype.onEnterRoom=function(t){var e=t+1;this.generateEnemy(e%a.Config.EnemyConfig.list.length)},e.prototype.onExitRoom=function(){this.removeEnemy(this.curEnemy),this.curEnemy=null},e.prototype.generateEnemy=function(t){var e=s.PM.Get(u.default.Ins.getPrefab("EnemyContainer"));(this.curEnemy=e.getComponent(f.default)).init(t),e.setParent(this.folder),e.setPosition(100,0),e.opacity=0,cc.tween(e).to(.4,{position:cc.v3(0,0,0),opacity:255},{easing:cc.easing.quadOut}).start()},e.prototype.removeEnemy=function(t){t&&(t.clear(),cc.tween(t.node).by(.4,{position:cc.v3(-100,0,0),opacity:-255},{easing:cc.easing.quadOut}).call(function(){s.PM.Put(t.node)}).start())},i([y(cc.Node)],e.prototype,"folder",void 0),i([d],e)}(p.default);n.default=g,cc._RF.pop()},{"../../Managers/EventCenter":"EventCenter","../../Managers/PoolManager":"PoolManager","../../Managers/Res":"Res","../../Static/EventConst":"EventConst","../../configs/out/ConfigMgr":"ConfigMgr","./EnemyContainer":"EnemyContainer","./RoomController":"RoomController"}],EnemyInfo:[function(t,e,n){"use strict";cc._RF.push(e,"dddd8nd7DBPlp8ynTSuysOi","EnemyInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.EnemyInfo=void 0;var o=t("../../configs/out/ConfigMgr"),r=function(){function t(t){this.id=t,this.hp=this.cfg.life,this.atk=this.cfg.attack,this.actionTimer=0}return Object.defineProperty(t.prototype,"cfg",{get:function(){return o.Config.EnemyConfig.get(this.id)},enumerable:!1,configurable:!0}),t}();n.EnemyInfo=r,cc._RF.pop()},{"../../configs/out/ConfigMgr":"ConfigMgr"}],EnergyCom:[function(t,e,n){"use strict";cc._RF.push(e,"55873rjHKhH65UOFYfJhMVa","EnergyCom");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("../../Managers/GameManager")),i=o(t("../../TimeUtil")),a=o(t("../UI")),c=o(t("../Common/U_GetEnergy")),s=t("../../Static/Const"),u=function(){function t(t){this.view=t}return t.prototype.init=function(){this.view.m_addBtn.onClick(function(){a.default.getUI(c.default).show()})},t.prototype.onClickAddBtn=function(){a.default.lackEnergy()},t.prototype.refresh=function(){this.view.m_num.text=r.default.Ins.energy.toFixed()},t.prototype.tickRefresh=function(){this.view.m_time.text=r.default.Ins.energy<s.maxEnergy?i.default.time2str(r.default.Ins.energyTime):"\u4f53\u529b\u5df2\u6ee1"},t}();n.default=u,cc._RF.pop()},{"../../Managers/GameManager":"GameManager","../../Static/Const":"Const","../../TimeUtil":"TimeUtil","../Common/U_GetEnergy":"U_GetEnergy","../UI":"UI"}],EnergyRune:[function(t,e,n){"use strict";cc._RF.push(e,"9a49b/B/ZBELJfFFS4Oj8lc","EnergyRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.EnergyRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="SuperRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.energy+=this.val},e.prototype.onInit=function(e){t.prototype.onInit.call(this,e),e.setData({val:"\u5145\u76c8"})},i([s("EnergyRune")],e)}(a.RuneNodeInfo));n.EnergyRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],EnergyTimeline:[function(t,e,n){"use strict";cc._RF.push(e,"419417DWVNPdaDTlVI7m3BH","EnergyTimeline");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./Timeline"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ckKey="EnergyTimeline",e}return r(e,t),i([s],e)}(a.default));n.default=u,cc._RF.pop()},{"./Timeline":"Timeline"}],EventCenter:[function(t,e,n){"use strict";cc._RF.push(e,"44e19m0cXpJG7E+LLMxofUj","EventCenter");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.EC=void 0;var c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.send=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(e=this.instance.node).emit.apply(e,a([t],n))},e.on=function(t,e,n){this.instance.node.on(t,e,n)},e.off=function(t,e,n){this.instance.node.off(t,e,n)},e.once=function(t,e,n){this.instance.node.once(t,e,n)},e.instance=null,n=i([s],e)}(cc.Component));n.default=u,n.EC=u,window.EC=n.EC,cc._RF.pop()},{}],EventConst:[function(t,e,n){"use strict";cc._RF.push(e,"4b8f18CUCtJbY22CSJLsbIN","EventConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.E_RecordChange=n.E_ViewSideBar=n.E_EnemyDelay=n.E_RuneDestory=n.E_EnemyDie=n.E_PlayerAttack=n.E_PlayerDie=n.E_EnemyAttack=n.E_onCycle=n.E_onTrigger=n.E_RefreshSetting=n.E_RefreshDebug=n.E_Tick=n.E_RefreshUI=n.E_InitGame=n.E_InfoChange=n.E_ResLoaded=void 0,n.E_ResLoaded="ResLoaded",n.E_InfoChange="InfoChange",n.E_InitGame="InitGame",n.E_RefreshUI="RefreshUI",n.E_Tick="Tick",n.E_RefreshDebug="E_RefreshDebug",n.E_RefreshSetting="E_RefreshSetting",n.E_onTrigger="onTrigger",n.E_onCycle="onCycle",n.E_EnemyAttack="EnemyAttack",n.E_PlayerDie="PlayerDie",n.E_PlayerAttack="PlayerAttack",n.E_EnemyDie="EnemyDie",n.E_RuneDestory="RuneDestory",n.E_EnemyDelay="EnemyDelay",n.E_ViewSideBar="E_ViewSideBar",n.E_RecordChange="E_RecordChange",cc._RF.pop()},{}],FuiCom:[function(t,e,n){"use strict";cc._RF.push(e,"50f80Lh4/dGS5oG+aQ8CINN","FuiCom");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=t("../Static/Const"),l=i(t("../Managers/EventCenter")),f=s(t("../ui_gen/Common/CommonBinder")),p=s(t("../ui_gen/Home/HomeBinder")),h=s(t("../ui_gen/Mini/MiniBinder")),d=s(t("./UI")),y=new Map([["Common",f.default],["Mini",h.default],["Home",p.default]]),g=function(){function t(){this._isFuiLoaded=!1,this.isShow=!1,d.default.registUI(this.constructor,this)}return Object.defineProperty(t.prototype,"pkgPath",{get:function(){return""+u.fuiPath+this.pkg.pkgName},enumerable:!1,configurable:!0}),t.prototype.getResUrl=function(t){return fairygui.UIPackage.getItemURL(this.pkg.pkgName,t)},t.prototype.getChild=function(t){var e=this._view.getChild(t);return e||console.error("can't find child "+t+" in "+this.pkg.comName),e},t.prototype.getList=function(t){var e=this._view.getChild(t).asList;return e||console.error("can't find list child "+t+" in "+this.pkg.comName),e},t.backShow=function(t){t.scaleX=t.scaleY=0,t.pivotX=t.pivotY=.5,cc.tween(t).to(.5,{scaleY:1,scaleX:1},{easing:cc.easing.backOut}).start()},t.clear=function(){this.initGroot&&(fgui.GRoot.inst.visible=!1),this.initGroot=!1},Object.defineProperty(t.prototype,"IsShow",{get:function(){return this.isShow},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.isShow=!0,this.refreshShow(),l.default.on(l.E_Tick,this.tickRefresh,this)},t.prototype.hide=function(){this.isShow=!1,this.refreshShow(),l.default.off(l.E_Tick,this.tickRefresh,this)},t.prototype.refreshShow=function(){this._isFuiLoaded&&(this._view.visible=this.isShow)},t.prototype.load=function(){return a(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(n,o){t.initGroot||(t.initGroot=!0,fgui.GRoot.create(),fgui.GRoot.inst.visible=!0,fgui.GRoot.inst.node.anchorX=fgui.GRoot.inst.node.anchorY=.5,fgui.GRoot.inst.node.x=fgui.GRoot.inst.node.y=0);var r=y.get(e.pkg.pkgName);r?(r.bindAll(),e.isShow=e.active,e._isFuiLoaded=!1,fgui.UIPackage.loadPackage(e.pkgPath,function(t){if(t)return console.error("\u52a0\u8f7dfui\u5931\u8d25\uff1a",e.pkg.pkgName,e.pkg.comName),void o();e.onUILoaded(),n()})):console.error("\u6ca1\u6709\u8bbe\u7f6ebinder\uff1a",e.pkg.pkgName)})]})})},t.prototype.clear=function(){this.hide(),d.default.unregistUI(this.constructor),this._view.dispose()},t.prototype.onUILoaded=function(){this._isFuiLoaded=!0,this._view=fgui.UIPackage.createObject(this.pkg.pkgName,this.pkg.comName),this._view.width=fgui.GRoot.inst.width,this._view.height=fgui.GRoot.inst.height,this._view.addRelation(fgui.GRoot.inst,fgui.RelationType.Width),this._view.addRelation(fgui.GRoot.inst,fgui.RelationType.Height),fgui.GRoot.inst.addChild(this._view),console.log("load:",this.pkg.comName),this.onFuiInit(),this.isShow?this.show():this.hide()},t.prototype.tickRefresh=function(){},t.prototype.onFuiInit=function(){},t.prototype.update=function(t){this._isFuiLoaded&&this.onUpdate(t)},t.prototype.onUpdate=function(){},t.prototype.onDestroy=function(){this._view.dispose()},t.awaitTrans=function(t){return a(this,void 0,void 0,function(){return c(this,function(){return[2,new Promise(function(e){t.play(function(){e()})})]})})},t.initGroot=!1,t}();n.default=g,cc._RF.pop()},{"../Managers/EventCenter":"EventCenter","../Static/Const":"Const","../ui_gen/Common/CommonBinder":"CommonBinder","../ui_gen/Home/HomeBinder":"HomeBinder","../ui_gen/Mini/MiniBinder":"MiniBinder","./UI":"UI"}],GameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"203ae6qN+9KTKxI54IafMrs","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConfig=void 0;var o=function(){function t(){}return Object.defineProperty(t,"userId",{get:function(){return t._userId||(t._userId=localStorage.getItem("userId"),t._userId||(t._userId=(new Date).getTime()+"",localStorage.setItem("userId",t._userId))),t._userId},enumerable:!1,configurable:!0}),t.init=function(){},t.version="0.1.0",t.gameId="xrqsc_mix",t.registration=12312333312,t.copyrightOwner="\u5317\u4eac\u8c6a\u817e\u81f4\u8fdc\u79d1\u6280\u6709\u9650\u516c\u53f8",t.remote_cdns=[],t}();n.GameConfig=o,cc._RF.pop()},{}],GameEnum:[function(t,e){"use strict";cc._RF.push(e,"5a5e4X8TVRBwYjLmL/R32k9","GameEnum"),cc._RF.pop()},{}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"31e39SXHd9PmIM1ETOpaFEZ","GameManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneName=void 0;var i,a=t("../Controller/Loading/Loading"),c=t("../Controller/SceneCtrl"),s=t("../Controller/TouchCtrl/Toucher"),u=t("../Static/EventConst"),l=t("../Static/LevelConfig"),f=t("../UI/FuiCom"),p=t("../UI/UI"),h=t("./AnimationManager"),d=t("./ClockManager"),y=t("./EventCenter"),g=t("./Res"),_=t("./StorageManager"),m=t("./TimerManager");(function(t){t.game="game",t.home="home",t.miniGame="MiniGame"})(i=n.SceneName||(n.SceneName={}));var v=function(){function t(){this.scene=null,this._timeScale=1,this.pauseFrameTween=null}return Object.defineProperty(t.prototype,"curScene",{get:function(){return this.scene},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasSize",{get:function(){return cc.view.getCanvasSize()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"energy",{get:function(){return _.default.Get(_.EStorageKey.energy,300)},set:function(t){_.default.Set(_.EStorageKey.energy,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coin",{get:function(){return _.default.Get(_.EStorageKey.coin,0)},set:function(t){_.default.Set(_.EStorageKey.coin,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"energyTime",{get:function(){return _.default.Get(_.EStorageKey.energyTime,l.Cfg().maxEnergyTime)},set:function(t){_.default.Set(_.EStorageKey.energyTime,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Ins",{get:function(){return null==this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.getScene=function(){return this.Ins.curScene},Object.defineProperty(t.prototype,"screenSize",{get:function(){var t=cc.view.getVisibleSize();return cc.v2(t.width,t.height)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeScale",{get:function(){return this._timeScale},set:function(t){this._timeScale=t,h.AM.updateScale(t)},enumerable:!1,configurable:!0}),t.prototype.onShowGame=function(){this.scene.onShow()},t.prototype.onHideGame=function(){this.scene.onHide()},t.prototype.pauseFrame=function(t){var e=this,n={frame:0,time:0};this.pauseFrameTween&&this.pauseFrameTween.stop(),this._timeScale=0,this.pauseFrameTween=cc.tween(n).to(1,{time:1},{progress:function(){n.frame++,n.frame>=t&&(e.pauseFrameTween.stop(),e.pauseFrameTween=null,e._timeScale=1)}}).start()},t.prototype.start=function(){return o(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return y.EC.send(u.E_InitGame),f.default.clear(),(t=cc.instantiate(g.default.Ins.getPrefab(i.game))).setParent(this.sceneRoot),this.scene=t.getComponent(c.default),this.scene.isLoaded=!1,[4,this.enterScene(this.scene)];case 1:return e.sent(),this.scene.isLoaded=!0,_.default.save(),[2]}})})},t.prototype.update=function(t){t*=this.timeScale,m.default.Ins.update(t,this.timeScale),d.default.update(t*this.timeScale),y.default.send(u.E_Tick,t)},t.prototype.jumpToScene=function(t){return o(this,void 0,void 0,function(){var e,n;return r(this,function(o){switch(o.label){case 0:return s.default.block(),p.default.block(),[4,a.default.Ins.enterLoading()];case 1:return o.sent(),e=this.scene,this.scene.clear(),f.default.clear(),this.exitScene(this.scene),e.node.destroy(),(n=cc.instantiate(g.default.Ins.getPrefab(t))).setParent(this.sceneRoot),this.scene=n.getComponent(c.default),this.scene.isLoaded=!1,[4,this.enterScene(this.scene)];case 2:return o.sent(),this.scene.isLoaded=!0,[2]}})})},t.prototype.finishEnter=function(){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,a.default.Ins.exitLoading()];case 1:return t.sent(),s.default.unblock(),[2]}})})},t.prototype.enterScene=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return this.scene=t,[4,g.default.Ins.awaitLoaded()];case 1:return e.sent(),[4,this.scene.load()];case 2:return e.sent(),this.scene.enter(this.finishEnter.bind(this)),[2]}})})},t.prototype.exitScene=function(t){return o(this,void 0,void 0,function(){return r(this,function(){return this.scene.exit(),this.scene==t&&(this.scene=null),[2]})})},t}();n.default=v,window.GM=v,cc._RF.pop()},{"../Controller/Loading/Loading":"Loading","../Controller/SceneCtrl":"SceneCtrl","../Controller/TouchCtrl/Toucher":"Toucher","../Static/EventConst":"EventConst","../Static/LevelConfig":"LevelConfig","../UI/FuiCom":"FuiCom","../UI/UI":"UI","./AnimationManager":"AnimationManager","./ClockManager":"ClockManager","./EventCenter":"EventCenter","./Res":"Res","./StorageManager":"StorageManager","./TimerManager":"TimerManager"}],GridManager:[function(t,e,n){"use strict";cc._RF.push(e,"ea80ffo/b1Aj7h2LgC3Adht","GridManager");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.PathInfo=n.GridMap=void 0;var i=r(t("./GameManager")),a=function(){function t(){}return t.create=function(t,e,n,o,r,i,a,s){var u=new c;return u.init(t,e,n,o,r,i,a,s),u},t}();n.default=a;var c=function(){function t(){this.grids=[],this.col=5,this.row=5,this.width=40,this.height=40,this.layers=[],this.cameraTween=null}return Object.defineProperty(t.prototype,"zero",{get:function(){return cc.v2(-this.width*this.col/2,-this.height*this.row/2)},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e,n,o,r,i,a,c){this.mapCamera=o,this.root=e,this.layers=n,this.col=r,this.row=i,this.width=a,this.height=c;for(var s=0;s<this.col;s++){this.grids.push([]);for(var u=0;u<this.row;u++){var l=t(cc.v2(s,u));this.grids[s].push(l);var f=cc.v2(this.width*s+this.width/2,this.height*u+this.height/2).add(this.zero);l.init(cc.v2(s,u),n[l.layer],f)}}},t.prototype.findGrid=function(t){return this.validCrd(t)?this.grids[t.x][t.y]:null},t.prototype.filterGrid=function(t){var e=[];return this.grids.forEach(function(n){return n.forEach(function(n){t(n)&&e.push(n)})}),e},t.prototype.wp2lp=function(t){return this.root.convertToNodeSpaceAR(t)},t.prototype.wp2crd=function(t){return this.lp2crd(this.wp2lp(t))},t.prototype.lp2crd=function(t){var e=t.sub(this.zero),n=Math.floor(e.x/this.width),o=Math.floor(e.y/this.height);return cc.v2(n,o)},t.prototype.crd2lp=function(t){return this.zero.add(cc.v2(t.x*this.width,t.y*this.height)).add(cc.v2(this.width/2,this.height/2))},t.prototype.isInScreen=function(t,e,n,o,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0);var a=this.sp2crd(cc.v2(o,n)),c=this.sp2crd(cc.v2(i.default.Ins.screenSize.x-r,i.default.Ins.screenSize.y-e)),s=cc.v2();return t.x<a.x?s.x=-1:t.x>c.x?s.x=1:t.y>a.y?s.y=-1:t.y<c.y&&(s.y=1),s},t.prototype.validCrd2=function(t,e){return t>=0&&t<this.col&&e>=0&&e<this.row},t.prototype.validCrd=function(t){return t.x>=0&&t.x<this.col&&t.y>=0&&t.y<this.row},t.prototype.neighborGrids=function(t,e){void 0===e&&(e=1);for(var n=t,o=[],r=-e;r<=e;r++)for(var i=-e;i<=e;i++){var a=cc.v2(r,i);if(!(Math.abs(a.x)+Math.abs(a.y)>e||a.equals(cc.v2(0,0)))){var c=n.add(cc.v2(r,i));this.validCrd(c)&&o.push(c)}}return o},t.prototype.limitCameraPos=function(t){return t},t.prototype.moveDelta=function(t){var e=this.mapCamera.node.position,n=e.sub(cc.v3(t)),o=this.limitCameraPos(n);return this.mapCamera.node.position=cc.v3(o),o.x!=e.x||o.y!=e.y},t.prototype.moveFocusTo=function(t,e){var n,o=this,r=this.crd2lp(t),a=this.root.convertToWorldSpaceAR(r),c=this.mapCamera.getScreenToWorldPoint(cc.v2(i.default.Ins.screenSize.x/2,i.default.Ins.screenSize.y/2)),s=cc.v3(a).sub(c),u=this.mapCamera.node.position.add(s);u=this.limitCameraPos(u),null===(n=this.cameraTween)||void 0===n||n.stop(),this.cameraTween=cc.tween(this.mapCamera.node).to(.5,{position:u},{easing:cc.easing.sineOut,onUpdate:function(){return e&&e()}}).call(function(){return o.cameraTween=null}).start()},t.prototype.findAllGrid=function(t,e,n){void 0===n&&(n=function(){return!0});var o=[],r=[],i=t,a=[];for(r.unshift(t);r.length>0;){n(i=r.shift())&&o.push(i),a.push(i);for(var c=this.neighborGrids(i),s=function(t){var n=c[t];a.findIndex(function(t){return t.equals(n)})<0&&u.validCrd(n)&&e(n)&&r.unshift(n)},u=this,l=0;l<c.length;l++)s(l)}return o},t.prototype.findPath=function(t,e,n){var r=[],i=[],a=[],c=t,u=0,l=function(t){var n,s,l,p,h,d,y=(n=t,s=e,l=Math.abs(n.x-s.x),p=Math.abs(n.y-s.y),h=Math.min(l,p),d=Math.max(l,p),Math.sqrt(2)*h+(d-h)),g=cc.Vec2.distance(c,t);g>1&&(g*=.999);var _=u+g,m=r.find(function(e){return e.crd.equals(t)}),v=i.find(function(e){return e.crd.equals(t)});v&&v.cost+v.dist>y+_?(v.cost=_,v.dist=y,v.crd=t,f.set(t,o(a,[t]))):v||m&&!(m.cost+m.dist>y+_)||(i.unshift({crd:t,cost:_,dist:y}),f.set(t,o(a,[t])))},f=new Map;for(l(t);i.length>0;){var p=i.shift();if(c=p.crd,u=p.cost,a=o(f.get(c)),r.push(p),c.equals(e)){var h=f.get(c);return new s(h)}for(var d=this.neighborGrids(c),y=0;y<d.length;y++){var g=d[y];this.validCrd(g)&&n(g)&&l(g)}i.sort(function(t,e){return t.dist+t.cost-(e.dist+e.cost)})}return new s([])},t.prototype.crd2lp2=function(t,e){var n=this.row*this.height,o=this.col*this.width;return cc.v2(t*this.width-o/2+this.width/2,n-e*this.height-n/2-this.height/2)},t.prototype.sp2crd=function(t){var e=this.mapCamera.getScreenToWorldPoint(t),n=this.root.convertToNodeSpaceAR(e),o=this.crd2lp2(0,0).sub(cc.v2(this.width/2,-this.height/2)),r=Math.floor((n.x-o.x)/this.width),i=Math.floor((n.y-o.y)/-this.height);return cc.v2(r,i)},t}();n.GridMap=c;var s=function(){function t(t){void 0===t&&(t=[]),this.pathCrds=[],this.pathCrds=t}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0==this.pathCrds.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startCrd",{get:function(){return this.isEmpty?null:this.pathCrds[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endCrd",{get:function(){return this.isEmpty?null:this.pathCrds[this.pathCrds.length-1]},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.pathCrds.map(function(t){return"("+t.x+","+t.y+")"}).join("->")},t}();n.PathInfo=s,cc._RF.pop()},{"./GameManager":"GameManager"}],GuideManager:[function(t,e){"use strict";cc._RF.push(e,"4c02cTeIKtH8I36gbmUKr3Y","GuideManager"),cc._RF.pop()},{}],HashManager:[function(t,e,n){"use strict";cc._RF.push(e,"c6047xs0jtFfYjB4AA7IgXj","HashManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.hash=void 0;var o=function(){function t(){}return t.getHash=function(t){return this.map.has(t)||this.map.set(t,++this.hashCnt),this.map.get(t)},t.hashCnt=0,t.map=new Map,t}();n.default=o,n.hash=function(t,e){return void 0===e&&(e=""),"hash"+o.getHash(t)+"_"+e},cc._RF.pop()},{}],HomeBinder:[function(t,e,n){"use strict";cc._RF.push(e,"4b822w1AUlJUYlUnD4Lz0tt","HomeBinder");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./UI_Home")),i=function(){function t(){}return t.bindAll=function(){fgui.UIObjectFactory.setExtension(r.default.URL,r.default)},t}();n.default=i,cc._RF.pop()},{"./UI_Home":"UI_Home"}],HomeCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"9f767eqsYZNe7s6xZ8Ft3hj","HomeCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(t("../Controller/SceneCtrl")),l=t("../Managers/PlatformManager"),f=t("../Managers/SoundManager"),p=s(t("../UI/Common/U_TouchPad")),h=s(t("../UI/Common/U_Modal")),d=cc._decorator,y=d.ccclass,g=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"fairyUI",{get:function(){return[p.default,h.default]},enumerable:!1,configurable:!0}),e.prototype.enter=function(t){return void 0===t&&(t=null),a(this,void 0,void 0,function(){return c(this,function(){return l.platformMix.showCustomBtn(),t&&t(),[2]})})},e.prototype.onShow=function(){console.log("back to Game: home"),f.SM.stopMusic(),f.SM.activeMusic&&f.SM.playMusic(f.SoundType.Bgm1)},e.prototype.onHide=function(){f.SM.stopMusic()},e.prototype.exit=function(){f.SM.stopMusic()},i([y],e)}(u.default));n.default=g,cc._RF.pop()},{"../Controller/SceneCtrl":"SceneCtrl","../Managers/PlatformManager":"PlatformManager","../Managers/SoundManager":"SoundManager","../UI/Common/U_Modal":"U_Modal","../UI/Common/U_TouchPad":"U_TouchPad"}],IRuneResult:[function(t,e,n){"use strict";cc._RF.push(e,"88fe9zuQahLf4RVfWwkB3j0","IRuneResult");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.RuneResultInfo=void 0;var r=function(){function t(){this.atk=0,this.block=0,this._jumpEnd=!1,this.energy=0,this.enemyDelay=0,this.lastRunes=[],this._reverse=!1,this._repeat=0,this.dirty=!1}return Object.defineProperty(t.prototype,"jumpEnd",{get:function(){return this._jumpEnd},set:function(t){this._jumpEnd=t,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reverse",{get:function(){return this._reverse},set:function(t){this._reverse=t,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeat",{get:function(){return this._repeat},set:function(t){this._repeat=t,this.dirty=!0},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.atk=0,this.block=0,this.jumpEnd=!1,this.energy=0,this.enemyDelay=0,this.lastRunes=[],this.reverse=!1,this.repeat=0,this.dirty=!1},t.prototype.clone=function(){var e=new t;return e.atk=this.atk,e.block=this.block,e.jumpEnd=this.jumpEnd,e.energy=this.energy,e.enemyDelay=this.enemyDelay,e.lastRunes=o(this.lastRunes),e.reverse=this.reverse,this.repeat=this.repeat,this.dirty=!1,e},t}();n.RuneResultInfo=r,cc._RF.pop()},{}],LevelConfig:[function(t,e,n){"use strict";cc._RF.push(e,"24bc4ds5ihGnbhBMp41OKwn","LevelConfig");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Cfg=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxEnergy=50,e.maxEnergyTime=300,e.combineTime=.7,e}var n;return r(e,t),n=e,Object.defineProperty(e,"Ins",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){null==n.instance&&(n.instance=this)},e.instance=null,i([s],e.prototype,"maxEnergy",void 0),i([s],e.prototype,"maxEnergyTime",void 0),i([s],e.prototype,"combineTime",void 0),n=i([c],e)}(cc.Component);n.default=u,n.Cfg=function(){return u.Ins},window.Cfg=n.Cfg,cc._RF.pop()},{}],LevelCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"6dfea0DLmJDpoRX3T0adtOa","LevelCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Controller/SceneCtrl"),c=t("../Managers/EventCenter"),s=t("../Managers/PlatformManager"),u=t("../Static/EventConst"),l=t("./Room/CardCtrl"),f=t("./Room/EnemyCtrl"),p=t("./Room/PlayerCtrl"),h=t("./Room/RingCtrl"),d=t("./Timeline/TimelineCtrl"),y=cc._decorator,g=y.ccclass,_=y.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roomIdx=0,e}return r(e,t),Object.defineProperty(e.prototype,"ctrler",{get:function(){return[this.ring,this.player,this.enemyCtrl,this.cardCtrl]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fairyUI",{get:function(){return[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"banCardOP",{get:function(){return this._banCardOP},set:function(t){this._banCardOP=t},enumerable:!1,configurable:!0}),e.prototype.enter=function(t){void 0===t&&(t=null),s.platformMix.hideCustomBtn(),t&&t(),this.ctrler.forEach(function(t){return t.initGame()}),this.roomIdx=0,this.enterRoom(this.roomIdx),c.EC.on(u.E_EnemyDie,this.nextRoom,this),c.EC.on(u.E_PlayerDie,this.loseGame,this),this.losePanel.active=!1},e.prototype.exit=function(){this.ctrler.forEach(function(t){return t.exitGame()}),c.EC.off(u.E_EnemyDie,this.nextRoom,this),c.EC.off(u.E_PlayerDie,this.loseGame,this)},e.prototype.changeEnergy=function(t){this.player.energy=cc.misc.clampf(this.player.energy+t,0,this.player.maxEnergy)},e.prototype.onReleaseCard=function(t,e){var n=t.info.cfg.cost;this.player.energy>=n&&(this.costEnergy(n),t.info.onEffect(e),this.cardCtrl.releaseCard(t))},e.prototype.costEnergy=function(t){this.player.energy=cc.misc.clampf(this.player.energy-t,0,this.player.maxEnergy)},e.prototype.enterRoom=function(t){this.ctrler.forEach(function(e){return e.onEnterRoom(t)})},e.prototype.exitRoom=function(t){this.ctrler.forEach(function(e){return e.onExitRoom(t)})},e.prototype.nextRoom=function(){this.exitRoom(this.roomIdx),this.roomIdx++,this.enterRoom(this.roomIdx)},e.prototype.loseGame=function(){d.TimelineCtrl.timeScale=0,this.losePanel.active=!0},e.prototype.restart=function(){d.TimelineCtrl.timeScale=1,this.losePanel.active=!1,this.exitRoom(this.roomIdx),this.ctrler.forEach(function(t){return t.exitGame()}),this.roomIdx=0,this.ctrler.forEach(function(t){return t.initGame()}),this.enterRoom(this.roomIdx)},e.prototype.attamptUseCard=function(t){return this.player.energy>=t},e.prototype.energyError=function(){this.player.energyAnim.play("energyLack")},i([_(h.default)],e.prototype,"ring",void 0),i([_(p.default)],e.prototype,"player",void 0),i([_(f.default)],e.prototype,"enemyCtrl",void 0),i([_(l.default)],e.prototype,"cardCtrl",void 0),i([_(cc.Node)],e.prototype,"losePanel",void 0),i([g],e)}(a.default);n.default=m,cc._RF.pop()},{"../Controller/SceneCtrl":"SceneCtrl","../Managers/EventCenter":"EventCenter","../Managers/PlatformManager":"PlatformManager","../Static/EventConst":"EventConst","./Room/CardCtrl":"CardCtrl","./Room/EnemyCtrl":"EnemyCtrl","./Room/PlayerCtrl":"PlayerCtrl","./Room/RingCtrl":"RingCtrl","./Timeline/TimelineCtrl":"TimelineCtrl"}],LoadingNode:[function(t,e,n){"use strict";cc._RF.push(e,"e5872YzaNpHEbdRCw+hDl2t","LoadingNode");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,u=s.ccclass,l=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInEnter=!1,e.loadingLbl=null,e.isFinishProgress=!1,e.progressValue=0,e.progressResolve=null,e.resolveFunc=null,e}return r(e,t),Object.defineProperty(e.prototype,"anim",{get:function(){return this.getComponent(cc.Animation)},enumerable:!1,configurable:!0}),e.prototype.enter=function(){return a(this,void 0,void 0,function(){var t=this;return c(this,function(){return[2,new Promise(function(e){return a(t,void 0,void 0,function(){var t,n,o=this;return c(this,function(){return this.node.active=!0,null===(t=this.anim)||void 0===t||t.play("enter"),this.isInEnter=!0,null===(n=this.anim)||void 0===n||n.once(cc.Animation.EventType.FINISHED,function(){o.anim.play("idle"),o.isInEnter=!1,e()}),[2]})})})]})})},e.prototype.exit=function(){var t,e;return a(this,void 0,void 0,function(){var n=this;return c(this,function(o){switch(o.label){case 0:return[4,this.awaitForEnter()];case 1:return o.sent(),null===(t=this.anim)||void 0===t||t.play("exit"),null===(e=this.anim)||void 0===e||e.once(cc.Animation.EventType.FINISHED,function(){n.anim.play("wait"),n.isInEnter=!1,n.node.active=!1}),this.anim||(this.node.active=!1),[2]}})})},e.prototype.idle=function(){this.node.active=!0,this.isInEnter=!1},e.prototype.update=function(t){this.isInEnter||(this.resolveFunc&&this.resolveFunc(),this.resolveFunc=null),this.loadingLbl&&(this.loadingLbl.string="\u52a0\u8f7d\u4e2d"),this.isFinishProgress?this.progressValue=Math.min(this.progressValue+5*t,1):this.progressValue=cc.misc.lerp(this.progressValue,.8,t),this.progressValue>=1&&(this.progressResolve&&this.progressResolve(),this.loadingLbl.string="\u52a0\u8f7d\u5b8c\u6210",this.progressResolve=null),this.progress&&(this.progress.fillRange=this.progressValue)},e.prototype.awaitForEnter=function(){var t=this;return new Promise(function(e){t.isInEnter?t.resolveFunc=e:e()})},e.prototype.awaitEndProgress=function(){var t=this;return new Promise(function(e){t.isFinishProgress&&t.progressValue>=1?e():t.progressResolve=e})},e.prototype.startProgress=function(){this.isFinishProgress=!1,this.progressValue=0},e.prototype.finishProgress=function(){this.isFinishProgress=!0},i([l(cc.Label)],e.prototype,"loadingLbl",void 0),i([l(cc.Sprite)],e.prototype,"progress",void 0),i([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{}],Loading:[function(t,e,n){"use strict";cc._RF.push(e,"d865aArExhC8Zt8LYILXWWx","Loading");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(t("./LoadingNode")),l=s(t("./StartLoading")),f=cc._decorator,p=f.ccclass,h=f.property,d=function(t){function e(){var e=t.call(this)||this;return e.loading=[],e.isFinishProgress=!1,e.progressValue=0,n.instance=e,e}var n;return r(e,t),n=e,Object.defineProperty(e,"Ins",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.startLoad=function(){this.startLoading.hideBtn(),this.startLoading.idle(),this.startLoading.startProgress(),this.startLoading.initPolicy(),this.showingLoading=this.startLoading},e.prototype.awaitEndLoadingStart=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.startLoading.finishProgress(),[4,this.startLoading.awaitEndProgress()];case 1:return t.sent(),this.startLoading.showBtn(),[2]}})})},e.prototype.enterLoading=function(t){return void 0===t&&(t=0),a(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return t>=this.loading.length?[2]:[4,(e=this.loading[t]).enter()];case 1:return n.sent(),this.showingLoading=e,[2]}})})},e.prototype.exitLoading=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.showingLoading?[4,this.awaitForEnter()]:[2];case 1:return t.sent(),[4,this.showingLoading.exit()];case 2:return t.sent(),this.showingLoading=null,[2]}})})},e.prototype.idleLoading=function(t){t.active=!0;var e=t.getComponent(cc.Animation);null==e||e.play("idle")},e.prototype.startProgress=function(){this.showingLoading&&this.showingLoading.startProgress()},e.prototype.awaitEndProgress=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.showingLoading?(this.showingLoading.finishProgress(),[4,this.showingLoading.awaitEndProgress()]):[2];case 1:return t.sent(),[2]}})})},e.prototype.awaitForEnter=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.showingLoading?[4,this.showingLoading.awaitForEnter()]:[2];case 1:return t.sent(),[2]}})})},i([h(l.default)],e.prototype,"startLoading",void 0),i([h(u.default)],e.prototype,"loading",void 0),n=i([p],e)}(cc.Component);n.default=d,window.Loading=d,cc._RF.pop()},{"./LoadingNode":"LoadingNode","./StartLoading":"StartLoading"}],LoginManager:[function(t,e,n){"use strict";cc._RF.push(e,"2b00aNS10ZFZKkQ80BH7RnL","LoginManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./PlatformManager"),a=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.$instance||(t.$instance=new t),t.$instance},enumerable:!1,configurable:!0}),t.prototype.login=function(){return o(this,void 0,Promise,function(){return r(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.platformLogin()];case 1:return t.sent(),[3,3];case 2:return t.sent(),console.log("getLoginInfo error"),[2,!1];case 3:return[2,!0]}})})},t.prototype.platformLogin=function(){return o(this,void 0,Promise,function(){var t;return r(this,function(e){switch(e.label){case 0:return[4,i.platformMix.weakLogin()];case 1:return t=e.sent(),[2,JSON.stringify(t.user)]}})})},t}();n.default=a,cc._RF.pop()},{"./PlatformManager":"PlatformManager"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"b337eFk2g5F/YF1/8hzhcIz","Main");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(t("./Controller/Loading/Loading")),l=t("./Managers/EventCenter"),f=s(t("./Managers/GameManager")),p=s(t("./Managers/LoginManager")),h=t("./Managers/PlatformManager"),d=s(t("./Managers/Res")),y=s(t("./Managers/StorageManager")),g=t("./Static/Const"),_=t("./Static/EventConst"),m=t("./Static/GameConfig"),v=s(t("./UI/Common/U_ShareVideo")),b=s(t("./UI/Common/U_TaskTips")),P=s(t("./UI/UI")),C=t("./configs/out/ConfigMgr"),O=s(t("./ui_gen/Common/CommonBinder")),R=cc._decorator,M=R.ccclass,w=R.property,I=R.menu,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=null,e.isStartGame=!1,e}return r(e,t),e.prototype.onLoad=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return cc.game.addPersistRootNode(this.node),cc.dynamicAtlasManager&&(cc.dynamicAtlasManager.enabled=!1),console.warn("\u5f00\u59cb\u521d\u59cb\u5316"),[4,this.init()];case 1:return t.sent(),console.warn("\u5f00\u59cb\u767b\u5f55\uff08main)"),[4,this.login()];case 2:return t.sent(),console.log("check scene"),[4,h.platformMix.checkScene(function(t){h.Plat.hasSideBar=t},function(){h.Plat.hasSideBar=!1})];case 3:return t.sent(),console.warn("\u767b\u5f55\u5b8c\u6bd5"),C.Config.init("jsons/out/config"),[4,this.load()];case 4:return t.sent(),h.platformMix.onRecorderStart(function(){h.Plat.isInRecord=!0,l.EC.send(_.E_RecordChange)}),h.platformMix.onRecorderStop(function(t){P.default.getUI(b.default).setData("\u7ed3\u675f\u5f55\u5236"),h.Plat.isInRecord=!1,l.EC.send(_.E_RecordChange),P.default.getUI(v.default).setData(t)}),h.platformMix.onShow(function(t){"sidebar"==t.scene&&(h.Plat.isViewSideBar=!0,l.EC.send(_.E_ViewSideBar)),f.default.Ins.onShowGame()}),h.platformMix.onHide(function(){return f.default.Ins.onHideGame()}),h.platformMix.hideCustomBtn(),l.EC.on(_.E_InitGame,this.initGame,this),window.Main=this,[2]}})})},e.prototype.initGame=function(){this.isStartGame=!0},e.prototype.load=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,y.default.load()];case 1:return t.sent(),this.loading.startLoad(),[4,d.default.Ins.load()];case 2:return t.sent(),[4,this.loadFui()];case 3:return t.sent(),[4,this.loading.awaitEndLoadingStart()];case 4:return t.sent(),f.default.Ins.sceneRoot=this.sceneRoot,f.default.Ins.camera=this.cam,[2]}})})},e.prototype.loadFui=function(){return a(this,void 0,void 0,function(){return c(this,function(){return[2,new Promise(function(t){fairygui.UIPackage.loadPackage(""+g.fuiPath+g.commonFuiPkg,function(){O.default.bindAll(),t()})})]})})},e.prototype.update=function(t){this.isStartGame&&f.default.Ins.update(t)},e.prototype.login=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,p.default.instance.login()];case 1:return t.sent(),[2]}})})},e.prototype.init=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return m.GameConfig.init(),[4,h.Plat.initialize()];case 1:return t.sent(),[2]}})})},i([w(u.default)],e.prototype,"loading",void 0),i([w(cc.Camera)],e.prototype,"cam",void 0),i([w(cc.Node)],e.prototype,"sceneRoot",void 0),i([M,I("Main/main")],e)}(cc.Component);n.default=E;var j=!1;if(cc.sys.os===cc.sys.OS_IOS||cc.sys.os===cc.sys.OS_OSX){var S=cc.sys.platform===cc.sys.WECHAT_GAME;if(S?null===GameGlobal||void 0===GameGlobal?void 0:GameGlobal.isIOSHighPerformanceMode:cc.sys.isBrowser){var T=window.navigator.userAgent.match(/((OS )|(Version\/))(\d+)(\.(\d+))?/);if(T){var A=+T[4]||0,k=+T[6]||0;cc.macro.ENABLE_WEBGL_ANTIALIAS=14===A,j=S?14===A||15===A&&k<4:14===A}}}cc.game.on(cc.game.EVENT_ENGINE_INITED,function(){j?(cc.MeshBuffer.prototype.checkAndSwitchBuffer=function(t){this.vertexOffset+t>65535&&(this.uploadData(),this._batcher._flush())},cc.MeshBuffer.prototype.forwardIndiceStartToOffset=function(){this.uploadData(),this.switchBuffer()}):(cc.MeshBuffer.prototype.checkAndSwitchBuffer=function(t){this.vertexOffset+t>65535&&(this.uploadData(),this._batcher._flush(),this.switchBuffer())},cc.MeshBuffer.prototype.forwardIndiceStartToOffset=function(){this.indiceStart=this.indiceOffset})}),cc._RF.pop()},{"./Controller/Loading/Loading":"Loading","./Managers/EventCenter":"EventCenter","./Managers/GameManager":"GameManager","./Managers/LoginManager":"LoginManager","./Managers/PlatformManager":"PlatformManager","./Managers/Res":"Res","./Managers/StorageManager":"StorageManager","./Static/Const":"Const","./Static/EventConst":"EventConst","./Static/GameConfig":"GameConfig","./UI/Common/U_ShareVideo":"U_ShareVideo","./UI/Common/U_TaskTips":"U_TaskTips","./UI/UI":"UI","./configs/out/ConfigMgr":"ConfigMgr","./ui_gen/Common/CommonBinder":"CommonBinder"}],MiniBinder:[function(t,e,n){"use strict";cc._RF.push(e,"e6171uj3sNGwZipI8GX4FMI","MiniBinder");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./UI_Game")),i=function(){function t(){}return t.bindAll=function(){fgui.UIObjectFactory.setExtension(r.default.URL,r.default)},t}();n.default=i,cc._RF.pop()},{"./UI_Game":"UI_Game"}],MoneyCom:[function(t,e,n){"use strict";cc._RF.push(e,"11f98wxQMFJmqDL5ivywKcu","MoneyCom");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.MoneyCom=void 0;var c=i(t("../../Managers/EventCenter")),s=a(t("../UI")),u=a(t("../Common/U_GetCoin")),l=function(){function t(t){this.view=t,this.init()}return t.prototype.init=function(){var t=this;this.view.m_addBtn.onClick(function(){t.onClickAddMoney()})},t.prototype.onClickAddMoney=function(){s.default.getUI(u.default).show(),c.default.send(c.E_InfoChange)},t.prototype.refresh=function(){},t}();n.MoneyCom=l,cc._RF.pop()},{"../../Managers/EventCenter":"EventCenter","../Common/U_GetCoin":"U_GetCoin","../UI":"UI"}],MoveManager:[function(t,e,n){"use strict";cc._RF.push(e,"bfc42CIcAxJ9rzFk26v94C5","MoveManager");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.PathInfo=void 0;var c=a(t("./GameManager")),s=cc._decorator,u=s.ccclass,l=(s.property,function(){function t(t,e){this.node=null,this.node=t,this.map=e}return t.prototype.tick=function(){return!0},t.prototype.end=function(){},t.prototype.stop=function(){},t.prototype.start=function(){},t}()),f=function(t){function e(e,n,o,r,i,a,c){var s=t.call(this,e,n)||this;return s.startPos=null,s.endPos=null,s.time=0,s.timer=0,s.startPos=i,s.endPos=a,s.time=o,s.easing=r,s.endCall=c,s}return r(e,t),e.prototype.start=function(){this.timer=0},e.prototype.tick=function(t){if(this.timer+=t,this.timer>=this.time)return this.node.setLayerPos(this.endPos),!0;var e=cc.Vec2.lerp(cc.v2(),this.startPos,this.endPos,this.easing(this.timer/this.time));return this.node.setLayerPos(e),!1},e.prototype.end=function(){this.node.setLayerPos(this.endPos),this.endCall&&this.endCall(this.endPos)},e}(l),p=function(t){function e(e,n,o,r,i,a,c,s,u){var l=t.call(this,e,n)||this;return l.path=null,l.speed=0,l._pathIdx=0,l.path=l.map.findPath(r,i),l.tickCall=a,l.endCall=c,l.cancelCall=s,l.getCrdCall=u,l.speed=o,l._pathIdx=-1,l}return r(e,t),e.prototype.tick=function(t){var e=this,n=function(t){return e.map.crd2lp(t)};if(-1==this._pathIdx){if(this._targetPos=n(this.path.startCrd),this.path.pathCrds.length>1){var o=this._curPos,r=n(this.path.pathCrds[1]);cc.Vec2.dot(this._targetPos.sub(o),r.sub(o))<=0&&(this._targetPos=r,this._pathIdx=0)}}else{if(this._pathIdx>=this.path.pathCrds.length-1)return!0;this._targetPos=n(this.path.pathCrds[this._pathIdx+1])}var i=this._targetPos.sub(this._startPos).normalize();this.tickCall&&this.tickCall(i);var a=this.node.getLayerPos().add(i.mul(t*this.speed));return cc.Vec2.dot(i,this._targetPos.sub(a))<=0?(this._pathIdx++,this._startPos=this._targetPos,this.node.setLayerPos(this._targetPos),this.getCrdCall&&this.getCrdCall(this.path.pathCrds[this._pathIdx])):this.node.setLayerPos(a),!1},e.prototype.start=function(){this._pathIdx=-1,this._startPos=this.node.getLayerPos(),this._curPos=this.node.getLayerPos(),this._nextPos=cc.v2(),this._targetPos=cc.v2()},e.prototype.end=function(){this.node.setLayerPos(this.map.crd2lp(this.path.endCrd)),this.endCall&&this.endCall(this.path.endCrd)},e.prototype.stop=function(){this.cancelCall&&this.cancelCall(this.node.getLayerPos())},e}(l),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.moveTo=function(t,e,o,r,i,a,c,s,u){n.map.has(t)&&n.map.delete(t);var l=new p(t,e,o,r,i,a,c,s,u);l.path.isEmpty?l.cancelCall&&l.cancelCall(t.getLayerPos()):(this.map.set(t,l),l.start())},e.directTo=function(t,e,o,r,i,a,c){n.map.has(t)&&n.map.delete(t);var s=new f(t,e,o,r,i,a,c);this.map.set(t,s),s.start()},e.stopMove=function(t){var e=n.map.get(t);e&&(e.stop(),n.map.delete(t))},e.prototype.update=function(t){t*=c.default.Ins.timeScale;var e=n.map,o=[];e.forEach(function(e){e.tick(t)&&o.push(e)}),o.forEach(function(t){n.map.delete(t.node),t.end()})},e.map=new Map,n=i([u],e)}(cc.Component);n.default=h;var d=function(){function t(t){void 0===t&&(t=[]),this.pathCrds=[],this.pathCrds=t}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0==this.pathCrds.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startCrd",{get:function(){return this.isEmpty?null:this.pathCrds[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endCrd",{get:function(){return this.isEmpty?null:this.pathCrds[this.pathCrds.length-1]},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.pathCrds.map(function(t){return"("+t.x+","+t.y+")"}).join("->")},t}();n.PathInfo=d,cc._RF.pop()},{"./GameManager":"GameManager"}],MulRune:[function(t,e,n){"use strict";cc._RF.push(e,"69c35GbgtxABLdkjVPQWxfR","MulRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.MulRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="SuperRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.atk*=this.val,t.block*=this.val},i([s("MulRune")],e)}(a.RuneNodeInfo));n.MulRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],NoneRune:[function(t,e,n){"use strict";cc._RF.push(e,"c95001/BkdLcLJIfX8ZMtna","NoneRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.NoneRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onTrigger=function(){},i([s("NoneRune")],e)}(a.RuneNodeInfo));n.NoneRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],NumberFormatter:[function(t,e,n){"use strict";cc._RF.push(e,"1259cUZEwJKm4+TjhlPw7Fx","NumberFormatter"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t,"locale",{get:function(){return t.m_locale},set:function(e){t.m_locale=e},enumerable:!1,configurable:!0}),t.format=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var o=0,r=Math.pow(10,e),i=Math.round(r*t)/r,a=-1==i.indexOf("."),c=a?i.length:i.indexOf("."),s=(a&&!e?"":n?",":".")+i.substr(c+1);if(e)for(var u=0;u<=e-(i.length-(a?c-1:c));u++)s+="0";for(;o+3<("-"==i.substr(0,1)?c-1:c);)s=(n?".":",")+i.substr(c-(o+=3),3)+s;return i.substr(0,c-o)+s},t.formatRound=function(e){if(null==e)return"0";if(e=e,"en_US"==t.locale||"vi_VN"==t.locale)return t.formatEngNumber(e);var n;switch(t.locale){case"zh_CN":n=["\u4ebf","\u4e07"];break;case"zh_TW":n=["\u5104","\u842c"];break;case"ja_JP":n=["\u5104","\u4e07"];break;case"ko_KR":n=["\uc5b5","\ub9cc"];break;default:n=[]}if(n.length>0){if(e>=1e8)return Math.floor(e/1e8)+n[0];if(e>=1e5)return Math.floor(e/1e4)+n[1]}return e.toString()},t.formatTime=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),isNaN(t)||t<=0)return"00:00";var o=Math.ceil(t/1e3),r=0,i="";n&&(o-=86400*(r=Math.floor(o/3600/24)),i=r+(e?"\u5929":":"));var a=Math.floor(o/3600);o-=3600*a;var c=Math.floor(o/60);return o-=60*c,i+(this.formatTimeNumber(a)+(e?"\u5c0f\u65f6":":"))+this.formatTimeNumber(c)+(e?"\u5206":":")+this.formatTimeNumber(o)+(e?"\u79d2":"")},t.formatTimeHm=function(t,e){if(void 0===e&&(e=!1),isNaN(t)||t<=0)return"00:00";var n=Math.ceil(t/1e3),o=Math.floor(n/3600);n-=3600*o;var r=Math.ceil(n/60);return(e?o>0?o+"h":"":this.formatTimeNumber(o)+":")+(e?r>0?r+"m":"":this.formatTimeNumber(r))},t.formatTimeMs=function(t,e){if(void 0===e&&(e=!1),isNaN(t)||t<=0)return"00:00";var n=Math.ceil(t/1e3),o=Math.floor(n/60);return n-=60*o,(e?o>0?o+"m":"":this.formatTimeNumber(o)+":")+(e?n>0?n+"s":"":this.formatTimeNumber(n))},t.formatTimeNumber=function(t){return t<10?"0"+t:t.toString()},t.formatEngNumber=function(e){var n,o;return(e=e)>=1e9?(o=e/1e9,n=(.01*Math.floor(o/.01)).toFixed(2),t.formatEndingZero(n)+"B"):e>=1e6?(o=e/1e6,n=(.01*Math.floor(o/.01)).toFixed(2),t.formatEndingZero(n)+"M"):e>=1e3?(o=e/1e3,n=(.01*Math.floor(o/.01)).toFixed(2),t.formatEndingZero(n)+"K"):e+""},t.formatEndingZero=function(e){return t.endWith(e,"00")?e.substring(0,e.length-3):t.endWith(e,"0")?e.substring(0,e.length-1):e},t.endWith=function(t,e){return e==t.substring(t.length-e.length)},t.m_locale="zh_CN",t}();n.default=o,cc._RF.pop()},{}],OPAreaBase:[function(t,e,n){"use strict";cc._RF.push(e,"8f39dbeyb9EXIqYbeoAsmur","OPAreaBase"),Object.defineProperty(n,"__esModule",{value:!0}),n.OPAreaBase=void 0;var o=function(){function t(){}return t.prototype.pointTest=function(){return!0},t.prototype.getMiddleWp=function(){return cc.v2(0,0)},t.prototype.onRefresh=function(){},t.prototype.onEnter=function(){},t.prototype.onExit=function(){},t}();n.OPAreaBase=o,cc._RF.pop()},{}],OPAreaCancel:[function(t,e,n){"use strict";cc._RF.push(e,"7bac3psr/VA15q6Z2G38wSR","OPAreaCancel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.pointTest=function(t){var e=this.data.parent.convertToNodeSpaceAR(t);return this.data.getBoundingBox().contains(e)},e.prototype.onEnter=function(){this.data.active=!0},e.prototype.onExit=function(){this.data.active=!1},e.prototype.getMiddleWp=function(){return this.data.getBoundingBox().center},e}(t("./OPAreaBase").OPAreaBase);n.default=i,cc._RF.pop()},{"./OPAreaBase":"OPAreaBase"}],OPAreaFull:[function(t,e,n){"use strict";cc._RF.push(e,"8d6d1WXWFpLwI3LchPelKhc","OPAreaFull");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.pointTest=function(){return!0},e.prototype.getMiddleWp=function(){return cc.v2(0,0)},e}(t("./OPAreaBase").OPAreaBase);n.default=i,cc._RF.pop()},{"./OPAreaBase":"OPAreaBase"}],OPAreaRune:[function(t,e,n){"use strict";cc._RF.push(e,"a90e0ZL4LhAAasyUdgagEFR","OPAreaRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.pointTest=function(t){var e=this.data.selectArea.parent.convertToNodeSpaceAR(t);return!!this.data.selectArea.getBoundingBox().contains(e)},e.prototype.onEnter=function(){console.log("onEnter"+this.data.idx)},e.prototype.getMiddleWp=function(){return this.data.selectArea.convertToWorldSpaceAR(cc.v2())},e}(t("./OPAreaBase").OPAreaBase);n.default=i,cc._RF.pop()},{"./OPAreaBase":"OPAreaBase"}],OPAreaSector:[function(t,e,n){"use strict";cc._RF.push(e,"a38eax4NiNIK619AttibR6Y","OPAreaSector");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(e,n,o,r,i){var a=t.call(this)||this;return a.center=null,a.startRad=0,a.endRad=0,a.center=e,a.startRad=n*Math.PI/180-Math.PI/2,a.endRad=o*Math.PI/180-Math.PI/2,a.radius=r,a.data=i,a}return r(e,t),Object.defineProperty(e.prototype,"centerPos",{get:function(){return this.center.position},enumerable:!1,configurable:!0}),e.prototype.onEnter=function(){},e.prototype.onExit=function(){},e.prototype.pointTest=function(t){var e=this.center.parent.convertToNodeSpaceAR(t),n=-e.sub(cc.v2(this.centerPos.x,this.centerPos.y)).signAngle(cc.v2(1,0));return n<-Math.PI/2&&(n+=2*Math.PI),!(this.endRad<this.startRad||n<this.startRad||n>this.endRad||cc.Vec2.distance(this.center.position,cc.v3(e.x,e.y,0))>this.radius+100)},e.prototype.getMiddleWp=function(){var t=(this.startRad+this.endRad)/2;console.log("Middle:"+t);var e=cc.v2(this.centerPos.x+this.radius*Math.cos(t),this.centerPos.y+this.radius*Math.sin(t));return this.center.parent.convertToWorldSpaceAR(e)},e}(t("./OPAreaBase").OPAreaBase);n.default=i,cc._RF.pop()},{"./OPAreaBase":"OPAreaBase"}],PlatformManager:[function(t,e,n){"use strict";cc._RF.push(e,"1908dBPNTNHtaHW/9dQ0czP","PlatformManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.platformMix=n.DeviceSystemInfo=n.Plat=n.GMParamKey=n.ShakeType=void 0;var i=t("../Static/GameConfig"),a=t("./Platforms/DebugPlatform");(function(t){t.MEDIUM="medium",t.LIGHT="light",t.HEAVY="heavy"})(n.ShakeType||(n.ShakeType={})),function(t){t.showDebug="showDebug",t.showAd="showAd",t.openMiniGame="openMiniGame",t.openGrayContent="openGrayContent"}(n.GMParamKey||(n.GMParamKey={}));var c=function(){function t(){}return t.getParam=function(t){return this.params.get(t)>=1},t.initialize=function(){var e=this;return new Promise(function(a,c){return o(e,void 0,void 0,function(){return r(this,function(){return t.isInited||(t.isInited=!0,cc.sys.platform!==cc.sys.WECHAT_GAME&&cc.sys.platform!==cc.sys.BYTEDANCE_GAME||(n.DeviceSystemInfo=Object.assign(n.DeviceSystemInfo,wx.getSystemInfoSync())),n.platformMix.init(i.GameConfig.gameId,i.GameConfig.env,i.GameConfig.version).then(function(){a()}).catch(c)),[2]})})})},t.isInRecord=!1,t.confirmPrivacy=!1,t.hasSideBar=!1,t.isViewSideBar=!1,t}();n.Plat=c,n.DeviceSystemInfo={SDKVersion:"1.0.0",batteryLevel:100,benchmarkLevel:1,brand:"devtools",devicePixelRatio:2,fontSizeSetting:16,language:"zh_CN",model:"iPhone",pixelRatio:2,platform:"devtools",screenHeight:667,screenWidth:375,statusBarHeight:20,system:"",version:"6.6.3",windowHeight:667,windowWidth:375},window.Plat=c,n.platformMix=new a.DebugPlatform,cc._RF.pop()},{"../Static/GameConfig":"GameConfig","./Platforms/DebugPlatform":"DebugPlatform"}],PlayerCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"07680OMFmhEG4AHYojn63j9","PlayerCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Managers/EventCenter"),c=t("../../Static/EventConst"),s=t("./RoomController"),u=cc._decorator,l=u.ccclass,f=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.energy=0,e.life=96,e.block=0,e.maxEnergy=10,e.slotsNum=5,e}return r(e,t),e.prototype.initGame=function(){this.energy=0,this.life=96,this.block=0,this.maxEnergy=10,this.slotsNum=5,a.EC.on(c.E_onTrigger,this.onStep,this),a.EC.on(c.E_EnemyAttack,this.onHurt,this),a.EC.on(c.E_onCycle,this.onCycle,this)},e.prototype.exitGame=function(){a.EC.off(c.E_onTrigger,this.onStep,this),a.EC.off(c.E_EnemyAttack,this.onHurt,this),a.EC.off(c.E_onCycle,this.onCycle,this)},e.prototype.onLoad=function(){this.initGame()},e.prototype.onCycle=function(t){this.block=0,this.addBlock(t.block),t.atk>0&&this.onAttack(t.atk)},e.prototype.onStep=function(){this.energy=cc.misc.clampf(this.energy+.2,0,this.maxEnergy)},e.prototype.update=function(){var t=Math.max(0,this.life);this.blockTxt.string=""+this.block,this.energyBar.fillRange=this.energy/this.maxEnergy,this.lifeTxt.string=t+"/100",this.hpBar.fillRange=t/100},e.prototype.addBlock=function(t){this.block=t},e.prototype.onAttack=function(t){this.sprite.node.x=50,cc.tween(this.sprite.node).to(.4,{x:0},{easing:cc.easing.quadOut}).start(),a.EC.send(c.E_PlayerAttack,t)},e.prototype.onHurt=function(t){var e=this.block-t;e<=0?(this.block=0,this.life+=e):this.block=e,this.life<=0&&a.EC.send(c.E_PlayerDie)},i([f(cc.Label)],e.prototype,"blockTxt",void 0),i([f(cc.Label)],e.prototype,"lifeTxt",void 0),i([f(cc.Sprite)],e.prototype,"energyBar",void 0),i([f(cc.Sprite)],e.prototype,"sprite",void 0),i([f(cc.Sprite)],e.prototype,"hpBar",void 0),i([f(cc.Animation)],e.prototype,"energyAnim",void 0),i([l],e)}(s.default);n.default=p,cc._RF.pop()},{"../../Managers/EventCenter":"EventCenter","../../Static/EventConst":"EventConst","./RoomController":"RoomController"}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"80c87G27EVGKaevNPf9D63T","PoolManager");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabPool=n.ObjectPool=n.AbstractPool=n.PM=void 0;var i=t("../Utils/collections/dictionary"),a=function(){function t(){}return t.PrefabPool=function(t,e,n){if(void 0===e&&(e=-1),void 0===n&&(n=0),!t)throw"prefab is null";if(this.HasPoolPrefab(t))return this.prefabPools.tryGetValue(t);var o=new u;return o.prefab=t,o.name=t.name,o.MaxPoolCount=e,o.PrepareCount=n,this.prefabPools.add(t,o),o},t.Get=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=0);var o=this.PrefabPool(t,e,n).Get();return o.poolRes=t,o.poolType="Prefab",o.active=!0,o.opacity=255,o},t.Put=function(t,e){void 0===e&&(e=!1);var n=t.poolRes;return n?(this.GetPoolPrefab(n).Put(t),!0):(t.parent&&t.removeFromParent(e),!1)},t.PutPrefabByParent=function(e){for(;e.childrenCount;)t.Put(e.children[0])},t.GetPrototype=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=0);var o=this.Pool(t,e,n).Get();return o.poolRes=t,o.poolType="Class",o},t.PutPrototype=function(t){var e=t.poolRes;return!!e&&("Class"==t.poolType?this.GetPool(e).Put(t):"Prefab"==t.poolType&&this.GetPoolPrefab(e).Put(t),!0)},t.Pool=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=0),this.HasPool(t)&&this.typePools.tryGetValue(t);var o=new s(t);return o.name=t.name,o.MaxPoolCount=e,this.typePools.add(t,o),o},t.HasPoolPrefab=function(t){return t&&this.prefabPools.containsKey(t)},t.HasPool=function(t){return this.typePools.containsKey(t)},t.GetPoolPrefab=function(t){if(!t)throw"prefab";if(!this.HasPoolPrefab(t))throw" pool does not exist."+t.name;return this.prefabPools.tryGetValue(t)},t.GetPool=function(t){if(!this.HasPool(t))throw"pool does not exist."+t;return this.typePools.tryGetValue(t)},t.typePools=new i.Dictionary,t.prefabPools=new i.Dictionary,t}();n.PM=a;var c=function(){};n.AbstractPool=c;var s=function(t){function e(e){var n=t.call(this)||this;return n.mPool=[],n.mMaxPoolCount=10,n.mPrepareCount=10,n.type=e,n}return r(e,t),e.prototype.Get=function(){return this.PoolCount>0?this.mPool.pop():this.Instantiate()},e.prototype.Put=function(t){-1==this.mPool.indexOf(t)&&(this.PoolCount<this.mMaxPoolCount||this.mMaxPoolCount<0?(this.Remove(t),this.mPool.push(t)):this.Destroy(t))},e.prototype.Destroy=function(){},e.prototype.Remove=function(){},e.prototype.Instantiate=function(){return new this.type},e.prototype.PrepareInit=function(){if(this.PoolCount<this.mPrepareCount&&this.type)for(var t=0;t<this.mPrepareCount-this.PoolCount;t++){var e=new this.type;this.mPool.push(e)}},Object.defineProperty(e.prototype,"PoolCount",{get:function(){return this.mPool.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MaxPoolCount",{get:function(){return this.mMaxPoolCount},set:function(t){this.mMaxPoolCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PrepareCount",{get:function(){return this.mPrepareCount},set:function(t){this.mPrepareCount=t,this.PrepareInit()},enumerable:!1,configurable:!0}),e}(c);n.ObjectPool=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.Instantiate=function(){return cc.instantiate(this.prefab)},e.prototype.Destroy=function(t){t.stopAllActions(),t.removeFromParent(!0),t.destroy()},e.prototype.Remove=function(t){t.stopAllActions(),t.removeFromParent(!1)},e.prototype.PrepareInit=function(){if(this.PoolCount<this.PrepareCount&&this.prefab)for(var t=0;t<this.PrepareCount-this.PoolCount;t++){var e=cc.instantiate(this.prefab);this.Put(e)}},e}(s);n.PrefabPool=u,window.PM=a,cc._RF.pop()},{"../Utils/collections/dictionary":"dictionary"}],PowerRune:[function(t,e,n){"use strict";cc._RF.push(e,"136eeSTC9VJE6NHEH6s7Kck","PowerRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.PowerRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="SuperRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.atk=Math.pow(t.atk,this.val),t.block=Math.pow(t.block,this.val)},e.prototype.onInit=function(e){t.prototype.onInit.call(this,e),e.setData({val:"\u5e42\u4e58"})},i([s("PowerRune")],e)}(a.RuneNodeInfo));n.PowerRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],RandAddOP:[function(t,e,n){"use strict";cc._RF.push(e,"8607cKIUOhDPaShMA+QO2zY","RandAddOP");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.RandAddOP=void 0;var a=t("./CardOPEffectBase"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([s("RandAddOP")],e)}(a.CardOPEffectBase));n.RandAddOP=u,cc._RF.pop()},{"./CardOPEffectBase":"CardOPEffectBase"}],RepeatRune:[function(t,e,n){"use strict";cc._RF.push(e,"b0a86OIUQBM6JHIuasZI2IL","RepeatRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.RepeatRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="SuperRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.repeat+=this.val},e.prototype.onInit=function(e){t.prototype.onInit.call(this,e),e.setData({val:"\u56de\u54cd"})},i([s("RepeatRune")],e)}(a.RuneNodeInfo));n.RepeatRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],Res:[function(t,e,n){"use strict";cc._RF.push(e,"e389eQsjWJLdbbDNGYmkxzX","Res");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Static/EventConst"),c=t("../Utils/CocosExtension"),s=t("./EventCenter"),u=t("./SoundManager"),l=cc._decorator.ccclass,f=function(){function t(){this._isLoaded=!1,this.spriteMap=new Map,this.prefabMap=new Map,this.lvMap=new Map}var e;return e=t,Object.defineProperty(t,"Ins",{get:function(){return e.instance||(e.instance=new e),e.instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._isLoaded},enumerable:!1,configurable:!0}),t.prototype.load=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return u.SM.init(),this._isLoaded=!1,[4,this.loadFont()];case 1:return t.sent(),[4,this.loadSprite()];case 2:return t.sent(),[4,this.loadLevelBg()];case 3:return t.sent(),[4,this.loadPrefab()];case 4:return t.sent(),[4,this.loadLevel()];case 5:return t.sent(),this._isLoaded=!0,console.log("=======\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210\uff01\uff01\uff01\uff01========"),s.EC.send(a.E_ResLoaded),[2]}})})},t.prototype.awaitLoaded=function(){return r(this,void 0,void 0,function(){var t=this;return i(this,function(){return[2,new Promise(function(e){t.isLoaded?e():s.EC.once(a.E_ResLoaded,function(){return e()})})]})})},t.prototype.loadLevel=function(){return r(this,void 0,void 0,function(){var t=this;return i(this,function(){return[2,new Promise(function(e){t.lvMap=new Map,cc.resources.loadDir("Jsons/levels/",cc.TextAsset,function(n,o){n?console.error("load level err:"+n):(o.forEach(function(e){c.hasStr(e.name,"lv")&&t.lvMap.set(e.name,e)}),e())})})]})})},t.prototype.getMapAsset=function(t){return this.lvMap.get("lv"+t)},t.prototype.loadBundle=function(t){return new Promise(function(e,n){var o=cc.assetManager.getBundle(t);o?e(o):cc.assetManager.loadBundle(t,function(t,o){!t&&o?e(o):n(null)})})},t.prototype.loadAsset=function(t,e,n,o,a,c){return void 0===a&&(a=!1),void 0===c&&(c=null),r(this,void 0,Promise,function(){var r,s,u,l;return i(this,function(i){switch(i.label){case 0:return[4,this.loadBundle(t)];case 1:return(r=i.sent())?(s=!0,c&&(u=c._onPreDestory,l=function(){s=!1,u.call(this)},c._onPreDestory=l),[2,new Promise(function(t){var i=r.get(e,n);if(i)return i;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];s&&t.apply(void 0,e)}n===cc.SceneAsset?r.loadScene(e,n,o,function(t,e){!t&&e?c(e):(console.error("loadAsset:"+t),c(null))}):a?r.preload(e,n,o,function(t,e){!t&&e?c(e):(console.error("loadAsset:"+t),c(null))}):r.load(e,n,o,function(t,e){!t&&e?c(e):(console.error("loadAsset:"+t),console.error(t),c(null))})})]):[2,null]}})})},t.prototype.loadFont=function(){return r(this,void 0,void 0,function(){return i(this,function(){return[2,new Promise(function(t){cc.resources.loadDir("fonts/",cc.Font,function(e,n){e?console.error("load font err:"+e):(n.forEach(function(t){fgui.registerFont(t.name,t)}),t())})})]})})},t.prototype.loadConfig=function(){return r(this,void 0,void 0,function(){return i(this,function(){return[2,new Promise(function(t){cc.resources.load("Jsons/config",cc.JsonAsset,function(e,n){e?console.error("\u914d\u7f6e\u52a0\u8f7d\u5931\u8d25\uff01"):(config.decodeConfig(n.json),t())})})]})})},t.prototype.loadSprite=function(){return r(this,void 0,void 0,function(){var t=this;return i(this,function(){return[2,new Promise(function(e){cc.resources.loadDir("textures/icons/",cc.SpriteFrame,function(n,o){n?console.error("load sprite err:"+n):(o.forEach(function(e){t.spriteMap.set(e.name,e)}),e())})})]})})},t.prototype.getLevelBg=function(t){return this.getSprite("lv"+t)},t.prototype.loadLevelBg=function(){return r(this,void 0,void 0,function(){var t=this;return i(this,function(){return[2,new Promise(function(e){cc.resources.loadDir("textures/objects/",cc.SpriteFrame,function(n,o){n?console.error("load sprite err:"+n):(o.forEach(function(e){t.spriteMap.set(e.name,e)}),e())})})]})})},t.prototype.loadPrefab=function(){return r(this,void 0,void 0,function(){var t=this;return i(this,function(){return[2,new Promise(function(e){cc.resources.loadDir("prefabs/res/",cc.Prefab,function(n,o){n?console.error("load prefab err:"+n):(o.forEach(function(e){t.prefabMap.set(e.name,e)}),e())})})]})})},Object.defineProperty(t.prototype,"rowSprite",{get:function(){return this.getPrefab("sprite")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultGrid",{get:function(){return this.getPrefab("GridTile")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drops",{get:function(){return this.getPrefab("drops")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tag",{get:function(){return this.getPrefab("tag")},enumerable:!1,configurable:!0}),t.prototype.getPrefab=function(t){return this.prefabMap.get(t)||(console.error("\u627e\u4e0d\u5230\u9884\u5236\u4f53\uff1a"+t),null)},t.prototype.getSprite=function(t){return this.spriteMap.get(t)||(console.error("\u627e\u4e0d\u5230\u56fe\u7247\uff1a"+t),null)},t.getIconFuiUrl=function(t){return"texture/icons/"+t},t.getHeadFuiUrl=function(t){return"texture/heads/"+t},t.getBannerFuiUrl=function(t){return"texture/banners/"+t},t.instance=null,t.coinUrl="\u949e\u7968",t.coinQuality=1,e=o([l],t)}();n.default=f,window.Res=f,cc._RF.pop()},{"../Static/EventConst":"EventConst","../Utils/CocosExtension":"CocosExtension","./EventCenter":"EventCenter","./SoundManager":"SoundManager"}],ReverseRune:[function(t,e,n){"use strict";cc._RF.push(e,"976b0a0JgFBTJOkWTa3+mn7","ReverseRune");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ReverseRune=void 0;var a=t("./RuneNodeInfo"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabName="SuperRuneCore",e}return r(e,t),e.prototype.onTrigger=function(t){t.reverse=!t.reverse},e.prototype.onInit=function(e){t.prototype.onInit.call(this,e),e.setData({val:"\u9006\u8f6c"})},i([s("ReverseRune")],e)}(a.RuneNodeInfo));n.ReverseRune=u,cc._RF.pop()},{"./RuneNodeInfo":"RuneNodeInfo"}],RingCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"b4991q4McFA0bpScSeC3bZQ","RingCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../configs/out/ConfigMgr"),c=t("../../configs/out/ERuneType"),s=t("../../Managers/EventCenter"),u=t("../../Managers/GameManager"),l=t("../../Managers/PoolManager"),f=t("../../Managers/Res"),p=t("../../Static/Const"),h=t("../../Static/EventConst"),d=t("../Model/IRuneResult"),y=t("../Timeline/RingTimeline"),g=t("../Timeline/TimelineCtrl"),_=t("./RingEffectProxy"),m=t("./RoomController"),v=t("./RuneContainer"),b=cc._decorator,P=b.ccclass,C=b.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.smooth=5,e.interval=.8,e.pause=!1,e.cardEffectProxy=new _.RingEffectProxy(e),e.runeNodes=[],e.lastCrd=0,e.info=new d.RuneResultInfo,e}return r(e,t),Object.defineProperty(e.prototype,"len",{get:function(){return this.runeNodes.length+1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return 360/(this.len*this.interval)*this.radius},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.baseRadius},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cycle",{get:function(){return 360/this.speed*this.radius},enumerable:!1,configurable:!0}),e.prototype.pauseGame=function(){this.pause=!this.pause,this.refreshPause()},e.prototype.refreshPause=function(){g.TimelineCtrl.timeScale=this.pause?0:1,this.pauseSprite.active=!this.pause,this.playSprite.active=this.pause},Object.defineProperty(e.prototype,"hasMaxRune",{get:function(){return this.runeNodes.length>=p.maxRune},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseRadius",{get:function(){return cc.Vec3.distance(this.centerNode.position,this.startNode.position)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"crd",{get:function(){return 360*this.timeline.process},enumerable:!1,configurable:!0}),e.prototype.crd2pos=function(t){var e=t*Math.PI/180-Math.PI/2,n=this.centerNode.position.x+this.radius*Math.cos(e),o=this.centerNode.position.y+this.radius*Math.sin(e);return cc.v2(n,o)},e.prototype.idx2crd=function(t,e){return(t+1)/(e+1)*360},e.prototype.refreshGraphic=function(){this.graphics.clear(),this.graphics.moveTo(this.startNode.position.x,this.startNode.position.y),this.graphics.arc(this.centerNode.position.x,this.centerNode.position.y,this.radius,0,360,!1),this.graphics.stroke(),this.graphics.close()},e.prototype.createSingleRuneNode=function(t,e,n,o,r){var i=l.PM.Get(f.default.Ins.getPrefab("RuneContainer"));return i.getComponent(v.default).init(n,t,e,o,r),i.setParent(this.runeNodeFolder),i},e.prototype.insertRuneTo=function(t,e,n){if(!(this.runeNodes.length>=p.maxRune)){var o=l.PM.Get(f.default.Ins.getPrefab("RuneContainer")),r=o.getComponent(v.default);if(r.init(e,t,this.runeNodes.length,this.idx2crd(t,this.runeNodes.length),n),o.setParent(this.runeNodeFolder),t>=this.runeNodes.length)t=this.runeNodes.length,this.runeNodes.push(r);else{t<=0&&(t=0);for(var i=r,a=t;a<this.runeNodes.length;a++){var c=this.runeNodes[a];this.runeNodes[a]=i,i.idx=a,i=c}this.runeNodes.push(i)}return this.refreshRuneNodesPos(),o}},e.prototype.swapRuneBy=function(t,e){var n=this.runeNodes[t];this.runeNodes[t]=this.runeNodes[e],this.runeNodes[e]=n,this.info.lastRunes[this.info.lastRunes.length-1]=this.runeNodes[t],this.refreshRuneNodesPos()},e.prototype.delRuneFrom=function(t){var e=this.runeNodes.indexOf(t);e>=0&&(this.runeNodes.splice(e,1),t.clear(),l.PM.Put(t.node)),this.refreshRuneNodesPos()},e.prototype.initGame=function(){var t=a.Config.RuneOriginCfgConfig.list;this.runeNodes.forEach(function(t){return l.PM.Put(t.node)}),this.runeNodes=[];for(var e=0;e<t.length;e++){var n=t[e],o=this.createSingleRuneNode(e,t.length,n.runeId,e,n.val);this.runeNodes.push(o.getComponent(v.default))}this.refreshRuneNodesPos(),this.refreshPause(),this.timeline.reset(),this.info.reset(),s.EC.on(h.E_RuneDestory,this.onDestoryRune,this)},e.prototype.exitGame=function(){this.runeNodes.forEach(function(t){t.clear(),l.PM.Put(t.node)}),this.runeNodes=[],this.refreshRuneNodesPos(),s.EC.off(h.E_RuneDestory,this.onDestoryRune,this)},e.prototype.onDestoryRune=function(t){this.delRuneFrom(t)},e.prototype.endCycle=function(){this.timeline.setClock(1)},e.prototype.addRuneByCards=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this.runeNodes.length+t.length,o=this.runeNodes.length;o<n;o++){var r=a.Config.CardCfgConfig.get(t[o-this.runeNodes.length]),i=this.createSingleRuneNode(o,n,r.runeId,this.idx2crd(o,n),r.runeVal);this.runeNodes.push(i.getComponent(v.default))}this.runeNodes.sort(function(t,e){return t.idx-e.idx}),this.refreshRuneNodesPos()},e.prototype.refreshRuneNodesPos=function(){var t=this;this.runeNodes.forEach(function(e,n){e.idx=n,e.all=t.runeNodes.length;var o=t.idx2crd(e.idx,t.runeNodes.length),r=t.crd2pos(o);e.angleCrd=o,e.node.setPosition(r.x,r.y)}),this.timeline.resetCycle(this.cycle)},e.prototype.onLoad=function(){this.refreshGraphic(),this.timeline=new y.default(this.cycle,this.tickCycle.bind(this),this.stepCycle.bind(this)),window.Ring=this},e.prototype.tickCycle=function(){var t=360*this.timeline.process,e=this.crd2pos(t);this.point.setPosition(e.x,e.y);for(var n=0;n<this.runeNodes.length;n++){var o=!0,r=this.runeNodes[n],i=r.angleCrd,a=Math.abs(this.lastCrd-this.crd),l=this.info;if((this.lastCrd-i)*(this.crd-i)<0&&a<180){for(r.isPassTriggerCd(this.timeline.allTimer)&&-1==l.lastRunes.indexOf(r)&&r.onTrigger(l,this.timeline.allTimer),l.lastRunes.push(r);l.dirty;)if(0!=l.energy&&(u.default.getScene().changeEnergy(l.energy),l.energy=0),l.jumpEnd&&(this.endCycle(),o=!1),0!=l.enemyDelay&&(s.EC.send(h.E_EnemyDelay,l.enemyDelay),l.enemyDelay=0),this.timeline.reverse!=l.reverse&&(this.timeline.setReverse(l.reverse),l.lastRunes=[r]),l.dirty=!1,l.repeat){for(var f=l.lastRunes,p=l.repeat,d=f.length-1;d>=0&&p>0;d--){var y=f[d];y.runeInfo.cfg.runeType!=c.ERuneType.Repeat&&y.isPassTriggerCd(this.timeline.allTimer)&&(y.onTrigger(l,this.timeline.allTimer),p--)}l.repeat=0}o&&s.EC.send(h.E_onTrigger);break}}this.lastCrd=this.crd},e.prototype.stepCycle=function(){s.EC.send(h.E_onTrigger),s.EC.send(h.E_onCycle,this.info.clone()),this.info.reset(),this.timeline.reverse=!1},e.prototype.update=function(){this.atkTxt.string=""+this.info.atk,this.blockTxt.string=""+this.info.block},i([C(cc.Node)],e.prototype,"centerNode",void 0),i([C(cc.Node)],e.prototype,"startNode",void 0),i([C(cc.Graphics)],e.prototype,"graphics",void 0),i([C(cc.Prefab)],e.prototype,"runeNodePrefab",void 0),i([C],e.prototype,"smooth",void 0),i([C(cc.Node)],e.prototype,"point",void 0),i([C(cc.Label)],e.prototype,"atkTxt",void 0),i([C(cc.Label)],e.prototype,"blockTxt",void 0),i([C],e.prototype,"interval",void 0),i([C(cc.Node)],e.prototype,"playSprite",void 0),i([C(cc.Node)],e.prototype,"pauseSprite",void 0),i([C(cc.Node)],e.prototype,"runeNodeFolder",void 0),i([P],e)}(m.default);n.default=O,cc._RF.pop()},{"../../Managers/EventCenter":"EventCenter","../../Managers/GameManager":"GameManager","../../Managers/PoolManager":"PoolManager","../../Managers/Res":"Res","../../Static/Const":"Const","../../Static/EventConst":"EventConst","../../configs/out/ConfigMgr":"ConfigMgr","../../configs/out/ERuneType":"ERuneType","../Model/IRuneResult":"IRuneResult","../Timeline/RingTimeline":"RingTimeline","../Timeline/TimelineCtrl":"TimelineCtrl","./RingEffectProxy":"RingEffectProxy","./RoomController":"RoomController","./RuneContainer":"RuneContainer"}],RingEffectProxy:[function(t,e,n){"use strict";cc._RF.push(e,"ae838emn99Fh6iV6TqmBZdZ","RingEffectProxy"),Object.defineProperty(n,"__esModule",{value:!0}),n.RingEffectProxy=void 0;var o=t("../../configs/out/ECardOPAction"),r=t("../../Managers/GameManager"),i=t("../CardOpAreas/OPAreaCancel"),a=t("../CardOpAreas/OPAreaFull"),c=t("../CardOpAreas/OPAreaRune"),s=t("../CardOpAreas/OPAreaSector"),u=function(){function t(t){this.opAreas=[],this.ctrl=t}return t.prototype.enterCardEffect=function(t){var e=this,n=function(){var t=new i.default;t.data=r.default.getScene().cardCtrl.cardOPBanLine,e.opAreas.push(t)};switch(t.cfg.opAction){case o.ECardOPAction.AddRune:this.opAreas=[],this.opAreas.push(new s.default(this.ctrl.centerNode,0,0+this.ctrl.runeNodes[0].angleCrd,this.ctrl.radius,{startIdx:-1,endIdx:0}));for(var u=0;u<this.ctrl.runeNodes.length-1;u++){var l=0+this.ctrl.runeNodes[u].angleCrd,f=0+this.ctrl.runeNodes[u+1].angleCrd;this.opAreas.push(new s.default(this.ctrl.centerNode,l,f,this.ctrl.radius,{startIdx:u,endIdx:u+1}))}this.opAreas.push(new s.default(this.ctrl.centerNode,0+this.ctrl.runeNodes[this.ctrl.runeNodes.length-1].angleCrd,360,this.ctrl.radius,{startIdx:this.ctrl.runeNodes.length-1,endIdx:this.ctrl.runeNodes.length})),n();break;case o.ECardOPAction.SwapRune:for(this.opAreas=[],u=0;u<this.ctrl.runeNodes.length-1;u++)l=0+this.ctrl.runeNodes[u].angleCrd,f=0+this.ctrl.runeNodes[u+1].angleCrd,this.opAreas.push(new s.default(this.ctrl.centerNode,l,f,this.ctrl.radius,{startIdx:u,endIdx:u+1}));n();break;case o.ECardOPAction.DelRune:this.opAreas=[],this.ctrl.runeNodes.forEach(function(t){var n=new c.default;n.data=t,e.opAreas.push(n)}),n();break;case o.ECardOPAction.RandRune:this.opAreas=[],this.opAreas.push(new a.default),n()}},t.prototype.testOPArea=function(t){for(var e=0;e<this.opAreas.length;e++)if(this.opAreas[e].pointTest(t))return this.opAreas[e];return null},t.prototype.exitCardEffect=function(){this.opAreas=[]},t}();n.RingEffectProxy=u,cc._RF.pop()},{"../../Managers/GameManager":"GameManager","../../configs/out/ECardOPAction":"ECardOPAction","../CardOpAreas/OPAreaCancel":"OPAreaCancel","../CardOpAreas/OPAreaFull":"OPAreaFull","../CardOpAreas/OPAreaRune":"OPAreaRune","../CardOpAreas/OPAreaSector":"OPAreaSector"}],RingTimeline:[function(t,e,n){"use strict";cc._RF.push(e,"8c1c00mdI9AP4RQxeclETfO","RingTimeline");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(e,n,o){var r=t.call(this)||this;return r.ckKey="RingTimeLine",r.cycle=5,r.tickFunc=null,r.stepFunc=null,r.reverse=!1,r.process=0,r.timer=0,r.lastTimer=0,r.lastAllTimer=0,r.lastTriggerTimer=0,r.scale=1,r.cycle=1e3*e,r.tickFunc=n,r.stepFunc=o,r.enter(),r.lastTimer=-1e-4,r.timer=0,r.lastTriggerTimer=1e-4,r.lastAllTimer=0,r}return r(e,t),Object.defineProperty(e.prototype,"allTimer",{get:function(){return this.clock.allTimer/1e3},enumerable:!1,configurable:!0}),e.prototype.resetCycle=function(t){var e=this.lastTimer/this.cycle;this.cycle=t,this.timer=this.process*this.cycle,this.lastTimer=e*this.cycle},e.prototype.setReverse=function(t){this.reverse=t},e.prototype.setScale=function(t){this.scale=t},e.prototype.reset=function(){this.clock.reTimer(),this.lastTimer=-1e-4,this.timer=0,this.process=0,this.lastTriggerTimer=1e-4,this.lastAllTimer=0},e.prototype.onTick=function(){this.tickFunc&&this.tickFunc();var t=this.allTimer-this.lastAllTimer;this.lastAllTimer=this.allTimer,this.reverse?(this.timer-=t*this.scale,this.timer<0&&(this.timer+=this.cycle)):(this.timer+=t*this.scale,this.timer>=this.cycle&&(this.timer-=this.cycle)),(!this.reverse&&this.timer-this.lastTimer<0||this.reverse&&this.lastTimer-this.timer<0)&&this.onCycle(),this.process=this.timer/this.cycle,this.lastTimer=this.timer},e.prototype.onCycle=function(){this.stepFunc&&this.stepFunc()},e.prototype.setClock=function(t){this.timer=this.cycle*t},e}(t("./Timeline").default);n.default=i,cc._RF.pop()},{"./Timeline":"Timeline"}],RoomController:[function(t,e,n){"use strict";cc._RF.push(e,"06917GCxQFPAIEbm8TwYv1o","RoomController");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initGame=function(){},e.prototype.exitGame=function(){},e.prototype.onEnterRoom=function(){},e.prototype.onExitRoom=function(){},i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],RuneCfgConfigItem:[function(t,e,n){"use strict";cc._RF.push(e,"3fa230WoOZCQ5h2hEgxt5UC","RuneCfgConfigItem"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],RuneContainer:[function(t,e,n){"use strict";cc._RF.push(e,"523dcqWwBRCkYzV5Kg6qtYN","RuneContainer");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Managers/EventCenter"),c=t("../../Managers/GameManager"),s=t("../../Managers/PoolManager"),u=t("../../Managers/Res"),l=t("../../Static/EventConst"),f=t("../Model/RuneInfos/RuneNodeInfo"),p=t("./RuneCore"),h=cc._decorator,d=h.ccclass,y=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.angleCrd=0,e.timer=0,e}return r(e,t),Object.defineProperty(e.prototype,"anim",{get:function(){return this.getComponent(cc.Animation)},enumerable:!1,configurable:!0}),e.prototype.init=function(t,e,n,o,r){this.runeInfo=f.RuneNodeInfo.create(t,r),this.idx=e,this.all=n,this.angleCrd=o,this.refresh(),a.EC.on(l.E_onCycle,this.onCycle,this)},e.prototype.clear=function(){a.EC.off(l.E_onCycle,this.onCycle,this)},e.prototype.setInfo=function(t){this.runeInfo=t,this.refresh()},e.prototype.refresh=function(){this.core&&s.PM.Put(this.core.node);var t=s.PM.Get(u.default.Ins.getPrefab(this.runeInfo.prefabName));this.core=t.getComponent(p.default),t.setParent(this.runeFolder),t.setPosition(0,0,0),this.runeInfo.onInit(this.core)},e.prototype.isPassTriggerCd=function(t){var e=c.default.getScene().ring.interval/3;return!(t-this.timer<e)},e.prototype.onTrigger=function(t,e){this.timer=e,this.runeInfo.destory>0?(this.runeInfo.destory--,this.core.setData({destory:this.runeInfo.destory}),this.anim.play("runeTrigger"),this.runeInfo.onTrigger(t)):this.runeInfo.destory<0&&(this.anim.play("runeTrigger"),this.runeInfo.onTrigger(t)),0==this.runeInfo.destory&&a.EC.send(l.E_RuneDestory,this)},e.prototype.onCycle=function(){this.runeInfo.onCycle()},i([y(cc.Node)],e.prototype,"runeFolder",void 0),i([y(cc.Node)],e.prototype,"selectArea",void 0),i([d],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../Managers/EventCenter":"EventCenter","../../Managers/GameManager":"GameManager","../../Managers/PoolManager":"PoolManager","../../Managers/Res":"Res","../../Static/EventConst":"EventConst","../Model/RuneInfos/RuneNodeInfo":"RuneNodeInfo","./RuneCore":"RuneCore"}],RuneCore:[function(t,e,n){"use strict";cc._RF.push(e,"7c5a6FKatRIL46J4ER0iNjk","RuneCore");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.bg=null,e}return r(e,t),e.prototype.setData=function(t){t.icon&&(this.icon.spriteFrame=t.icon),t.bg&&(this.bg.spriteFrame=t.bg),t.val&&(this.val.string=t.val),t.destory&&(t.destory>0?(this.destoryNode.active=!0,this.destory.string=t.destory.toFixed()):this.destoryNode.active=!1)},i([s(cc.Sprite)],e.prototype,"icon",void 0),i([s(cc.Sprite)],e.prototype,"bg",void 0),i([s(cc.Label)],e.prototype,"val",void 0),i([s(cc.Label)],e.prototype,"destory",void 0),i([s(cc.Node)],e.prototype,"destoryNode",void 0),i([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],RuneNodeInfo:[function(t,e,n){"use strict";cc._RF.push(e,"aa5cdFMf05HBaeJUF/iTRij","RuneNodeInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.RuneNodeInfo=void 0;var o=t("../../../configs/out/ConfigMgr"),r=function(){function t(t){this.prefabName="NoneRuneCore",this.id=t}return Object.defineProperty(t.prototype,"cfg",{get:function(){return o.Config.RuneCfgConfig.get(this.id)},enumerable:!1,configurable:!0}),t.create=function(t,e){void 0===e&&(e=1);var n=o.Config.RuneCfgConfig.get(t),r=new(cc.js.getClassByName(o.Config.RuneTypeCfgConfig.get(n.runeType).className))(t);return r.val=e,r.destory=n.destory,r},t.prototype.onTrigger=function(){},t.prototype.onInit=function(t){var e=(this.val>0?"+":"-")+this.val;t.setData({val:e,destory:this.destory})},t.prototype.onRemove=function(){},t.prototype.onTrans=function(){},t.prototype.onCycle=function(){this.destory>0&&this.destory--},t}();n.RuneNodeInfo=r,cc._RF.pop()},{"../../../configs/out/ConfigMgr":"ConfigMgr"}],RuneOriginCfgConfigItem:[function(t,e,n){"use strict";cc._RF.push(e,"b4945QUc65Ndq5aCogTZxyN","RuneOriginCfgConfigItem"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],RuneTypeCfgConfigItem:[function(t,e,n){"use strict";cc._RF.push(e,"46538P+f/JKML7wWJlA2Esu","RuneTypeCfgConfigItem"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],SceneCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"20f30rrqBZC9Zk5kLZxZ1ug","SceneCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(t("../UI/UI")),l=cc._decorator,f=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoaded=!1,e}return r(e,t),e.prototype.load=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.fairyUI.length?[4,(new(0,this.fairyUI[t])).load()]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.clear=function(){for(var t=0;t<this.fairyUI.length;t++){var e=this.fairyUI[t];u.default.getUI(e).clear()}},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.enter=function(t){void 0===t&&(t=null)},e.prototype.exit=function(){},i([f],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../UI/UI":"UI"}],ScreenEffectMask:[function(t,e,n){"use strict";cc._RF.push(e,"634b1qGYT1Kragk0uGivIEf","ScreenEffectMask");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(t("../Managers/EffectManager")),l=cc._decorator,f=l.ccclass,p=l.property,h=function(t){function e(){var e=t.call(this)||this;return e.fadeMask=null,u.default.Ins.bindMaskCtrl(e),e}return r(e,t),e.prototype.onDestroy=function(){u.default.Ins.unBindMaskCtrl(this)},e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node)},e.prototype.fadeOut=function(t,e){return void 0===t&&(t=3),void 0===e&&(e=cc.Color.BLACK),a(this,void 0,void 0,function(){var n=this;return c(this,function(){return[2,new Promise(function(o){n.fadeMask.opacity=0,n.fadeMask.color=e,cc.tween(n.fadeMask).to(t,{opacity:255}).call(function(){return o()}).start()})]})})},e.prototype.setMaskAlpha=function(){return a(this,void 0,void 0,function(){return c(this,function(){return this.fadeMask.opacity=0,[2]})})},e.prototype.fadeIn=function(t,e,n){return void 0===t&&(t=3),void 0===e&&(e=cc.Color.BLACK),void 0===n&&(n=255),a(this,void 0,void 0,function(){var o=this;return c(this,function(){return[2,new Promise(function(r){o.fadeMask.opacity=n,o.fadeMask.color=e,cc.tween(o.fadeMask).to(t,{opacity:0}).call(function(){return r()}).start()})]})})},e.prototype.update=function(){this.node.setSiblingIndex(-1)},i([p(cc.Node)],e.prototype,"fadeMask",void 0),i([f],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Managers/EffectManager":"EffectManager"}],Setting:[function(t,e,n){"use strict";cc._RF.push(e,"c3441vJ3CRCdqgqq46zlfHe","Setting"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Managers/EventCenter"),r=t("../Managers/SoundManager"),i=t("./EventConst"),a=function(){function t(){}return Object.defineProperty(t,"isShake",{get:function(){return this._isShake},set:function(t){this._isShake=t,o.EC.send(i.E_RefreshSetting)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isActiveMusic",{get:function(){return r.SM.activeMusic},set:function(t){r.SM.switchMusic(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isActiveEffect",{get:function(){return r.SM.activeEffect},set:function(t){r.SM.switchEffect(t)},enumerable:!1,configurable:!0}),t._isShake=!1,t}();n.default=a,cc._RF.pop()},{"../Managers/EventCenter":"EventCenter","../Managers/SoundManager":"SoundManager","./EventConst":"EventConst"}],SoundManager:[function(t,e,n){"use strict";cc._RF.push(e,"74ec3w2rINIza+EZziVPaA0","SoundManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SM=n.Sound=n.SoundType=void 0;var i,a=t("../Utils/CocosExtension"),c=cc._decorator;c.ccclass,c.property,function(t){t.BGM="bgm_01",t.step="step",t.Pi="pi",t.Finish="finish",t.Dialog1="dialog1",t.Dialog2="dialog2",t.Dialog3="dialog3",t.Button="button",t.Angry1="angry1",t.Heng="heng",t.Dong="dong",t.Error="error",t.Bgm1="bgm1",t.Bgm2="bgm2",t.Yeah="yeah",t.Fireworks="yanhua",t.Train="trainHorn",t.Horn="horn"}(i=n.SoundType||(n.SoundType={}));var s=function(){};n.Sound=s;var u=function(){function t(){}return t.init=function(){this.registerSound(i.BGM),this.registerSound(i.step),this.registerSound(i.Pi),this.registerSound(i.Finish),this.registerSound(i.Dialog1),this.registerSound(i.Dialog2),this.registerSound(i.Dialog3),this.registerSound(i.Button),this.registerSound(i.Angry1),this.registerSound(i.Heng),this.registerSound(i.Dong),this.registerSound(i.Error),this.registerSound(i.Bgm1),this.registerSound(i.Bgm2),this.registerSound(i.Yeah),this.registerSound(i.Fireworks),this.registerSound(i.Horn),this.registerSound(i.Train)},Object.defineProperty(t,"activeMusic",{get:function(){return this._activeMusic},enumerable:!1,configurable:!0}),t.switchMusic=function(t){this._activeMusic=t,this.activeMusic&&this.curMusic?this.playMusicCore(this.curMusic,this.curMusicVolume):this.activeMusic||this.stopMusicCore()},Object.defineProperty(t,"activeEffect",{get:function(){return this._activeEffect},enumerable:!1,configurable:!0}),t.switchEffect=function(t){this._activeEffect=t,this.activeEffect?fairygui.UIConfig.buttonSoundVolumeScale=1:(fairygui.UIConfig.buttonSoundVolumeScale=0,this.stopEffect())},t.registerSound=function(t,e){if(void 0===e&&(e=!1),!this.soundMap.has(t)){var n="sound/"+t,o=new s;o.path=n,o.isEffect=e,this.soundMap.set(t,o)}},t.getClip=function(t){return o(this,void 0,Promise,function(){var e,n;return r(this,function(o){switch(o.label){case 0:return(e=this.audioMap.get(t))?[3,2]:null==(n=this.soundMap.get(t))?(console.error("type is not register: "+t+"  "+n+"  "+this.soundMap.size),[2]):[4,a.loadRes(cc.AudioClip,n.path)];case 1:e=o.sent(),o.label=2;case 2:return[2,e]}})})},t.playMusic=function(t,e){return void 0===e&&(e=1),o(this,void 0,void 0,function(){return r(this,function(){return this.curMusic=t,this.curMusicVolume=e,this._activeMusic?(this.playMusicCore(t,e),[2]):[2]})})},t.playClip=function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=1),o(this,void 0,void 0,function(){var o;return r(this,function(){return this._activeMusic?(this.stopMusicCore(),cc.audioEngine.getState(this.musicMap.get(t))==cc.audioEngine.AudioState.PLAYING?[2]:(o=cc.audioEngine.play(t,e,this.musicVolume*n),this.musicMap.set(t,o),[2])):[2]})})},t.playMusicCore=function(t,e){return void 0===e&&(e=1),o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:return this.stopMusicCore(),[4,this.getClip(t)];case 1:return n=r.sent(),cc.audioEngine.getState(this.musicMap.get(n))==cc.audioEngine.AudioState.PLAYING?[2]:(o=cc.audioEngine.play(n,!0,this.musicVolume*e),this.musicMap.set(n,o),[2])}})})},t.playEffect=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=1),o(this,void 0,void 0,function(){var o,i,a=this;return r(this,function(r){switch(r.label){case 0:return this.activeEffect?(console.log("play sound effect :"+t+"  "+e+"  "+n),[4,this.getClip(t)]):[2];case 1:return o=r.sent(),i=cc.audioEngine.play(o,e,this.effectVolume*n),this.effectMap.set(o,i),e||cc.audioEngine.setFinishCallback(i,function(){return a.effectMap.delete(o)}),[2]}})})},t.playEffectForId=function(t,e){return void 0===e&&(e=1),o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return this.activeEffect?(console.log("play sound effect :"+t+"  "+e),[4,this.getClip(t)]):[2];case 1:return n=o.sent(),[2,cc.audioEngine.play(n,!0,this.effectVolume*e)]}})})},t.stopEffectById=function(t){return o(this,void 0,void 0,function(){return r(this,function(){return cc.audioEngine.stop(t),[2]})})},t.getMusicIsPlay=function(t){return o(this,void 0,void 0,function(){var e,n;return r(this,function(o){switch(o.label){case 0:return e=this.soundMap.get(t),[4,this.getClip(t)];case 1:return(n=o.sent())?e.isEffect?[2,this.effectMap.has(n)]:[2,this.musicMap.has(n)]:[2,!1]}})})},t.stop=function(t){return o(this,void 0,void 0,function(){var e,n,o;return r(this,function(r){switch(r.label){case 0:return e=this.soundMap.get(t),[4,this.getClip(t)];case 1:if(!(n=r.sent()))return[2];if(o=0,e.isEffect){if(!this.effectMap.has(n))return[2];o=this.effectMap.get(n),this.effectMap.delete(n)}else{if(!this.musicMap.has(n))return[2];o=this.musicMap.get(n),this.musicMap.delete(n)}return cc.audioEngine.stop(o),[2]}})})},t.stopMusic=function(){return o(this,void 0,void 0,function(){return r(this,function(){return this.curMusic=null,this.stopMusicCore(),[2]})})},t.stopMusicCore=function(){return o(this,void 0,void 0,function(){return r(this,function(){return this.musicMap.forEach(function(t){cc.audioEngine.stop(t)}),this.musicMap.clear(),[2]})})},t.stopEffect=function(){return o(this,void 0,void 0,function(){return r(this,function(){return this.effectMap.forEach(function(t){cc.audioEngine.stop(t)}),this.effectMap.clear(),[2]})})},t.stopAll=function(){return o(this,void 0,void 0,function(){return r(this,function(){return cc.audioEngine.stopAll(),this.soundMap.clear(),this.musicMap.clear(),[2]})})},t.setVolume=function(t,e){var n=this.audioMap.get(t),o=this.soundMap.get(t);if(n){var r=0;if(o.isEffect){if(!this.effectMap.has(n))return;r=this.effectMap.get(n)}else{if(!this.musicMap.has(n))return;r=this.musicMap.get(n)}cc.audioEngine.setVolume(r,e)}},t.setAllVolume=function(t){this.setEffectVolume(t),this.setMusicVolume(t)},t.setMusicVolume=function(t){t<0&&(t=0),t>1&&(t=1),this.musicMap.forEach(function(e){cc.audioEngine.setVolume(e,t)}),this.musicVolume=t},t.setEffectVolume=function(t){t<0&&(t=0),t>1&&(t=1),this.effectMap.forEach(function(e){cc.audioEngine.setVolume(e,t)}),this.effectVolume=t},t.soundMap=new Map,t.audioMap=new Map,t.musicMap=new Map,t.effectMap=new Map,t.musicVolume=.8,t.effectVolume=.8,t._activeMusic=!0,t._activeEffect=!0,t}();n.SM=u,window.SM=u,cc._RF.pop()},{"../Utils/CocosExtension":"CocosExtension"}],StartLoading:[function(t,e,n){"use strict";cc._RF.push(e,"ddab8AZX0ZIrZq5CqXolNqX","StartLoading");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var p=t("../../Static/GameConfig"),h=f(t("../../Managers/GameManager")),d=t("../../Managers/PlatformManager"),y=t("../../Managers/PoolManager"),g=s(t("../../Managers/StorageManager")),_=f(t("./LoadingNode")),m=cc._decorator,v=m.ccclass,b=m.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.policyInited=!1,e}return r(e,t),e.prototype.onLoad=function(){this.registNumLbl.string="\u8f6f\u8457\u767b\u8bb0\u53f7\uff1a"+p.GameConfig.registration,this.copyrightOwner.string="\u8457\u4f5c\u6743\u4eba\uff1a"+p.GameConfig.copyrightOwner},e.prototype.showBtn=function(){this.startBtn.active=!0},e.prototype.hideBtn=function(){this.startBtn.active=!1},e.prototype.onClickStart=function(){var t,e=this;this.hidePolicy(),d.Plat.confirmPrivacy?(this.hideBtn(),g.default.Set(g.EStorageKey.agreePrivacy,!0),g.default.save(),h.default.Ins.start(),this.exit()):(null===(t=this.tipsTween)||void 0===t||t.stop(),this.tips.opacity=255,this.tipsTween=cc.tween(this.tips).delay(.5).to(.5,{opacity:0}).call(function(){return e.tipsTween=null}).start())},e.prototype.initPolicy=function(){return u(this,void 0,void 0,function(){var t,e,n,o;return l(this,function(r){switch(r.label){case 0:return[4,d.platformMix.getProtocolText()];case 1:return t=r.sent(),n=(e=function(t){return t.replaceAll("<p>","").replaceAll("</p>","\n").replaceAll("<b>","").replaceAll("</b>","\n").replaceAll("<span>","").replaceAll("</span>","").replaceAll('<a href="',"").replaceAll('" target="_blank">',"").replaceAll("<br />","\n").replaceAll("</a>","\n")})(t.privacyPolicyText),o=e(t.userPolicyText),this.privacyPolicyText=this.splitLongString(n,1e3),this.userPolicyText=this.splitLongString(o,1e3),(d.Plat.confirmPrivacy=g.default.Get(g.EStorageKey.agreePrivacy,!1))&&(this.policyToggle.isChecked=!0),this.policyInited=!0,console.log("\u83b7\u53d6\u9690\u79c1\u6743\u9650\uff1a",this.privacyPolicyText.length," ",this.userPolicyText.length),[2]}})})},e.prototype.setPolicyTxt=function(t){return u(this,void 0,void 0,function(){var e,n,o,r;return l(this,function(){for(e=[],o=0;o<this.policyContent.childrenCount;o++)e.push(this.policyContent.children[o]);for(e.forEach(function(t){return y.PM.Put(t)}),n=0,o=0;o<t.length;o++)(r=y.PM.Get(this.policyTxtPrefab).getComponent(cc.Label)).string=t[o],r.node.setParent(this.policyContent),r.node.x=0,n+=r.node.height;return this.scrollView.scrollToTop(),this.policyContent.height=n,[2]})})},e.prototype.splitLongString=function(t,e){if(void 0===e&&(e=1e3),t.length<=e)return[t];for(var n=[],o=0;o<t.length;o+=e)n.push(t.slice(o,o+e));return n},e.prototype.onClickPrivacy=function(){d.Plat.confirmPrivacy=!d.Plat.confirmPrivacy},e.prototype.onShowUserPolicy=function(){this.policyInited&&(this.setPolicyTxt(this.userPolicyText),console.log(this.userPolicyText),this.policyView.active=!0)},e.prototype.onShowPrivacyPolicy=function(){this.policyInited&&(this.setPolicyTxt(this.privacyPolicyText),console.log(this.privacyPolicyText),this.policyView.active=!0)},e.prototype.hidePolicy=function(){this.policyView.active=!1},c([b(cc.Node)],e.prototype,"startBtn",void 0),c([b(cc.Label)],e.prototype,"loadingLbl",void 0),c([b(cc.Node)],e.prototype,"tips",void 0),c([b(cc.Node)],e.prototype,"policyToggleNode",void 0),c([b(cc.Node)],e.prototype,"policyView",void 0),c([b(cc.Node)],e.prototype,"policyContent",void 0),c([b(cc.Prefab)],e.prototype,"policyTxtPrefab",void 0),c([b(cc.ScrollView)],e.prototype,"scrollView",void 0),c([b(cc.Toggle)],e.prototype,"policyToggle",void 0),c([b(cc.Label)],e.prototype,"registNumLbl",void 0),c([b(cc.Label)],e.prototype,"copyrightOwner",void 0),c([v],e)}(_.default);n.default=P,cc._RF.pop()},{"../../Managers/GameManager":"GameManager","../../Managers/PlatformManager":"PlatformManager","../../Managers/PoolManager":"PoolManager","../../Managers/StorageManager":"StorageManager","../../Static/GameConfig":"GameConfig","./LoadingNode":"LoadingNode"}],StateCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"a2ebeeWlDtPeryZ4Q/KlR+j","StateCtrl");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t){this.curState=t,this.stateFuncMap=new Map,this.transFuncMap=new Map}return t.prototype.bindState=function(t,e){return this.stateFuncMap.set(t,e),this},t.prototype.bindTrans=function(t,e,n){return this.transFuncMap.set({start:t,end:e},n),this},t.prototype.is=function(t){return this.curState==t},t.prototype.refresh=function(){var t=this.stateFuncMap.get(this.curState);return t&&t(),this},t.prototype.switchTo=function(t){return o(this,void 0,void 0,function(){var e,n,o,i,a;return r(this,function(r){switch(r.label){case 0:return e=this.curState,n=t,o=null,i=!1,this.transFuncMap.forEach(function(t,r){i||r.start==e&&r.end==n&&(i=!0,o=t)}),a=this.stateFuncMap.get(t),o?[4,o()]:[3,2];case 1:r.sent(),r.label=2;case 2:return a&&a(),this.curState=t,[2]}})})},t.prototype.refreshTo=function(t){var e=this.stateFuncMap.get(t);e&&e(),this.curState=t},t}();n.default=i,cc._RF.pop()},{}],StorageManager:[function(t,e,n){"use strict";cc._RF.push(e,"edcafSZWqFGoIyr3eQ+17di","StorageManager");var o,r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EStorageKey=void 0,function(t){t.version="version",t.pickaxeLv="pickaxeLv",t.coin="coin",t.resList="resList",t.mapLv="mapLv",t.timeRecord="timeRecord",t.passTutorial="passTutorial",t.fakePlayerNum="fakePlayerNum",t.fakePassNum="fakePassNum",t.coinNum="coinNum",t.energy="energy",t.energyTime="energyTime",t.challengeInfo="challengeInfo",t.finishedLevel="finishedLevel",t.totalRankInfo="TotalRankInfo",t.getSideBarReward="getSideBarReward",t.agreePrivacy="agreePrivacy",t.randLv1="randLv1",t.randLv1Pool="randLv1Pool",t.randLv2="randLv2",t.randLv2Pool="randLv2Pool",t.peopleSkins="peopleSkins",t.showGridCfg="showGridCfg",t.clock="clock",t.unlockEarthMax="unlockEarthMax",t.unlockPeople="unlockPeople"}(o=n.EStorageKey||(n.EStorageKey={}));var a=function(){function t(){}return t.save=function(){localStorage.setItem(o.version,"103");var t=[];this.dataMap.forEach(function(e,n){t.push({key:n,val:e})}),localStorage.setItem("StorageData",JSON.stringify(t)),console.warn("\u4fdd\u5b58\u5b58\u6863=====")},t.load=function(){return r(this,void 0,void 0,function(){var t,e,n;return i(this,function(){if(t=localStorage.getItem("StorageData"),e=t?JSON.parse(t):null,this.dataMap=new Map,e)for(n=0;n<e.length;n++)this.dataMap.set(e[n].key,e[n].val);return this.newVer()&&this.newVersion(),[2]})})},t.clear=function(){this.dataMap.clear(),localStorage.clear()},t.newVer=function(){var t=localStorage.getItem("version");return!!t&&"103"!=t},t.Set=function(t,e){this.dataMap.set(t,e)},t.Remove=function(t){this.dataMap.delete(t)},t.Get=function(t,e){return void 0===e&&(e=null),this.dataMap.has(t)?this.dataMap.get(t):e},t.newVersion=function(){for(var t=this.Get(o.peopleSkins,[1]),e=this.Get(o.unlockPeople,[]),n=0;n<t.length;n++)e.indexOf(t[n])<0&&e.push(t[n]);this.Set(o.unlockPeople,e)},t.dataMap=new Map,t}();n.default=a,window.Stor=a,cc._RF.pop()},{}],SwapRuneOP:[function(t,e,n){"use strict";cc._RF.push(e,"80517qlsbdLeawBlJSCWaA8","SwapRuneOP");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.SwapRuneOP=void 0;var a=t("./CardOPEffectBase"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.showTips=function(e,n){var o=this,r=n,i=function(t){return o.game.ring.crd2pos(o.game.ring.idx2crd(t,o.game.ring.runeNodes.length))},a=i(r.data.startIdx),c=-i(r.data.endIdx).sub(a).signAngle(cc.v2(1,0));t.prototype.showTips.call(this,e,n,180*c/Math.PI)},e.prototype.onEffect=function(t){var e=t;this.game.ring.swapRuneBy(e.data.startIdx,e.data.endIdx)},i([s("SwapRuneOP")],e)}(a.CardOPEffectBase));n.SwapRuneOP=u,cc._RF.pop()},{"./CardOPEffectBase":"CardOPEffectBase"}],TGATrack:[function(t,e,n){"use strict";cc._RF.push(e,"8187dJgF/VNxoPsuZxhmYlQ","TGATrack"),Object.defineProperty(n,"__esModule",{value:!0}),n.TK=n.ETrackType=void 0,function(t){t.level1Track="level1Track",t.level2Track="level2Track",t.level3Track="level3Track",t.actives="actives",t.gameTime="gameTime"}(n.ETrackType||(n.ETrackType={}));n.TK=function(){},cc._RF.pop()},{}],TimeUtil:[function(t,e,n){"use strict";cc._RF.push(e,"5a5d6dEl69GGKMjv4rmv3ud","TimeUtil");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./Managers/StorageManager")),s=cc._decorator,u=s.ccclass,l=(s.property,function(){function t(){}return t.updateTodayTime=function(){var t=Date.now();c.default.Set(c.EStorageKey.timeRecord,t),c.default.save()},t.time2str=function(t){var e=t%60;return Math.floor(t/60)+":"+(e<10?"0"+e.toFixed():e.toFixed())},t.diffTime=function(){return Date.now()-c.default.Get(c.EStorageKey.timeRecord,Date.now())},t.isToday=function(){var t=Date.now(),e=c.default.Get(c.EStorageKey.timeRecord,0);return this.isSameDay(t,e)},t.isSameDay=function(t,e){var n=new Date(1e3*t),o=new Date(1e3*e);return n.getFullYear()==o.getFullYear()&&n.getMonth()==o.getMonth()&&n.getDate()==o.getDate()},i([u],t)}());n.default=l,cc._RF.pop()},{"./Managers/StorageManager":"StorageManager"}],TimelineCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"c372bowO6dCXaGI51BFDcR/","TimelineCtrl"),Object.defineProperty(n,"__esModule",{value:!0}),n.TimelineCtrl=void 0;var o=function(){function t(){}return Object.defineProperty(t,"timeScale",{get:function(){return t._timeScale},set:function(e){t._timeScale=e,this.timeline.forEach(function(t){return t.setScale(e)})},enumerable:!1,configurable:!0}),t.addTimeline=function(e){t.timeline.push(e)},t.removeTimeline=function(e){var n=t.timeline.indexOf(e);n>=0&&t.timeline.splice(n,1)},t._timeScale=1,t.timeline=[],t}();n.TimelineCtrl=o,window.TimelineCtrl=o,cc._RF.pop()},{}],Timeline:[function(t,e,n){"use strict";cc._RF.push(e,"a4e18cfKL1PbZsmPD4774bc","Timeline");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("../../Managers/ClockManager")),a=t("./TimelineCtrl"),c=cc._decorator,s=c.ccclass,u=(c.property,function(){function t(){a.TimelineCtrl.addTimeline(this)}return t.prototype.enter=function(){this.clock=i.default.onLine(this.ckKey,this.cycle,this.onTick.bind(this),this.onStep.bind(this))},t.prototype.exit=function(){i.default.removeClock(this.ckKey)},t.prototype.onTick=function(){},t.prototype.onStep=function(){},t.prototype.setScale=function(t){this.clock.scale=t},o([s],t)}());n.default=u,cc._RF.pop()},{"../../Managers/ClockManager":"ClockManager","./TimelineCtrl":"TimelineCtrl"}],TimerManager:[function(t,e,n){"use strict";cc._RF.push(e,"99b6bWb2OdDA5ep1MlEbe89","TimerManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(t,e,n,o,r,i,a){this.timer=0,this.scaled=!0,this.pause=!1,this.key=t,this.time=e,this.loop=n,this.tick=o,this.end=r,this.finish=i,this.timer=0,this.scaled=a,this.pause=!1,this.loopTimer=n>=0?n:0},r=function(){function t(){this.map=new Map,this.stops=[]}return Object.defineProperty(t,"Ins",{get:function(){return null==this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.setTimer=function(t,e,n,r,i,a,c){void 0===e&&(e=0),void 0===i&&(i=1),void 0===c&&(c=!0),this.Ins.map.has(t)&&this.Ins.map.delete(t);var s=new o(t,e,i,r,n,a,c);this.Ins.map.set(t,s)},t.getProcess=function(t){if(this.Ins.map.has(t)){var e=this.Ins.map.get(t);return e.time>=0?e.timer/e.time:e.timer}return-1},t.isRunning=function(t){return this.Ins.map.has(t)},t.stopTimer=function(t){this.Ins.stops.push(t)},t.resetTimer=function(t){this.Ins.map.has(t)&&(this.Ins.map.get(t).timer=0)},t.setProcess=function(t,e){if(this.Ins.map.has(t)){var n=this.Ins.map.get(t);n.timer=n.time>=0?e*n.time:e}},t.setPause=function(t,e){this.Ins.map.has(t)&&(this.Ins.map.get(t).pause=e)},t.prototype.update=function(t,e){var n=this,o=[],r=[],i=[];this.stops.forEach(function(t){return n.map.delete(t)}),this.stops=[],this.map.forEach(function(t){o.push(t)}),o.forEach(function(n){n.pause||(n.time>=0?(n.timer+=n.scaled?t*e:t,n.timer<=n.time?n.tick&&n.tick(n.timer/n.time):n.loop<0?(r.push(n),n.timer=0,n.loopTimer++):n.loopTimer>1?(r.push(n),n.loopTimer--,n.timer=0):(r.push(n),i.push(n))):(n.timer+=n.scaled?t*e:t,n.tick&&n.tick(n.timer)))}),i.forEach(function(t){return n.map.delete(t.key)}),r.forEach(function(t){return t.end&&t.end(t.loopTimer)}),i.forEach(function(t){return t.finish&&t.finish()})},t.instance=null,t}();n.default=r,window.TM=r,cc._RF.pop()},{}],Toucher:[function(t,e,n){"use strict";cc._RF.push(e,"88ed3w180tPG7OkGE9lSyPf","Toucher"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.bindToucher=function(t){this.touchCtrl&&this.touchCtrl.onUnBind&&this.touchCtrl.onUnBind(),this.touchCtrl=t,this.touchCtrl&&this.touchCtrl.onBind&&this.touchCtrl.onBind()},t.unbindToucher=function(t){this.touchCtrl==t&&(this.touchCtrl=null)},t.block=function(){this.isBlock=!0},t.unblock=function(){this.isBlock=!1},t.blockCtrl=function(){var t;null===(t=this.touchCtrl)||void 0===t||t.block()},t.unblockCtrl=function(){var t;null===(t=this.touchCtrl)||void 0===t||t.unblock()},t.onTouch=function(t){var e;this.isBlock?console.warn("block toucher"):(this.touchCtrl||console.warn("\u6ca1\u6709\u7ed1\u5b9atoucher"),null===(e=this.touchCtrl)||void 0===e||e.onTouch(t))},t.onMove=function(t,e){var n;this.isBlock?console.warn("block toucher"):(this.touchCtrl||console.warn("\u6ca1\u6709\u7ed1\u5b9atoucher"),null===(n=this.touchCtrl)||void 0===n||n.onMove(t,e))},t.onEnd=function(t){var e;this.touchCtrl||console.warn("\u6ca1\u6709\u7ed1\u5b9atoucher"),null===(e=this.touchCtrl)||void 0===e||e.onEnd(t)},t.touchCtrl=null,t.isBlock=!1,t}();n.default=o,cc._RF.pop()},{}],UINode:[function(t,e,n){"use strict";cc._RF.push(e,"477e9Mpw/5In5reNMOgTaWh","UINode"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],UI_AdTips:[function(t,e,n){"use strict";cc._RF.push(e,"78859yATEBLnY4tsuUkxrrT","UI_AdTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","AdTips")},e.prototype.onConstruct=function(){this.m_idle=this.getTransitionAt(0)},e.URL="ui://nt2s7wbbh0va31",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_ConfirmPanel:[function(t,e,n){"use strict";cc._RF.push(e,"caf71r66HRE2JIeBDCZHjjF","UI_ConfirmPanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","ConfirmPanel")},e.prototype.onConstruct=function(){this.m_title=this.getChildAt(3),this.m_desc=this.getChildAt(4),this.m_cancel=this.getChildAt(5),this.m_confirm=this.getChildAt(6)},e.URL="ui://nt2s7wbbi8au46",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_EffectPanel:[function(t,e,n){"use strict";cc._RF.push(e,"5b8d3NvhElDiaO+CpReM6mr","UI_EffectPanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","EffectPanel")},e.prototype.onConstruct=function(){this.m_effectNode=this.getChildAt(0),this.m_center=this.getChildAt(1)},e.URL="ui://nt2s7wbbi8au47",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_Game:[function(t,e,n){"use strict";cc._RF.push(e,"0df37jq4p5LYYWk1FZfMvkh","UI_Game");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","Game")},e.prototype.onConstruct=function(){this.m_settingBtn=this.getChildAt(0),this.m_topUIPos=this.getChildAt(1),this.m_record=this.getChildAt(2),this.m_money=this.getChildAt(3),this.m_energy=this.getChildAt(4),this.m_t0=this.getTransitionAt(0),this.m_t1=this.getTransitionAt(1),this.m_tFinish=this.getTransitionAt(2),this.m_tIdle=this.getTransitionAt(3),this.m_tTutorialTips=this.getTransitionAt(4)},e.URL="ui://n4ubohg6ul651",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_Home:[function(t,e,n){"use strict";cc._RF.push(e,"8a460fsVHBNMLND7ZtcNUlF","UI_Home");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","Home")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0),this.m_t1=this.getTransitionAt(0),this.m_t2=this.getTransitionAt(1),this.m_t3=this.getTransitionAt(2)},e.URL="ui://ccvt37lvtvlp0",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_Modal:[function(t,e,n){"use strict";cc._RF.push(e,"cc646cVq5dB3KyJV26HxSQG","UI_Modal");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","Modal")},e.prototype.onConstruct=function(){this.m_modal=this.getChildAt(0)},e.URL="ui://nt2s7wbbdr2y1l",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_SettingPanel:[function(t,e,n){"use strict";cc._RF.push(e,"da2adNPe0NKhbxFeVqGfYKM","UI_SettingPanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","SettingPanel")},e.prototype.onConstruct=function(){this.m_menu=this.getChildAt(4),this.m_back=this.getChildAt(5),this.m_musicSwitch=this.getChildAt(6),this.m_effectSwitch=this.getChildAt(7),this.m_shakeSwitch=this.getChildAt(8),this.m_debugStart=this.getChildAt(9)},e.URL="ui://nt2s7wbbtvlp6",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_ShareVideo:[function(t,e,n){"use strict";cc._RF.push(e,"440a1cQJRZKRLo7i/rVhThZ","UI_ShareVideo");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","ShareVideo")},e.prototype.onConstruct=function(){this.m_confirm=this.getChildAt(1),this.m_cancel=this.getChildAt(2),this.m_hide2=this.getChildAt(3)},e.URL="ui://nt2s7wbbdr2y1v",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_TaskTips:[function(t,e,n){"use strict";cc._RF.push(e,"44c440c6rJMXqdKti9dY8km","UI_TaskTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","TaskTips")},e.prototype.onConstruct=function(){this.m_com=this.getChildAt(0),this.m_t0=this.getTransitionAt(0)},e.URL="ui://nt2s7wbbdr2y1m",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_TouchPad:[function(t,e,n){"use strict";cc._RF.push(e,"f8bc43CKo9Pd7plEceaUPAO","UI_TouchPad");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","TouchPad")},e.prototype.onConstruct=function(){this.m_touch=this.getChildAt(0)},e.URL="ui://nt2s7wbbl7dp2",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_energyCom:[function(t,e,n){"use strict";cc._RF.push(e,"e7d9dpEJRdAaJ8bYVjBAVdq","UI_energyCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","energyCom")},e.prototype.onConstruct=function(){this.m_time=this.getChildAt(2),this.m_num=this.getChildAt(4),this.m_addBtn=this.getChildAt(5)},e.URL="ui://nt2s7wbbdr2y1x",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_getCoin:[function(t,e,n){"use strict";cc._RF.push(e,"553b461g/pN87S3J4ThplOg","UI_getCoin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","getCoin")},e.prototype.onConstruct=function(){this.m_hide=this.getChildAt(0),this.m_confirm=this.getChildAt(2)},e.URL="ui://nt2s7wbbnh3pa",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_getEnergyCom:[function(t,e,n){"use strict";cc._RF.push(e,"39c44nr7yBIhJDMkGCDj7iE","UI_getEnergyCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","getEnergyCom")},e.prototype.onConstruct=function(){this.m_confirm=this.getChildAt(1),this.m_swap=this.getChildAt(2)},e.URL="ui://nt2s7wbbo3yz2c",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_getEnergy:[function(t,e,n){"use strict";cc._RF.push(e,"70b3e3zP5lF9ollo60Dya+7","UI_getEnergy");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","getEnergy")},e.prototype.onConstruct=function(){this.m_cFull=this.getControllerAt(0),this.m_hide=this.getChildAt(0),this.m_com=this.getChildAt(1),this.m_fullCom=this.getChildAt(2)},e.URL="ui://nt2s7wbbnbbj21",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_moneyCom:[function(t,e,n){"use strict";cc._RF.push(e,"a7e43/Y+whAPoPZBB1zdIgM","UI_moneyCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","moneyCom")},e.prototype.onConstruct=function(){this.m_num=this.getChildAt(2),this.m_addBtn=this.getChildAt(4)},e.URL="ui://nt2s7wbbdr2y1u",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_rare:[function(t,e,n){"use strict";cc._RF.push(e,"ebf0af+YoVDM6iLmb8xFmXh","UI_rare");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","rare")},e.prototype.onConstruct=function(){this.m_cRare=this.getControllerAt(0)},e.URL="ui://nt2s7wbblb2q3e",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_recordBtn:[function(t,e,n){"use strict";cc._RF.push(e,"8a7b5/9rzlD4K8MbucsJAuk","UI_recordBtn");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","recordBtn")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0),this.m_recordBtn=this.getChildAt(0)},e.URL="ui://nt2s7wbbo3yz2o",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_switchCom:[function(t,e,n){"use strict";cc._RF.push(e,"8d82f/0OStNBZ6mmoBhs+Kt","UI_switchCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","switchCom")},e.prototype.onConstruct=function(){this.m_cOpen=this.getControllerAt(0)},e.URL="ui://nt2s7wbbh0va2y",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_taskTipsCom:[function(t,e,n){"use strict";cc._RF.push(e,"9c6c3F7z55Ce6u3QXLWmIE/","UI_taskTipsCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","taskTipsCom")},e.prototype.onConstruct=function(){this.m_text=this.getChildAt(1)},e.URL="ui://nt2s7wbbdr2y1n",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI:[function(t,e,n){"use strict";cc._RF.push(e,"8c851v3rvxDjpKDRFU5QH2I","UI");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("../Managers/EventCenter")),i=o(t("./Common/U_Modal")),a=o(t("./Common/U_Setting")),c=o(t("./Common/U_TaskTips")),s=o(t("./Common/U_GetEnergy")),u=o(t("./Common/U_GetCoin")),l=o(t("./Common/U_ConfirmPanel")),f=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),t.getUI=function(t){return this.uiMap.get(t)},t.registUI=function(t,e){this.uiMap.set(t,e)},t.unregistUI=function(t){this.uiMap.delete(t)},t.clearUI=function(){this.uiMap.clear()},t.send=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];r.default.send("UIEvent_"+t,e)},t.on=function(t,e,n){r.default.on(t,e,n)},t.off=function(t,e,n){r.default.off(t,e,n)},t.tips=function(e){var n;null===(n=t.getUI(c.default))||void 0===n||n.setData(e)},t.confirm=function(e,n,o,r){var i;void 0===o&&(o="\u6e29\u99a8\u63d0\u793a"),void 0===r&&(r=function(){}),null===(i=t.getUI(l.default))||void 0===i||i.setData(e,n,o,r)},t.lackEnergy=function(){var e;null===(e=t.getUI(s.default))||void 0===e||e.show()},t.lackCoin=function(){var e;null===(e=t.getUI(u.default))||void 0===e||e.show()},t.block=function(){var e;null===(e=t.getUI(i.default))||void 0===e||e.show()},t.unblock=function(){var e;null===(e=t.getUI(i.default))||void 0===e||e.show()},t.pauseToSetting=function(){var e;null===(e=t.getUI(a.default))||void 0===e||e.show()},t.instance=null,t.uiMap=new Map,t}();n.default=f,window.UI=f,cc._RF.pop()},{"../Managers/EventCenter":"EventCenter","./Common/U_ConfirmPanel":"U_ConfirmPanel","./Common/U_GetCoin":"U_GetCoin","./Common/U_GetEnergy":"U_GetEnergy","./Common/U_Modal":"U_Modal","./Common/U_Setting":"U_Setting","./Common/U_TaskTips":"U_TaskTips"}],U_AdTips:[function(t,e,n){"use strict";cc._RF.push(e,"cfa3dgJkplHlpowqc/KycCC","U_AdTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("../FuiCom")),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"adTips"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),i([u],e)}(c.default));n.default=l,cc._RF.pop()},{"../FuiCom":"FuiCom"}],U_ConfirmPanel:[function(t,e,n){"use strict";cc._RF.push(e,"c40eaDm4I9J9beXdTLLSO6Q","U_ConfirmPanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=i(t("../FuiCom")),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"ConfirmPanel"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.setData=function(t,e,n,o){var r=this;void 0===n&&(n="\u6e29\u99a8\u63d0\u793a"),void 0===o&&(o=function(){}),this._view.m_cancel.clearClick(),this._view.m_cancel.onClick(function(){o&&o(),r.hide()}),this._view.m_confirm.clearClick(),this._view.m_confirm.onClick(function(){e&&e(),r.hide()}),this._view.m_title.text=n,this._view.m_desc.text=t,this.show(),a.default.backShow(this._view)},e}(a.default);n.default=c,cc._RF.pop()},{"../FuiCom":"FuiCom"}],U_EffectPanel:[function(t,e,n){"use strict";cc._RF.push(e,"7ed1ahy4sNDJbamlSbHA3I+","U_EffectPanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"EffectPanel"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!1,configurable:!0}),e}(i(t("../FuiCom")).default);n.default=a,cc._RF.pop()},{"../FuiCom":"FuiCom"}],U_Game:[function(t,e,n){"use strict";cc._RF.push(e,"645fcnF4nVFI5dHr3uAQJjN","U_Game");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("../../Managers/EventCenter")),s=t("../../Managers/PlatformManager"),u=t("../../Static/EventConst"),l=a(t("../Common/U_Setting")),f=a(t("../Common/U_TaskTips")),p=a(t("../Component/EnergyCom")),h=t("../Component/MoneyCom"),d=a(t("../FuiCom")),y=a(t("../UI")),g=cc._decorator,_=g.ccclass,m=(g.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Mini",comName:"Game"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!1,configurable:!0}),e.prototype.updateLevelTips=function(){},e.prototype.onFuiInit=function(){var t=this;this._view.m_record.onClick(function(){s.Plat.isInRecord?(y.default.getUI(f.default).setData("\u505c\u6b62\u5f55\u5236"),s.platformMix.stopRecord()):(y.default.getUI(f.default).setData("\u5f00\u59cb\u5f55\u5236"),s.platformMix.startRecord(30,!1,60)),t.refresh()}),this.moneyCom=new h.MoneyCom(this._view.m_money),this.energyCom=new p.default(this._view.m_energy),this._view.m_settingBtn.onClick(function(){y.default.getUI(l.default).show()})},e.prototype.popupTutorialTips=function(){var t=this;return new Promise(function(e){t._view.m_tTutorialTips.play(function(){return e()})})},e.prototype.show=function(){t.prototype.show.call(this),c.default.on(u.E_RefreshUI,this.refresh,this),c.default.on(u.E_InfoChange,this.refresh,this),c.default.on(u.E_RecordChange,this.refresh,this),c.default.on(u.E_RefreshDebug,this.refreshDebug,this),this.refreshDebug()},e.prototype.refreshDebug=function(){},e.prototype.hide=function(){t.prototype.hide.call(this),c.default.off(u.E_RefreshUI,this.refresh,this),c.default.off(u.E_RecordChange,this.refresh,this),c.default.off(u.E_InfoChange,this.refresh,this),c.default.off(u.E_RefreshDebug,this.refreshDebug,this)},e.prototype.tickRefresh=function(){this.energyCom.tickRefresh()},e.prototype.refresh=function(){this.moneyCom.refresh(),this.energyCom.refresh(),this._view.m_record.m_c1.selectedIndex=s.Plat.isInRecord?1:0},i([_],e)}(d.default));n.default=m,cc._RF.pop()},{"../../Managers/EventCenter":"EventCenter","../../Managers/PlatformManager":"PlatformManager","../../Static/EventConst":"EventConst","../Common/U_Setting":"U_Setting","../Common/U_TaskTips":"U_TaskTips","../Component/EnergyCom":"EnergyCom","../Component/MoneyCom":"MoneyCom","../FuiCom":"FuiCom","../UI":"UI"}],U_GetCoin:[function(t,e,n){"use strict";cc._RF.push(e,"5ce1a3lmhtL6qmRg7U1dSfu","U_GetCoin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=u(t("../../Managers/GameManager")),f=s(t("../../Managers/EventCenter")),p=t("../../Managers/PlatformManager"),h=t("../../Managers/SoundManager"),d=u(t("../FuiCom")),y=u(t("../UI")),g=u(t("./U_TaskTips")),_=cc._decorator,m=_.ccclass,v=(_.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"getCoin"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_confirm.onClick(function(){p.platformMix.showVideo(function(){l.default.Ins.coin+=1e3,f.default.send(f.E_InfoChange),h.SM.playEffect(h.SoundType.Finish),y.default.getUI(g.default).setData("\u83b7\u53d6\u6210\u529f")},function(){return y.default.getUI(g.default).setData("\u83b7\u53d6\u5931\u8d25")})}),this._view.m_hide.onClick(function(){t.hide()})},e.prototype.show=function(){t.prototype.show.call(this),d.default.backShow(this._view)},c([m],e)}(d.default));n.default=v,cc._RF.pop()},{"../../Managers/EventCenter":"EventCenter","../../Managers/GameManager":"GameManager","../../Managers/PlatformManager":"PlatformManager","../../Managers/SoundManager":"SoundManager","../FuiCom":"FuiCom","../UI":"UI","./U_TaskTips":"U_TaskTips"}],U_GetEnergy:[function(t,e,n){"use strict";cc._RF.push(e,"b39dduy0BdH3ZsJ9aXKAO6B","U_GetEnergy");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=s(t("../../Managers/GameManager")),f=s(t("../../Managers/EventCenter")),p=t("../../Managers/PlatformManager"),h=t("../../Managers/SoundManager"),d=u(t("../FuiCom")),y=u(t("../UI")),g=u(t("./U_GetCoin")),_=u(t("./U_TaskTips")),m=cc._decorator,v=m.ccclass,b=(m.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"getEnergy"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_com.m_confirm.onClick(function(){p.platformMix.showVideo(function(){l.default.Ins.energy+=1,h.SM.playEffect(h.SoundType.Finish),f.default.send(f.E_InfoChange),y.default.getUI(_.default).setData("\u83b7\u53d6\u6210\u529f"),t.hide()},function(){return y.default.getUI(_.default).setData("\u83b7\u53d6\u5931\u8d25")})}),this._view.m_hide.onClick(function(){return t.hide()}),this._view.m_com.m_swap.onClick(function(){if(l.default.Ins.coin<1e3)return y.default.getUI(g.default).show(),void y.default.getUI(_.default).setData("\u91d1\u5e01\u4e0d\u8db3");l.default.Ins.coin-=1e3,l.default.Ins.energy++,f.default.send(f.E_InfoChange),y.default.getUI(_.default).setData("\u5151\u6362\u6210\u529f"),t.hide()})},e.prototype.show=function(){t.prototype.show.call(this),this._view.m_cFull.selectedIndex=l.default.Ins.energy>=l.maxEnergy?1:0,d.default.backShow(this._view)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.tickRefresh=function(){},c([v],e)}(d.default));n.default=b,cc._RF.pop()},{"../../Managers/EventCenter":"EventCenter","../../Managers/GameManager":"GameManager","../../Managers/PlatformManager":"PlatformManager","../../Managers/SoundManager":"SoundManager","../FuiCom":"FuiCom","../UI":"UI","./U_GetCoin":"U_GetCoin","./U_TaskTips":"U_TaskTips"}],U_Home:[function(t,e,n){"use strict";cc._RF.push(e,"54cf2686ZBJgqEOlINwnsPm","U_Home");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("../FuiCom")),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Home",comName:"Home"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!0},enumerable:!1,configurable:!0}),i([u],e)}(c.default));n.default=l,cc._RF.pop()},{"../FuiCom":"FuiCom"}],U_Modal:[function(t,e,n){"use strict";cc._RF.push(e,"56d67ac/iNCnrHm3CbI69uw","U_Modal");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("../FuiCom")),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"modal"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),i([u],e)}(c.default));n.default=l,cc._RF.pop()},{"../FuiCom":"FuiCom"}],U_Setting:[function(t,e,n){"use strict";cc._RF.push(e,"cf06eW1OLFDi6/vlLe9gEo4","U_Setting");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(t("../../Managers/DebugManager")),l=t("../../Managers/EventCenter"),f=c(t("../../Managers/GameManager")),p=t("../../Managers/PlatformManager"),h=t("../../Managers/SoundManager"),d=t("../../Static/EventConst"),y=s(t("../../Static/Setting")),g=s(t("../FuiCom")),_=s(t("../UI")),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.debugTime=0,e}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"SettingPanel"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this;this._view.m_back.onClick(function(){t.hide()}),this._view.m_menu.onClick(function(){t.returnMenu()}),this._view.m_effectSwitch.onClick(function(){h.SM.switchEffect(!h.SM.activeEffect),t.refresh()}),this._view.m_musicSwitch.onClick(function(){h.SM.switchMusic(!h.SM.activeMusic),t.refresh()}),this._view.m_shakeSwitch.onClick(function(){y.default.isShake=!y.default.isShake,t.refresh()}),this._view.m_debugStart.onClick(function(){p.Plat.getParam(p.GMParamKey.showDebug)&&t.onClickDebugStart()})},e.prototype.hideMenuBtn=function(){this._view.m_menu.visible=!1},e.prototype.refresh=function(){this._view.m_effectSwitch.m_cOpen.selectedIndex=y.default.isActiveEffect?1:0,this._view.m_musicSwitch.m_cOpen.selectedIndex=y.default.isActiveMusic?1:0,this._view.m_shakeSwitch.m_cOpen.selectedIndex=y.default.isShake?1:0},e.prototype.onClickDebugStart=function(){this.debugTime++,this.debugTime>=5&&(u.default.isInDebug=!0,_.default.tips("\u8c03\u8bd5\u5df2\u5f00\u542f"),l.EC.send(d.E_RefreshDebug))},e.prototype.returnMenu=function(){f.default.Ins.jumpToScene(f.SceneName.home)},e}(g.default);n.default=m,cc._RF.pop()},{"../../Managers/DebugManager":"DebugManager","../../Managers/EventCenter":"EventCenter","../../Managers/GameManager":"GameManager","../../Managers/PlatformManager":"PlatformManager","../../Managers/SoundManager":"SoundManager","../../Static/EventConst":"EventConst","../../Static/Setting":"Setting","../FuiCom":"FuiCom","../UI":"UI"}],U_ShareVideo:[function(t,e,n){"use strict";cc._RF.push(e,"8968b0ggV1IVZBx9Vf+RPQD","U_ShareVideo");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Managers/PlatformManager"),s=a(t("../FuiCom")),u=cc._decorator,l=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"shareVideo"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_cancel.onClick(function(){return t.hide()}),this._view.m_hide2.onClick(function(){return t.hide()})},e.prototype.setData=function(t){this.show(),this._view.m_confirm.clearClick(),console.log("share video"),this._view.m_confirm.onClick(function(){c.platformMix.share({title:"\u9b54\u6027\u5c0f\u6e38\u620f\uff0c\u5728\u5395\u6240\u73a9\u90fd\u8e72\u9ebb\u4e86\uff01",channel:"video",extra:{videoPath:t.videoPath,withVideoId:!0}})})},i([l],e)}(s.default));n.default=f,cc._RF.pop()},{"../../Managers/PlatformManager":"PlatformManager","../FuiCom":"FuiCom"}],U_TaskTips:[function(t,e,n){"use strict";cc._RF.push(e,"478fdpqH11PG55aDHr4R0bI","U_TaskTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("../FuiCom")),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"TaskTips"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.setData=function(t){var e=this;this._view.m_t0.play(function(){return e.hide()}),this._view.m_com.m_text.text=t,this.show()},i([u],e)}(c.default));n.default=l,cc._RF.pop()},{"../FuiCom":"FuiCom"}],U_TouchPad:[function(t,e,n){"use strict";cc._RF.push(e,"0e75aU1aIxGpJUIfIfvIqcZ","U_TouchPad");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("../FuiCom")),s=a(t("../../Controller/TouchCtrl/Toucher")),u=cc._decorator,l=u.ccclass,f=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isBlockTouch=!1,e.isInTouch=!1,e}return r(e,t),Object.defineProperty(e.prototype,"active",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"TouchPad",exts:[]}},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){this._view.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this._view.on(fairygui.Event.TOUCH_BEGIN,this.onTouch,this),this._view.on(fairygui.Event.TOUCH_END,this.onTouchEnd,this)},e.prototype.block=function(){this.isBlockTouch=!0},e.prototype.unblock=function(){this.isBlockTouch=!1},e.prototype.onTouch=function(t){if(!this.isBlockTouch){var e=t.touch.getLocation();s.default.onTouch(e),this.isInTouch=!0}},e.prototype.onTouchEnd=function(t){if(!this.isBlockTouch){var e=t.touch.getLocation();this.isInTouch=!1,s.default.onEnd(e)}},e.prototype.onTouchMove=function(t){if(!this.isBlockTouch&&this.isInTouch){var e=t.getLocation(),n=t.getDelta();s.default.onMove(e,n)}},i([l],e)}(c.default));n.default=f,cc._RF.pop()},{"../../Controller/TouchCtrl/Toucher":"Toucher","../FuiCom":"FuiCom"}],Widget:[function(t,e,n){"use strict";cc._RF.push(e,"d9a79+6FLJDsqmewicM2nQt","Widget");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.privateNode=!0,e.nodesMap=new Map,e}var n;return r(e,t),n=e,e.prototype.getCom=function(t,e){var n=this.getNode(t);return n?n.getComponent(e):null},e.prototype.getNode=function(t){return this.nodesMap.get(t)||null},e.prototype.scan=function(){this.nodesMap=new Map,this.scanChild(this.node)},e.prototype.scanChild=function(t){var e=this;t.children.forEach(function(t){e.debugChild(t),t.name.length>0&&"_"==t.name[0]&&e.nodesMap.set(t.name,t);var o=t.getComponent(n);o&&o.privateNode||e.scanChild(t)})},e.prototype.debugChild=function(){},e.prototype.onLoad=function(){this.scan()},i([s],e.prototype,"privateNode",void 0),n=i([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],arraycollection:[function(t,e,n){"use strict";cc._RF.push(e,"a6871f9r3xF449ZLRRhMgOx","arraycollection"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){if(this.sizeNum=0,"number"==typeof t){if(t<0)throw new Error("is no arrayList index : "+t);this.elementData=new Array(t)}else this.constructor(10)}return t.prototype.add=function(t,e){"number"==typeof t?(this.ensureExplicitVapacity(),this.rangeCheck(t),this.elementData.splice(t,0,e),this.sizeNum++):(this.ensureExplicitVapacity(),this.elementData[this.sizeNum]=t,this.sizeNum++)},t.prototype.get=function(t){return this.rangeCheck(t),this.elementData[t]},t.prototype.contains=function(t){return-1!=this.elementData.indexOf(t)},t.prototype.clear=function(){this.elementData=[],this.sizeNum=0},t.prototype.update=function(t,e){this.rangeCheck(t),this.elementData[t]=e},t.prototype.remove=function(t){for(var e=!1,n=0;n<this.sizeNum;n++)this.get(n)===t&&(e=this.removeAt(n));if(0==e)return console.log("is no object?"),e},t.prototype.removeAt=function(t){return this.elementData.splice(t,1),this.sizeNum--,!0},t.prototype.size=function(){return this.sizeNum},t.prototype.rangeCheck=function(t){if(t>=this.sizeNum||t<0)throw new Error("is no index---\x3e"+t)},t.prototype.ensureExplicitVapacity=function(){if(this.elementData.length<this.sizeNum+1){var t=this.elementData.length,e=t+(t>>1);this.elementData.length=e}},t}();n.default=o,cc._RF.pop()},{}],collectutil:[function(t,e,n){"use strict";cc._RF.push(e,"db5dflPoP9JCINuazUNBX1t","collectutil"),Object.defineProperty(n,"__esModule",{value:!0}),n.MULTIPLE_INSTANCES_FOUND_MSG=n.ITEM_NOT_FOUND_MSG=n.objCompare=n.Group=void 0;var o=t("./list");n.Group=function(t,e){this.list=new o.List,this.groups=t,this.list=new o.List(e)},n.objCompare=function(t,e){return t==e},n.ITEM_NOT_FOUND_MSG="Item does not exist.",n.MULTIPLE_INSTANCES_FOUND_MSG="Multiple instances of entity found.",cc._RF.pop()},{"./list":"list"}],config:[function(t,e){"use strict";var n;cc._RF.push(e,"6c0dbKNXW1FabOgJpe9NGoD","config"),function(t){var e=function(t,n,o){var r=n[o];if(void 0===r)return t;if(0===r){for(var i=[],a=0,c=t.length;a<c;++a)i.push(e(t[a],n,o+1));return i}if(1===r){for(var s in i=new Map,t)i.set(s,e(t[s],n,o+1));return i}if(2===r){for(var s in i=new Map,t)i.set(parseInt(s),e(t[s],n,o+1));return i}return i=new r,Object.assign(i,t),i};(function(t){t[t.AddCoin=1]="AddCoin",t[t.AddExp=2]="AddExp"})(t.GameRewardType||(t.GameRewardType={}));var n=function(){};t.GameRewardData=n;var o=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.MapLevels=o;var r=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.Bus=r;var i=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.Challenge=i;var a=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.RandLevel1=a;var c=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.RandLevel2=c;var s=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.PeopleSkin=s;var u=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.People1=u;var l=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.Seat1=l;var f=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(o,r){for(var i in r||(t.list.length=0,t.map.clear()),o){var a=o[i],c=t.map.get(a.id),s=c||new t;Object.assign(s,a),a.dynamicArray&&(s.dynamicArray=e(a.dynamicArray,[0,n],0)),a.dynamicMap&&(s.dynamicMap=e(a.dynamicMap,[2,n],0)),a.enumMap&&(s.enumMap=e(a.enumMap,[1],0)),a.arrayMap&&(s.arrayMap=e(a.arrayMap,[0,1,0],0)),a.arrayMap2&&(s.arrayMap2=e(a.arrayMap2,[0,0,1],0)),a.dynamic&&(s.dynamic=e(a.dynamic,[n],0)),a.dynamicMapArray&&(s.dynamicMapArray=e(a.dynamicMapArray,[1,0,n],0)),a.dynamicArrayArray&&(s.dynamicArrayArray=e(a.dynamicArrayArray,[0,0,n],0)),a.enumKeyMap&&(s.enumKeyMap=e(a.enumKeyMap,[2,0],0)),c||(t.list.push(s),t.map.set(s.id,s))}},t.list=[],t.map=new Map,t}();t.Task=f,t.decodeConfig=function(t,e){for(var n in void 0===e&&(e=!1),t)"MapLevels"===n&&o.decode(t[n],e),"bus"===n&&r.decode(t[n],e),"Challenge"===n&&i.decode(t[n],e),"RandLevel1"===n&&a.decode(t[n],e),"RandLevel2"===n&&c.decode(t[n],e),"PeopleSkin"===n&&s.decode(t[n],e),"people1"===n&&u.decode(t[n],e),"seat1"===n&&l.decode(t[n],e),"task"===n&&f.decode(t[n],e)},t.configList=["GameRewardData","MapLevels","bus","Challenge","RandLevel1","RandLevel2","PeopleSkin","people1","seat1","task"]}(n||(n={})),window.config=n,cc._RF.pop()},{}],dictionary:[function(t,e,n){"use strict";cc._RF.push(e,"2f02cG+qlhIqY28MUCLdAuM","dictionary"),Object.defineProperty(n,"__esModule",{value:!0}),n.KeyValuePair=n.Dictionary=void 0;var o=t("./list"),r=t("./collectutil"),i=function(){function t(t){void 0===t&&(t=null),this.list=new Array,t&&(this.list=t)}return t.prototype.add=function(t,e){var n=new a(t,e);if(this.containsKey(t))throw"Duplicate key. Cannot add.";this.list.push(n)},t.prototype.addRange=function(t){var e=this;t.forEach(function(t){return e.add(t.key,t.value)})},t.prototype.clear=function(){this.list=new Array},t.prototype.remove=function(t){var e=new Array;this.list.forEach(function(n){t(n)||e.push(n)}),this.list=e},t.prototype.containsKey=function(t){return this.any(function(e){return r.objCompare(e.key,t)})},t.prototype.containsValue=function(t){return this.any(function(e){return r.objCompare(e.value,t)})},t.prototype.tryGetValue=function(t){var e=this.singleOrDefault(function(e){return r.objCompare(e.key,t)});return e?e.value:null},t.prototype.asEnumerable=function(){return this},Object.defineProperty(t.prototype,"length",{get:function(){return this.list.length},enumerable:!1,configurable:!0}),t.prototype.elementAt=function(t){try{return this.list[t]}catch(e){return null}},t.prototype.any=function(t){if(!t)return this.list.length>0;for(var e=0;e<this.list.length;e++)if(t(this.list[e]))return!0;return!1},t.prototype.all=function(t){if(!t)return this.list.length>0;for(var e=0;e<this.list.length;e++)if(!t(this.list[e]))return!1;return!0},t.prototype.single=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw r.ITEM_NOT_FOUND_MSG;if(t){var e=this.singleOrDefault(t);if(!e)throw r.ITEM_NOT_FOUND_MSG;return e}return this.list[0]},t.prototype.first=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw r.ITEM_NOT_FOUND_MSG;if(t){var e=this.firstOrDefault(t);if(!e)throw r.ITEM_NOT_FOUND_MSG;return e}return this.list[0]},t.prototype.last=function(t){if(this.list.length<=0)throw r.ITEM_NOT_FOUND_MSG;if(t){var e=this.lastOrDefault(t);if(!e)throw r.ITEM_NOT_FOUND_MSG;return e}return this.list[this.list.length-1]},t.prototype.singleOrDefault=function(t){var e=new Array;if(this.list.filter(function(n){t(n)&&e.push(n)}),e.length>1)throw r.MULTIPLE_INSTANCES_FOUND_MSG;return e.length<=0?null:e[0]},t.prototype.firstOrDefault=function(t){for(var e=0;e<this.length;e++){var n=this.list[e];if(t(n))return n}return null},t.prototype.lastOrDefault=function(t){for(var e=this.length;e>=0;e--){var n=this.list[e-1];if(t(n))return n}return null},t.prototype.where=function(e){var n=new t;return this.list.filter(function(t){e(t)&&n.add(t.key,t.value)}),n},t.prototype.select=function(t){var e=new o.List;return this.forEach(function(n){return e.add(t(n))}),e},t.prototype.forEach=function(t){this.list.forEach(function(e){return t(e)})},t.prototype.toArray=function(){return this.list},t.prototype.join=function(t,e,n,r,i){void 0===i&&(i=!1);var a=new o.List;return this.list.forEach(function(o){var c=t.toArray().filter(function(t){return e(o)===n(t)});i&&c&&c.length<=0?a.add(r(o,null)):c.forEach(function(t){return a.add(r(o,t))})}),a},t.prototype.groupBy=function(t){var e={};this.list.forEach(function(n){var o=JSON.stringify(t(n));e[o]=e[o]||[],e[o].push(n)});var n=Object.keys(e).map(function(t){var n=t.substr(1,t.length-2);return new r.Group(n.split(","),e[t])});return new o.List(n)},t.prototype.orderBy=function(t){var e=this.list.sort(function(e,n){return t.compare(e,n)});return new o.List(e)},t.prototype.distinct=function(t){var e=new o.List;return this.forEach(function(n){e.forEach(function(o){t.equals(n,o)||e.add(n)})}),e},t.prototype.union=function(t){return this.addRange(t.toArray()),this},t.prototype.skip=function(e){return e>0?new t(this.list.slice(e,this.list.length-1)):this},t.prototype.take=function(e){return e>0?new t(this.list.slice(0,e)):this},t.prototype.sum=function(t){var e=0;return this.list.forEach(function(n){return e+=t(n)}),e},t.prototype.avg=function(t){return this.sum(t)/this.length},t.prototype.min=function(t){var e=0,n=0;return this.list.forEach(function(o){if(0==n)e=t(o);else{var r=t(o);r<e&&(e=r)}n++}),e},t.prototype.max=function(t){var e=0,n=0;return this.list.forEach(function(o){if(0==n)e=t(o);else{var r=t(o);r>e&&(e=r)}n++}),e},t.prototype.count=function(t){if(void 0===t&&(t=null),!t)return this.length;var e=0;return this.list.forEach(function(n){t(n)&&e++}),e},t}();n.Dictionary=i;var a=function(t,e){this.key=t,this.value=e};n.KeyValuePair=a,cc._RF.pop()},{"./collectutil":"collectutil","./list":"list"}],interfaces:[function(t,e,n){"use strict";cc._RF.push(e,"1f7fc41HCxMBJn+WQrBQgwb","interfaces"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],list:[function(t,e,n){"use strict";cc._RF.push(e,"95a9bbn+wdD7pQUKgZXRTU6","list"),Object.defineProperty(n,"__esModule",{value:!0}),n.List=void 0;var o=t("./collectutil"),r=function(){function t(t){void 0===t&&(t=null),this.list=new Array,t&&(this.list=t)}return t.prototype.add=function(t){this.list.push(t)},t.prototype.addRange=function(t){var e=this;t.forEach(function(t){return e.add(t)})},t.prototype.remove=function(t){var e=new Array;this.list.forEach(function(n){t(n)||e.push(n)}),this.list=e},t.prototype.clear=function(){this.list=new Array},t.prototype.asEnumerable=function(){return this},Object.defineProperty(t.prototype,"length",{get:function(){return this.list.length},enumerable:!1,configurable:!0}),t.prototype.elementAt=function(t){try{return this.list[t]}catch(e){return null}},t.prototype.any=function(t){if(!t)return this.list.length>0;for(var e=0;e<this.list.length;e++)if(t(this.list[e]))return!0;return!1},t.prototype.all=function(t){if(!t)return this.list.length>0;for(var e=0;e<this.list.length;e++)if(!t(this.list[e]))return!1;return!0},t.prototype.single=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw o.ITEM_NOT_FOUND_MSG;if(t){var e=this.singleOrDefault(t);if(!e)throw o.ITEM_NOT_FOUND_MSG;return e}return this.list[0]},t.prototype.first=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw o.ITEM_NOT_FOUND_MSG;if(t){var e=this.firstOrDefault(t);if(!e)throw o.ITEM_NOT_FOUND_MSG;return e}return this.list[0]},t.prototype.last=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw o.ITEM_NOT_FOUND_MSG;if(t){var e=this.lastOrDefault(t);if(!e)throw o.ITEM_NOT_FOUND_MSG;return e}return this.list[this.list.length-1]},t.prototype.singleOrDefault=function(t){var e=new Array;if(this.list.filter(function(n){t(n)&&e.push(n)}),e.length>1)throw o.MULTIPLE_INSTANCES_FOUND_MSG;return e.length<=0?null:e[0]},t.prototype.firstOrDefault=function(t){for(var e=0;e<this.length;e++){var n=this.list[e];if(t(n))return n}return null},t.prototype.lastOrDefault=function(t){for(var e=this.length;e>=0;e--){var n=this.list[e-1];if(t(n))return n}return null},t.prototype.where=function(e){var n=new t;return this.list.filter(function(t){e(t)&&n.add(t)}),n},t.prototype.select=function(e){var n=new t;return this.forEach(function(t){return n.add(e(t))}),n},t.prototype.forEach=function(t){this.list.forEach(function(e){return t(e)})},t.prototype.toArray=function(){return this.list},t.prototype.join=function(e,n,o,r,i){void 0===i&&(i=!1);var a=new t;return this.list.forEach(function(t){var c=e.toArray().filter(function(e){return n(t)===o(e)});i&&c&&c.length<=0?a.add(r(t,null)):c.forEach(function(e){return a.add(r(t,e))})}),a},t.prototype.groupBy=function(e){var n={};return this.list.forEach(function(t){var o=JSON.stringify(e(t));n[o]=n[o]||[],n[o].push(t)}),new t(Object.keys(n).map(function(t){var e=t.substr(1,t.length-2);return new o.Group(e.split(","),n[t])}))},t.prototype.orderBy=function(e){return new t(this.list.sort(function(t,n){return e.compare(t,n)}))},t.prototype.union=function(t){return this.addRange(t.toArray()),this},t.prototype.distinct=function(e){var n=new t;return this.forEach(function(t){n.forEach(function(o){e.equals(t,o)||n.add(t)})}),n},t.prototype.skip=function(e){return e>0?new t(this.list.slice(e,this.list.length-1)):this},t.prototype.take=function(e){return e>0?new t(this.list.slice(0,e)):this},t.prototype.sum=function(t){var e=0;return this.list.forEach(function(n){return e+=t(n)}),e},t.prototype.avg=function(t){return this.sum(t)/this.length},t.prototype.min=function(t){var e=0,n=0;return this.list.forEach(function(o){if(0==n)e=t(o);else{var r=t(o);r<e&&(e=r)}n++}),e},t.prototype.max=function(t){var e=0,n=0;return this.list.forEach(function(o){if(0==n)e=t(o);else{var r=t(o);r>e&&(e=r)}n++}),e},t.prototype.count=function(t){if(void 0===t&&(t=null),!t)return this.length;var e=0;return this.list.forEach(function(n){t(n)&&e++}),e},t}();n.List=r,cc._RF.pop()},{"./collectutil":"collectutil"}]},{},["AutoSorting","Loading","LoadingNode","StartLoading","SceneCtrl","ScreenEffectMask","Toucher","OPAreaBase","OPAreaCancel","OPAreaFull","OPAreaRune","OPAreaSector","LevelCtrl","CardCfg","CardInfo","AddRuneOP","CardOPEffectBase","DelRuneOP","RandAddOP","SwapRuneOP","CardInvModel","EnemyInfo","IRuneResult","AtkMulRune","AttackPowerRune","AttackRune","AttackZeroRune","BlockMulRune","BlockPowerRune","BlockRune","BlockZeroRune","DelayRune","EndRune","EnergyRune","MulRune","NoneRune","PowerRune","RepeatRune","ReverseRune","RuneNodeInfo","CardContainer","CardCore","CardCtrl","CardOP","EnemyContainer","EnemyCtrl","PlayerCtrl","RingCtrl","RingEffectProxy","RoomController","RuneContainer","RuneCore","EnergyTimeline","RingTimeline","Timeline","TimelineCtrl","HomeCtrl","AnimatorAnimation","AnimatorCustomization","AnimatorDragonBones","AnimatorSpine","AnimatorSpineSecondary","AnimatorBase","AnimatorCondition","AnimatorController","AnimatorParams","AnimatorState","AnimatorStateLogic","AnimatorTransition","Main","AnimationManager","ClockManager","DBG","DebugManager","DialogManager","EffectManager","EventCenter","GameManager","GridManager","GuideManager","HashManager","LoginManager","MoveManager","PlatformManager","DebugPlatform","PoolManager","Res","SoundManager","StorageManager","TGATrack","TimerManager","Const","EventConst","GameConfig","GameEnum","LevelConfig","Setting","TimeUtil","CocosUINode","U_AdTips","U_ConfirmPanel","U_EffectPanel","U_GetCoin","U_GetEnergy","U_Modal","U_Setting","U_ShareVideo","U_TaskTips","U_TouchPad","EnergyCom","MoneyCom","FuiCom","UI","UINode","U_Game","U_Home","Widget","CocosExtension","CocosFixed","Defer","NumberFormatter","StateCtrl","arraycollection","collectutil","dictionary","interfaces","list","config","BaseConfig","CardCfgConfigItem","CardOPCfgConfigItem","CardSlotLevelConfigItem","ConfigMgr","ECardOPAction","ERuneType","EnemyConfigItem","RuneCfgConfigItem","RuneOriginCfgConfigItem","RuneTypeCfgConfigItem","CommonBinder","UI_AdTips","UI_ConfirmPanel","UI_EffectPanel","UI_Modal","UI_SettingPanel","UI_ShareVideo","UI_TaskTips","UI_TouchPad","UI_energyCom","UI_getCoin","UI_getEnergy","UI_getEnergyCom","UI_moneyCom","UI_rare","UI_recordBtn","UI_switchCom","UI_taskTipsCom","HomeBinder","UI_Home","MiniBinder","UI_Game"]);